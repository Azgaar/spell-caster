var pn=Object.defineProperty;var $n=(e,t,n)=>t in e?pn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var it=(e,t,n)=>$n(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function U(){}const dt=e=>e;function _n(e,t){for(const n in t)e[n]=t[n];return e}function Lt(e){return e()}function Mt(){return Object.create(null)}function me(e){e.forEach(Lt)}function Be(e){return typeof e=="function"}function ne(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let He;function yn(e,t){return e===t?!0:(He||(He=document.createElement("a")),He.href=t,e===He.href)}function bn(e){return Object.keys(e).length===0}function vn(e,...t){if(e==null){for(const r of t)r(void 0);return U}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function wn(e,t,n){e.$$.on_destroy.push(vn(t,n))}function Tt(e,t,n,r){if(e){const o=Ht(e,t,n,r);return e[0](o)}}function Ht(e,t,n,r){return e[1]&&r?_n(n.ctx.slice(),e[1](r(t))):n.ctx}function Ut(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const s=[],i=Math.max(t.dirty.length,o.length);for(let l=0;l<i;l+=1)s[l]=t.dirty[l]|o[l];return s}return t.dirty|o}return t.dirty}function Vt(e,t,n,r,o,s){if(o){const i=Ht(t,n,r,s);e.p(i,o)}}function Gt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function xt(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const Jt=typeof window<"u";let Kt=Jt?()=>window.performance.now():()=>Date.now(),ht=Jt?e=>requestAnimationFrame(e):U;const Ae=new Set;function Qt(e){Ae.forEach(t=>{t.c(e)||(Ae.delete(t),t.f())}),Ae.size!==0&&ht(Qt)}function Zt(e){let t;return Ae.size===0&&ht(Qt),{promise:new Promise(n=>{Ae.add(t={c:e,f:n})}),abort(){Ae.delete(t)}}}function h(e,t){e.appendChild(t)}function en(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function kn(e){const t=y("style");return t.textContent="/* empty */",Mn(en(e),t),t.sheet}function Mn(e,t){return h(e.head||e,t),t.sheet}function C(e,t,n){e.insertBefore(t,n||null)}function P(e){e.parentNode&&e.parentNode.removeChild(e)}function xn(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function Ze(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e){return document.createTextNode(e)}function z(){return Y(" ")}function tn(){return Y("")}function ee(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function f(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Sn(e){return Array.from(e.childNodes)}function ce(e,t){t=""+t,e.data!==t&&(e.data=t)}function En(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}const Je=new Map;let Ke=0;function Pn(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function zn(e,t){const n={stylesheet:kn(t),rules:{}};return Je.set(e,n),n}function nn(e,t,n,r,o,s,i,l=0){const a=16.666/r;let c=`{
`;for(let p=0;p<=1;p+=a){const w=t+(n-t)*s(p);c+=p*100+`%{${i(w,1-w)}}
`}const u=c+`100% {${i(n,1-n)}}
}`,m=`__svelte_${Pn(u)}_${l}`,$=en(e),{stylesheet:_,rules:g}=Je.get($)||zn($,e);g[m]||(g[m]=!0,_.insertRule(`@keyframes ${m} ${u}`,_.cssRules.length));const d=e.style.animation||"";return e.style.animation=`${d?`${d}, `:""}${m} ${r}ms linear ${o}ms 1 both`,Ke+=1,m}function ct(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?s=>s.indexOf(t)<0:s=>s.indexOf("__svelte")===-1),o=n.length-r.length;o&&(e.style.animation=r.join(", "),Ke-=o,Ke||Cn())}function Cn(){ht(()=>{Ke||(Je.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&P(t)}),Je.clear())})}let Ie;function qe(e){Ie=e}function An(){if(!Ie)throw new Error("Function called outside component initialization");return Ie}function rn(e){An().$$.on_mount.push(e)}const Ce=[],oe=[];let Ye=[];const St=[],Yn=Promise.resolve();let ft=!1;function Xn(){ft||(ft=!0,Yn.then(on))}function se(e){Ye.push(e)}const lt=new Set;let Pe=0;function on(){if(Pe!==0)return;const e=Ie;do{try{for(;Pe<Ce.length;){const t=Ce[Pe];Pe++,qe(t),Dn(t.$$)}}catch(t){throw Ce.length=0,Pe=0,t}for(qe(null),Ce.length=0,Pe=0;oe.length;)oe.pop()();for(let t=0;t<Ye.length;t+=1){const n=Ye[t];lt.has(n)||(lt.add(n),n())}Ye.length=0}while(Ce.length);for(;St.length;)St.pop()();ft=!1,lt.clear(),qe(e)}function Dn(e){if(e.fragment!==null){e.update(),me(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(se)}}function Nn(e){const t=[],n=[];Ye.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Ye=t}let Ne;function sn(){return Ne||(Ne=Promise.resolve(),Ne.then(()=>{Ne=null})),Ne}function Qe(e,t,n){e.dispatchEvent(En(`${t?"intro":"outro"}${n}`))}const Ge=new Set;let fe;function ue(){fe={r:0,c:[],p:fe}}function de(){fe.r||me(fe.c),fe=fe.p}function k(e,t){e&&e.i&&(Ge.delete(e),e.i(t))}function E(e,t,n,r){if(e&&e.o){if(Ge.has(e))return;Ge.add(e),fe.c.push(()=>{Ge.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const ln={duration:0};function et(e,t,n){const r={direction:"in"};let o=t(e,n,r),s=!1,i,l,a=0;function c(){i&&ct(e,i)}function u(){const{delay:$=0,duration:_=300,easing:g=dt,tick:d=U,css:p}=o||ln;p&&(i=nn(e,0,1,_,$,g,p,a++)),d(0,1);const w=Kt()+$,A=w+_;l&&l.abort(),s=!0,se(()=>Qe(e,!0,"start")),l=Zt(X=>{if(s){if(X>=A)return d(1,0),Qe(e,!0,"end"),c(),s=!1;if(X>=w){const O=g((X-w)/_);d(O,1-O)}}return s})}let m=!1;return{start(){m||(m=!0,ct(e),Be(o)?(o=o(r),sn().then(u)):u())},invalidate(){m=!1},end(){s&&(c(),s=!1)}}}function an(e,t,n){const r={direction:"out"};let o=t(e,n,r),s=!0,i;const l=fe;l.r+=1;let a;function c(){const{delay:u=0,duration:m=300,easing:$=dt,tick:_=U,css:g}=o||ln;g&&(i=nn(e,1,0,m,u,$,g));const d=Kt()+u,p=d+m;se(()=>Qe(e,!1,"start")),"inert"in e&&(a=e.inert,e.inert=!0),Zt(w=>{if(s){if(w>=p)return _(0,1),Qe(e,!1,"end"),--l.r||me(l.c),!1;if(w>=d){const A=$((w-d)/m);_(1-A,A)}}return s})}return Be(o)?sn().then(()=>{o=o(r),c()}):c(),{end(u){u&&"inert"in e&&(e.inert=a),u&&o.tick&&o.tick(1,0),s&&(i&&ct(e,i),s=!1)}}}function Xe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Rn(e,t){e.d(1),t.delete(e.key)}function qn(e,t){E(e,1,1,()=>{t.delete(e.key)})}function cn(e,t,n,r,o,s,i,l,a,c,u,m){let $=e.length,_=s.length,g=$;const d={};for(;g--;)d[e[g].key]=g;const p=[],w=new Map,A=new Map,X=[];for(g=_;g--;){const M=m(o,s,g),q=n(M);let B=i.get(q);B?X.push(()=>B.p(M,t)):(B=c(q,M),B.c()),w.set(q,p[g]=B),q in d&&A.set(q,Math.abs(g-d[q]))}const O=new Set,S=new Set;function b(M){k(M,1),M.m(l,u),i.set(M.key,M),u=M.first,_--}for(;$&&_;){const M=p[_-1],q=e[$-1],B=M.key,H=q.key;M===q?(u=M.first,$--,_--):w.has(H)?!i.has(B)||O.has(B)?b(M):S.has(H)?$--:A.get(B)>A.get(H)?(S.add(B),b(M)):(O.add(H),$--):(a(q,i),$--)}for(;$--;){const M=e[$];w.has(M.key)||a(M,i)}for(;_;)b(p[_-1]);return me(X),p}function T(e){e&&e.c()}function W(e,t,n){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),se(()=>{const s=e.$$.on_mount.map(Lt).filter(Be);e.$$.on_destroy?e.$$.on_destroy.push(...s):me(s),e.$$.on_mount=[]}),o.forEach(se)}function F(e,t){const n=e.$$;n.fragment!==null&&(Nn(n.after_update),me(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function In(e,t){e.$$.dirty[0]===-1&&(Ce.push(e),Xn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ke(e,t,n,r,o,s,i=null,l=[-1]){const a=Ie;qe(e);const c=e.$$={fragment:null,ctx:[],props:s,update:U,not_equal:o,bound:Mt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Mt(),dirty:l,skip_bound:!1,root:t.target||a.$$.root};i&&i(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},(m,$,..._)=>{const g=_.length?_[0]:$;return c.ctx&&o(c.ctx[m],c.ctx[m]=g)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](g),u&&In(e,m)),$}):[],c.update(),u=!0,me(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const m=Sn(t.target);c.fragment&&c.fragment.l(m),m.forEach(P)}else c.fragment&&c.fragment.c();t.intro&&k(e.$$.fragment),W(e,t.target,t.anchor),on()}qe(a)}class Me{constructor(){it(this,"$$");it(this,"$$set")}$destroy(){F(this,1),this.$destroy=U}$on(t,n){if(!Be(n))return U;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!bn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const jn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(jn);const ze=[];function On(e,t=U){let n;const r=new Set;function o(l){if(ne(e,l)&&(e=l,n)){const a=!ze.length;for(const c of r)c[1](),ze.push(c,e);if(a){for(let c=0;c<ze.length;c+=2)ze[c][0](ze[c+1]);ze.length=0}}}function s(l){o(l(e))}function i(l,a=U){const c=[l,a];return r.add(c),r.size===1&&(n=t(o,s)||U),l(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:o,update:s,subscribe:i}}const ve=On("canvas");function Bn(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function Wn(e){const t=e-1;return t*t*t+1}function Et(e,{delay:t=0,duration:n=400,easing:r=dt}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:s=>`opacity: ${s*o}`}}function Pt(e,{delay:t=0,duration:n=400,easing:r=Wn,x:o=0,y:s=0,opacity:i=0}={}){const l=getComputedStyle(e),a=+l.opacity,c=l.transform==="none"?"":l.transform,u=a*(1-i),[m,$]=xt(o),[_,g]=xt(s);return{delay:t,duration:n,easing:r,css:(d,p)=>`
			transform: ${c} translate(${(1-d)*m}${$}, ${(1-d)*_}${g});
			opacity: ${a-u*p}`}}function fn(e,{delay:t=0,speed:n,duration:r,easing:o=Bn}={}){let s=e.getTotalLength();const i=getComputedStyle(e);return i.strokeLinecap!=="butt"&&(s+=parseInt(i.strokeWidth)),r===void 0?n===void 0?r=800:r=s/n:typeof r=="function"&&(r=r(s)),{delay:t,duration:r,easing:o,css:(l,a)=>`
			stroke-dasharray: ${s};
			stroke-dashoffset: ${a*s};
		`}}function Fn(e){let t,n,r,o;const s=e[1].default,i=Tt(s,e,e[0],null);return{c(){t=y("div"),i&&i.c(),f(t,"aria-label","page container"),f(t,"class","flex w-full h-full")},m(l,a){C(l,t,a),i&&i.m(t,null),o=!0},p(l,[a]){e=l,i&&i.p&&(!o||a&1)&&Vt(i,s,e,e[0],o?Ut(s,e[0],a,null):Gt(e[0]),null)},i(l){o||(k(i,l),l&&se(()=>{o&&(r&&r.end(1),n=et(t,Et,{duration:Ue,delay:Ue}),n.start())}),o=!0)},o(l){E(i,l),n&&n.invalidate(),l&&(r=an(t,Et,{duration:Ue,delay:Ue})),o=!1},d(l){l&&P(t),i&&i.d(l),l&&r&&r.end()}}}const Ue=300;function Ln(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=s=>{"$$scope"in s&&n(0,o=s.$$scope)},[o,r]}class tt extends Me{constructor(t){super(),ke(this,t,Ln,Fn,ne,{})}}function Tn(e){let t,n,r,o;const s=e[3].default,i=Tt(s,e,e[2],null);return{c(){t=y("button"),i&&i.c(),f(t,"aria-current",e[1]),f(t,"class","p-2 bg-primary text-base font-fantasy text-light rounded transition duration-300 hover:bg-accent hover:shadow-glow aria-current:bg-accent/70")},m(l,a){C(l,t,a),i&&i.m(t,null),n=!0,r||(o=ee(t,"click",function(){Be(e[0])&&e[0].apply(this,arguments)}),r=!0)},p(l,[a]){e=l,i&&i.p&&(!n||a&4)&&Vt(i,s,e,e[2],n?Ut(s,e[2],a,null):Gt(e[2]),null),(!n||a&2)&&f(t,"aria-current",e[1])},i(l){n||(k(i,l),n=!0)},o(l){E(i,l),n=!1},d(l){l&&P(t),i&&i.d(l),r=!1,o()}}}function Hn(e,t,n){let{$$slots:r={},$$scope:o}=t,{onClick:s}=t,{current:i=null}=t;return e.$$set=l=>{"onClick"in l&&n(0,s=l.onClick),"current"in l&&n(1,i=l.current),"$$scope"in l&&n(2,o=l.$$scope)},[s,i,o,r]}class te extends Me{constructor(t){super(),ke(this,t,Hn,Tn,ne,{onClick:0,current:1})}}const we=Math.PI*2,Un=273,Vn=6,Gn=6,un=1e3;function he(e,t){this.x=e,this.y=t}function Jn(e,t,n,r){this.x=e,this.y=t,this.Width=n,this.Height=r}function at(e,t){this.Name=e,this.Points=rr(t,Kn);var n=or(this.Points);this.Points=dn(this.Points,-n),this.Points=sr(this.Points,Re),this.Points=ir(this.Points,Qn),this.Vector=lr(this.Points)}function zt(e,t,n){this.Name=e,this.Score=t,this.Time=n}const Kn=64,Re=250,Qn=new he(0,0),Zn=Math.sqrt(Re*Re+Re*Re),er=.5*Zn,Ct=hn(45),tr=hn(2),ae=.5*(-1+Math.sqrt(5));function nr(e){const t=Object.entries(e).map(([n,r])=>new at(n,r.map(([o,s])=>new he(o,s))));this.Recognize=function(n,r){for(var o=Date.now(),s=new at("",n),i=-1,l=1/0,a=0;a<t.length;a++){var c;r?c=ar(t[a].Vector,s.Vector):c=cr(s.Points,t[a],-Ct,+Ct,tr),c<l&&(l=c,i=a)}var u=Date.now();return i==-1?new zt(null,0,u-o):new zt(t[i].Name,r?1-l:1-l/er,u-o)},this.AddGesture=function(n,r){t[t.length]=new at(n,r);for(var o=0,s=0;s<t.length;s++)t[s].Name==n&&o++;return o}}function rr(e,t){for(var n=dr(e)/(t-1),r=0,o=new Array(e[0]),s=1;s<e.length;s++){var i=gt(e[s-1],e[s]);if(r+i>=n){var l=e[s-1].x+(n-r)/i*(e[s].x-e[s-1].x),a=e[s-1].y+(n-r)/i*(e[s].y-e[s-1].y),c=new he(l,a);o[o.length]=c,e.splice(s,0,c),r=0}else r+=i}return o.length==t-1&&(o[o.length]=new he(e[e.length-1].x,e[e.length-1].y)),o}function or(e){var t=mt(e);return Math.atan2(t.y-e[0].y,t.x-e[0].x)}function dn(e,t){for(var n=mt(e),r=Math.cos(t),o=Math.sin(t),s=[],i=0;i<e.length;i++){var l=(e[i].x-n.x)*r-(e[i].y-n.y)*o+n.x,a=(e[i].x-n.x)*o+(e[i].y-n.y)*r+n.y;s[s.length]=new he(l,a)}return s}function sr(e,t){for(var n=fr(e),r=[],o=0;o<e.length;o++){var s=e[o].x*(t/n.Width),i=e[o].y*(t/n.Height);r[r.length]=new he(s,i)}return r}function ir(e,t){for(var n=mt(e),r=[],o=0;o<e.length;o++){var s=e[o].x+t.x-n.x,i=e[o].y+t.y-n.y;r[r.length]=new he(s,i)}return r}function lr(e){for(var t=0,n=[],r=0;r<e.length;r++)n[n.length]=e[r].x,n[n.length]=e[r].y,t+=e[r].x*e[r].x+e[r].y*e[r].y;for(var o=Math.sqrt(t),r=0;r<n.length;r++)n[r]/=o;return n}function ar(e,t){for(var n=0,r=0,o=0;o<e.length;o+=2)n+=e[o]*t[o]+e[o+1]*t[o+1],r+=e[o]*t[o+1]-e[o+1]*t[o];var s=Math.atan(r/n);return Math.acos(n*Math.cos(s)+r*Math.sin(s))}function cr(e,t,n,r,o){for(var s=ae*n+(1-ae)*r,i=Ve(e,t,s),l=(1-ae)*n+ae*r,a=Ve(e,t,l);Math.abs(r-n)>o;)i<a?(r=l,l=s,a=i,s=ae*n+(1-ae)*r,i=Ve(e,t,s)):(n=s,s=l,i=a,l=(1-ae)*n+ae*r,a=Ve(e,t,l));return Math.min(i,a)}function Ve(e,t,n){var r=dn(e,n);return ur(r,t.Points)}function mt(e){let t=0,n=0;for(const r of e)t+=r.x,n+=r.y;return t/=e.length,n/=e.length,new he(t,n)}function fr(e){for(var t=1/0,n=-1/0,r=1/0,o=-1/0,s=0;s<e.length;s++)t=Math.min(t,e[s].x),r=Math.min(r,e[s].y),n=Math.max(n,e[s].x),o=Math.max(o,e[s].y);return new Jn(t,r,n-t,o-r)}function ur(e,t){for(var n=0,r=0;r<e.length;r++)n+=gt(e[r],t[r]);return n/e.length}function dr(e){for(var t=0,n=1;n<e.length;n++)t+=gt(e[n-1],e[n]);return t}function gt(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}function hn(e){return e*Math.PI/180}const ut={fireball:hr,lightning:mr,shadowStep:gr,frostWave:pr,star:$r,novaBlast:_r,wind:Mr,heal:br,wildMagic:kr,pillar:vr,shield:yr,missiles:wr};function mn(e,t,n){const r=t.getContext("2d");if(!r)return;const{width:o,height:s}=t;ut[e]({width:o,height:s,ctx:r,particles:n})}function hr({width:e,height:t,particles:n}){const r=e/2,o=t/2;for(let s=0;s<200;s++){const i=Math.random()*we,l=Math.random()*100;n.push({x:r+Math.cos(i)*l,y:o+Math.sin(i)*l,size:Math.random()*10+5,speedX:Math.cos(i)*(Math.random()*5+2),speedY:Math.sin(i)*(Math.random()*5+2),color:`hsl(${Math.random()*60+0}, 100%, 50%)`,life:200})}}function mr({width:e,height:t,ctx:n}){if(!n)return;const r=Math.random()*e,o=Math.random()*e;let s=0;for(n.strokeStyle="#00FFFF",n.lineWidth=3,n.beginPath(),n.moveTo(r,s);s<t;){const i=r+(o-r)*(s/t)+(Math.random()-.5)*50;n.lineTo(i,s),s+=10}n.stroke(),setTimeout(()=>n.clearRect(0,0,e,t),150)}function gr({width:e,height:t,particles:n}){const r=e/2,o=t/2,s=50;for(let i=0;i<200;i++){const l=Math.random()*we,a=r+Math.cos(l)*s,c=o+Math.sin(l)*s;n.push({x:a,y:c,size:Math.random()*5+2,speedX:Math.cos(l)*(Math.random()*5+2),speedY:Math.sin(l)*(Math.random()*5+2),color:`hsl(${Math.random()*60+240}, 100%, 50%)`,life:200})}}function pr({width:e,height:t,particles:n}){const r=t/2,o=e*1.5;for(let s=0;s<o;s+=5){const i=r+Math.sin(s*.05)*50;n.push({x:s,y:i,size:Math.random()*5+2,speedX:-2,speedY:Math.random()*2-1,color:`hsl(${180+Math.random()*60}, 100%, 80%)`,life:150})}}function $r({width:e,height:t,particles:n}){const r=e/2,o=t/2;for(let s=0;s<5;s++){const i=Math.PI*2/5*s;for(let l=0;l<20;l++){const a=Math.random()*100*l/20,c=r+Math.cos(i)*a*Math.random(),u=o+Math.sin(i)*a*Math.random();n.push({x:c,y:u,size:Math.random()*5+3,speedX:Math.cos(i)*4+Math.random()*2-1,speedY:Math.sin(i)*4+Math.random()*2-1,color:`hsl(${Math.random()*30}, 100%, 50%)`,life:100})}}}function _r({width:e,height:t,particles:n}){const r=e/2,o=t/2;for(let s=0;s<500;s++){const i=Math.random()*we,l=Math.random()*10+5;n.push({x:r,y:o,size:Math.random()*6+2,speedX:Math.cos(i)*l,speedY:Math.sin(i)*l,color:`hsl(${Math.random()*360}, 100%, 50%)`,life:200})}}function yr({width:e,height:t,particles:n}){const r=e/2,o=t/2,s=500;for(let i=r-s/2;i<r+s/2;i+=20)for(let l=o-s/2;l<o+s/2;l+=20)n.push({x:i,y:l,size:Math.random()*4+1,speedX:Math.random()*2-1,speedY:Math.random()*2-1,color:`hsl(${Math.random()*10+25}, 100%, 30%)`,life:200})}function br({width:e,height:t,particles:n}){for(let r=0;r<100;r++)n.push({x:Math.random()*e,y:Math.random()*t,size:Math.random()*5+2,speedX:Math.random()*2-1,speedY:Math.random()*2-1,color:`hsl(${Math.random()*60+120}, 100%, 50%)`,life:200})}function vr({width:e,height:t,particles:n}){for(let r=0;r<200;r++)n.push({x:e/2,y:Math.random()*t,size:Math.random()*5+2,speedX:Math.random()*2-1,speedY:Math.random()*2-1,color:`hsl(${Math.random()*60}, 100%, 50%)`,life:200})}function wr({width:e,height:t,particles:n}){const r=e/2,o=t/2;for(let s=0;s<5;s++){const i=Math.random()*we/2+we/5*s;for(let l=0;l<20;l++){const a=Math.random()*100;n.push({x:r,y:o,size:Math.random()*5+2,speedX:Math.cos(i)*a/20,speedY:Math.sin(i)*a/20,color:`hsl(${Math.random()*60+240}, 100%, 50%)`,life:200})}}}function kr({width:e,height:t,particles:n}){for(let r=0;r<300;r++)n.push({x:Math.random()*e,y:Math.random()*t,size:Math.random()*8+2,speedX:Math.random()*8-4,speedY:Math.random()*8-4,color:`hsl(${Math.random()*360}, 100%, 50%)`,life:150})}function Mr({width:e,height:t,particles:n}){const r=e/2;for(let o=0;o<100;o++)n.push({x:Math.random()*e-r,y:Math.random()*t,size:Math.random()*3+1,speedX:Math.random()*15+5,speedY:Math.random()*4-2,color:"rgba(100, 255, 255, 0.7)",life:150})}const je=[{name:"Fireball",stroke:"circle",minScore:.2,effect:"fireball",description:"A ball of fire that explodes on impact."},{name:"Dessintegrate",stroke:"x",minScore:.2,effect:"wildMagic",description:"A beam of energy that disintegrates anything in its path."},{name:"Earthen Shield",stroke:"rectangle",minScore:.2,effect:"shield",description:"A shield of earth that protects the caster."},{name:"Lightning Bolt",stroke:"zig-zag",minScore:.2,effect:"lightning",description:"A bolt of lightning that strikes the target."},{name:"Frost Wave",stroke:"triangle",minScore:.2,effect:"frostWave",description:"A wave of frost that freezes the target."},{name:"Wind Gust",stroke:"pigtail",minScore:.2,effect:"wind",description:"A gust of wind that pushes the target."},{name:"Nova Blast",stroke:"hourglass",minScore:.2,effect:"novaBlast",description:"A blast of energy that damages all enemies."},{name:"Missiles",stroke:"arrow",minScore:.2,effect:"missiles",description:"A barrage of missiles that strike the target."},{name:"Healing Light",stroke:"check",minScore:.2,effect:"heal",description:"A light that heals the target."},{name:"Summon Demon",stroke:"pentagram",minScore:.2,effect:"star",description:"A demon that fights for the caster."},{name:"Chronoshift",stroke:"left curly brace",minScore:.2,effect:"wind",description:"A shift in time that slows the target."},{name:"Shadow Step",stroke:"right curly brace",minScore:.2,effect:"shadowStep",description:"A step into the shadows that teleports the caster."},{name:"Pillar of Flame",stroke:"left square bracket",minScore:.2,effect:"pillar",description:"A pillar of flame that burns the target."}],Oe={triangle:[[100,40],[60,160],[140,160],[100,40]],x:[[60,60],[140,140],[100,100],[140,60],[60,140],[100,100]],rectangle:[[50,75],[150,75],[150,125],[50,125],[50,75]],circle:[[150,100],[147,119],[139,137],[125,150],[106,157],[85,157],[66,150],[50,137],[42,119],[39,100],[42,81],[50,63],[66,50],[85,43],[106,43],[125,50],[139,63],[147,81],[150,100]],check:[[60,110],[90,140],[140,70]],"zig-zag":[[50,125],[75,75],[100,125],[125,75],[150,125]],arrow:[[100,150],[100,70],[80,90],[120,90],[100,70]],"left square bracket":[[120,50],[80,50],[80,150],[120,150]],"right square bracket":[[80,50],[120,50],[120,150],[80,150]],v:[[70,60],[100,140],[130,60]],hourglass:[[70,50],[130,50],[70,150],[130,150],[70,50]],"left curly brace":[[20,20],[21,24],[23,28],[25,32],[28,36],[31,40],[35,43],[38,47],[41,51],[44,55],[46,59],[48,63],[49,67],[50,71],[50,75],[50,79],[50,83],[50,87],[50,91],[50,95],[50,99],[50,103],[50,107],[50,111],[50,115],[50,119],[50,123],[50,127],[50,131],[50,135],[49,139],[48,143],[46,147],[44,151],[41,155],[38,159],[35,163],[31,166],[28,170],[25,174],[23,178],[21,182],[20,186],[20,190],[21,194],[23,198],[25,202],[28,206],[31,210],[35,213]],"right curly brace":[[170,20],[173,22],[175,24],[177,26],[179,28],[180,30],[181,32],[182,34],[183,36],[183,38],[183,40],[183,42],[183,44],[182,46],[181,48],[180,50],[178,52],[176,54],[174,56],[171,58],[168,60],[165,62],[162,64],[159,66],[156,68],[154,70],[152,72],[151,74],[150,76],[150,78],[150,80],[150,82],[150,84],[150,86],[150,88],[150,90],[150,92],[150,94],[150,96],[150,98],[150,100],[150,102],[150,104],[150,106],[150,108],[150,110],[150,112],[150,114],[150,116],[150,118],[150,120],[150,122],[150,124],[150,126],[150,128],[150,130],[151,132],[152,134],[154,136],[156,138],[159,140],[162,142],[165,144],[168,146],[171,148],[174,150],[176,152],[178,154],[180,156],[181,158],[182,160],[183,162],[183,164],[183,166],[183,168],[183,170],[182,172],[181,174],[180,176],[179,178],[177,180],[175,182],[173,184],[170,186],[168,187],[166,188],[163,189],[161,190],[159,191],[157,192],[155,193],[153,194],[152,195],[151,196],[150,197],[150,198],[150,199],[150,200]],trigram:[[100,30],[110,114],[178,165],[100,132],[22,165],[90,114],[100,30]],cross:[[100,10],[110,90],[190,100],[110,110],[100,190],[90,110],[10,100],[90,90],[100,10]],pentagram:[[100,180],[53,35],[176,125],[24,125],[147,35],[100,180]],heptagram:[[100,24],[133,168],[41,53],[174,117],[26,117],[159,53],[67,168],[100,24]],octagram:[[100,24],[154,154],[24,100],[154,46],[100,176],[46,46],[176,100],[46,154],[100,24]],pigtail:[[80,100],[82,96],[84,93],[86,90],[88,87],[90,85],[92,83],[94,82],[96,81],[98,80],[100,80],[102,80],[104,81],[106,82],[108,83],[110,85],[112,87],[114,90],[116,93],[118,96],[120,100]],spiral:[[110,90],[112,91],[113,93],[115,95],[116,97],[116,100],[116,103],[115,106],[113,109],[111,111],[108,113],[105,115],[101,116],[97,116],[93,115],[90,114],[86,112],[83,109],[81,106],[79,102],[78,98],[78,94],[79,90],[80,86],[83,82],[86,79],[90,76],[94,74],[99,73],[104,73],[109,74],[114,76],[118,79],[123,83],[126,88],[129,93],[131,99],[132,105],[131,111],[129,117],[126,122],[122,127],[117,131],[111,134],[104,136],[97,136],[90,135],[83,133],[77,129],[72,124]],diamond:[[100,40],[130,100],[100,160],[70,100],[100,40]],heart:[[100,83],[100,82],[100,82],[100,81],[101,80],[101,78],[102,77],[103,75],[105,73],[107,71],[109,69],[111,67],[114,65],[118,63],[121,61],[125,60],[130,59],[134,59],[138,58],[143,58],[148,59],[152,60],[157,61],[161,63],[165,65],[168,67],[172,69],[174,72],[177,75],[178,78],[179,81],[180,85],[180,88],[179,91],[178,95],[176,98],[174,101],[171,104],[168,108],[164,111],[160,114],[156,117],[151,120],[147,122],[142,125],[138,128],[133,131],[129,133],[125,136],[121,138],[117,141],[114,143],[111,146],[108,148],[106,150],[104,152],[103,154],[102,155],[101,156],[101,158],[100,158],[100,159],[100,159],[100,159],[100,159],[100,159],[100,158],[99,157],[99,156],[98,155],[97,153],[95,151],[93,149],[91,147],[88,145],[85,143],[82,140],[78,138],[74,135],[70,132],[65,130],[61,127],[56,124],[52,121],[47,119],[43,116],[38,113],[35,110],[31,107],[28,103],[25,100],[23,97],[22,94],[20,90],[20,87],[20,84],[21,80],[22,77],[24,74],[27,71],[29,69],[33,66],[37,64],[41,62],[45,61],[49,59],[54,59],[58,58],[63,58],[68,59],[72,59],[76,60],[80,62],[83,63],[87,65],[89,67],[92,69],[94,71],[96,73],[97,75],[98,77],[99,79],[100,80],[100,81],[100,82],[100,82]],pentagon:[[100,50],[135,85],[115,135],[85,135],[65,85],[100,50]],kite:[[100,40],[130,100],[100,160],[70,100],[100,40]],crescent:[[120,100],[119.85,105.22],[119.4,110.42],[118.66,115.59],[117.63,120.71],[116.31,125.77],[114.71,130.75],[112.84,135.63],[110.71,140.39],[108.33,145.03],[105.71,149.51],[102.85,153.83],[99.77,157.97],[96.48,161.91],[92.99,165.63],[89.32,169.11],[85.47,172.33],[81.47,175.29],[77.32,177.95],[73.03,180.32],[68.62,182.36],[64.1,184.08],[59.48,185.46],[54.77,186.49],[50,187.16],[45.17,187.48],[40.3,187.43],[35.41,187.02],[30.51,186.24],[25.6,185.1],[20.71,183.58],[15.85,181.7],[11.03,179.46],[6.27,176.86],[1.57,173.91],[97.43,100],[97.57,95.23],[96.43,90.53],[95.01,85.93],[93.29,81.41],[91.3,76.98],[89.03,72.66],[86.48,68.44],[83.66,64.33],[80.57,60.36],[77.23,56.51],[73.62,52.8],[69.78,49.24],[65.68,45.82],[61.36,42.57],[56.83,39.48],[52.08,36.57],[47.14,33.84],[42,31.29],[36.68,28.94],[31.19,26.79],[25.56,24.84],[19.77,23.1],[13.86,21.58],[7.83,20.27],[1.62,19.18],[1.62,80.82],[7.83,79.73],[13.86,78.42],[19.77,77.22],[25.56,76.16],[31.19,75.21],[36.68,74.39],[42,73.7],[47.14,73.14],[52.08,72.72],[56.83,72.44],[61.36,72.3],[65.68,72.3],[69.78,72.46],[73.62,72.76],[77.23,73.22],[80.57,73.83],[83.66,74.59],[86.48,75.5],[89.03,76.56],[91.3,77.77],[93.29,79.12],[95.01,80.61],[96.43,82.22]],triquetra:[[100,60],[85,100],[100,140],[115,100],[100,60],[80,80],[120,80],[100,60],[80,120],[120,120],[100,140]],infinity:[[70,100],[50,80],[70,60],[100,70],[130,60],[150,80],[130,100],[100,90],[70,100],[50,120],[70,140],[100,130],[130,140],[150,120],[130,100]],chalise:[[85,50],[115,50],[100,100],[80,140],[120,140],[100,160],[100,140]],ankh:[[100,50],[90,70],[100,90],[110,70],[100,50],[100,90],[100,150],[90,170],[110,170],[100,150]],hexagram:[[100,50],[115,80],[85,80],[100,50],[100,150],[85,120],[115,120],[100,150],[70,100],[130,100],[70,100],[85,120],[130,100],[115,120],[85,80],[115,80]],droplet:[[100,50],[120,80],[140,120],[100,160],[60,120],[80,80],[100,50]],pique:[[100,50],[80,90],[70,110],[100,140],[130,110],[120,90],[100,50],[90,140],[110,140],[100,170],[90,160],[110,160],[100,170]],trefle:[[0,0]],keyhole:[[0,0]],"carolingian-cross":[[0,0]]};function xr(e){let t;return{c(){t=Y("Clear all")},m(n,r){C(n,t,r)},d(n){n&&P(t)}}}function Sr(e){let t;return{c(){t=Y("Spellbook")},m(n,r){C(n,t,r)},d(n){n&&P(t)}}}function Er(e){let t;return{c(){t=Y("Strokes")},m(n,r){C(n,t,r)},d(n){n&&P(t)}}}function Pr(e){let t;return{c(){t=Y("Effects")},m(n,r){C(n,t,r)},d(n){n&&P(t)}}}function zr(e){let t,n,r,o,s,i,l,a,c,u,m,$,_,g,d,p,w,A,X,O,S,b,M,q,B,H,ie;return p=new te({props:{onClick:e[9],$$slots:{default:[xr]},$$scope:{ctx:e}}}),A=new te({props:{onClick:e[14],$$slots:{default:[Sr]},$$scope:{ctx:e}}}),O=new te({props:{onClick:e[15],$$slots:{default:[Er]},$$scope:{ctx:e}}}),b=new te({props:{onClick:e[16],$$slots:{default:[Pr]},$$scope:{ctx:e}}}),{c(){t=y("main"),n=y("canvas"),r=z(),o=y("canvas"),s=z(),i=y("canvas"),l=z(),a=y("aside"),c=y("img"),m=z(),$=y("div"),_=Y(e[4]),g=z(),d=y("div"),T(p.$$.fragment),w=z(),T(A.$$.fragment),X=z(),T(O.$$.fragment),S=z(),T(b.$$.fragment),M=z(),q=y("blockquote"),q.textContent=`${Ar}`,f(n,"id","main-canvas"),f(n,"class","absolute inset-0"),f(o,"id","particle-canvas"),f(o,"class","absolute inset-0 pointer-events-none"),f(i,"id","effect-canvas"),f(i,"class","absolute inset-0 pointer-events-none"),f(t,"id","canvas-container"),f(t,"class","relative flex-1 cursor-cross"),f(c,"id","portrait"),yn(c.src,u="mage.webp")||f(c,"src",u),f(c,"alt","mage"),f(c,"draggable","false"),f(c,"class","shadow-primary rounded-full w-48 h-48 mx-auto border-[3px] border-primary"),f($,"id","comment"),f($,"class","text-xl min-h-16 text-center text-shadow"),f(d,"id","control-buttons"),f(d,"class","flex flex-col gap-2"),f(q,"class","m-0 p-4 rounded italic bg-primary/30"),f(a,"class","p-5 flex flex-col gap-4 flex-[0_0_var(--aside-width)] overflow-y-auto select-none bg-surface border-l-2 border-primary")},m(D,L){C(D,t,L),h(t,n),e[10](n),h(t,r),h(t,o),e[11](o),h(t,s),h(t,i),e[12](i),e[13](t),C(D,l,L),C(D,a,L),h(a,c),h(a,m),h(a,$),h($,_),h(a,g),h(a,d),W(p,d,null),h(d,w),W(A,d,null),h(d,X),W(O,d,null),h(d,S),W(b,d,null),h(a,M),h(a,q),B=!0,H||(ie=[ee(n,"mousedown",e[6]),ee(n,"touchstart",e[6]),ee(n,"mousemove",e[7]),ee(n,"touchmove",e[7]),ee(n,"mouseup",e[8]),ee(n,"touchend",e[8],{passive:!0})],H=!0)},p(D,L){(!B||L[0]&16)&&ce(_,D[4]);const Q={};L[1]&2&&(Q.$$scope={dirty:L,ctx:D}),p.$set(Q);const ge={};L[1]&2&&(ge.$$scope={dirty:L,ctx:D}),A.$set(ge);const re={};L[1]&2&&(re.$$scope={dirty:L,ctx:D}),O.$set(re);const le={};L[1]&2&&(le.$$scope={dirty:L,ctx:D}),b.$set(le)},i(D){B||(k(p.$$.fragment,D),k(A.$$.fragment,D),k(O.$$.fragment,D),k(b.$$.fragment,D),B=!0)},o(D){E(p.$$.fragment,D),E(A.$$.fragment,D),E(O.$$.fragment,D),E(b.$$.fragment,D),B=!1},d(D){D&&(P(t),P(l),P(a)),e[10](null),e[11](null),e[12](null),e[13](null),F(p),F(A),F(O),F(b),H=!1,me(ie)}}}function Cr(e){let t,n,r,o;return t=new tt({props:{$$slots:{default:[zr]},$$scope:{ctx:e}}}),{c(){T(t.$$.fragment)},m(s,i){W(t,s,i),n=!0,r||(o=ee(window,"resize",e[5]),r=!0)},p(s,i){const l={};i[0]&31|i[1]&2&&(l.$$scope={dirty:i,ctx:s}),t.$set(l)},i(s){n||(k(t.$$.fragment,s),n=!0)},o(s){E(t.$$.fragment,s),n=!1},d(s){F(t,s),r=!1,o()}}}const Ar="Happiness can be found, even in the darkest of times, if one only remembers to turn on the light.";function At(e){if(e instanceof MouseEvent)return[e.offsetX,e.offsetY];const t=e.touches[0];return[t.clientX,t.clientY]}function Yr(e,t){return t>=.95?`You cast ${e.name}! Excellent quality!`:t>=.85?`You cast ${e.name}! Great job!`:t>=.75?`Good job! ${e.name} casted!`:t>=.65?`${e.name} casted, but could be better.`:t>=.55?`${e.name} casted, but needs improvement.`:t>=.45?`Meh, ${e.name} must be cleaner.`:t>=.35?`Poor casting of ${e.name}. Try again!`:t>=.25?`Awful casting of ${e.name}. Try harder!`:t>=.15?`Just terrible, even my grandma can cast ${e.name} better`:`You're a disgrace to all wizards. ${e.name} is beyond your abilities.`}function Xr(e,t,n){let r,o,s,i,l,a,c,u="Draw a magical symbol to cast a spell!",m=!1,$=0,_=0,g=[],d=[];const{Recognize:p}=new nr(Oe);rn(()=>{w(),A()});function w(){[l,a,c].forEach(v=>{v.width=i.offsetWidth,v.height=i.offsetHeight})}function A(){b(),ie(),requestAnimationFrame(A)}function X(v){m=!0;const[N,I]=At(v);[$,_]=[N,I],g.push({x:$,y:_}),H({x:$,y:_,size:3,speedX:4,speedY:4,life:30})}function O(v){if(!r||!m)return;const[N,I]=At(v);r.beginPath(),r.moveTo($,_),r.lineTo(N,I),r.strokeStyle=`hsla(${Un}, 100%, 50%, 1)`,r.lineWidth=4,r.lineCap="round",r.stroke();const G=$+(N-$),pe=_+(I-_);H({x:G,y:pe,size:3,speedX:4,speedY:4,life:30}),[$,_]=[N,I],g.push({x:N,y:I})}function S(){m=!1,M(g),B(g),g=[]}function b(){if(!l||!r||m)return;const v=r.getImageData(0,0,l.width,l.height),N=v.data;for(let I=3;I<N.length;I+=4)N[I]>0&&(N[I]-=Vn);r.putImageData(v,0,0)}function M(v){v.forEach(({x:N,y:I})=>{H({x:N,y:I,size:2,speedX:2,speedY:2,life:50})})}function q(){r==null||r.clearRect(0,0,l.width,l.height),o==null||o.clearRect(0,0,a.width,a.height),s==null||s.clearRect(0,0,c.width,c.height),g=[],d=[],n(4,u="Draw a magical symbol to cast a spell!")}function B(v){if(v.length<Gn)return;const N=p(v,!0);console.info(N);const I=je.find(G=>G.stroke===N.Name&&N.Score>=G.minScore);if(!I){n(4,u="You failed to cast a spell!");return}n(4,u=Yr(I,N.Score)),mn(I.effect,c,d)}function H({x:v,y:N,size:I,speedX:G,speedY:pe,life:xe}){d.push({x:v,y:N,size:Math.random()*I+2,speedX:Math.random()*G-G/2,speedY:Math.random()*pe-pe/2,color:`hsl(${Math.random()*60+240}, 100%, 50%)`,life:xe})}function ie(){!a||!o||(o.clearRect(0,0,a.width,a.height),d.forEach((v,N)=>{v.x+=v.speedX,v.y+=v.speedY,v.life--,v.size*=.99,o.fillStyle=v.color,o.beginPath(),o.arc(v.x,v.y,v.size,0,we),o.fill(),(v.life<=0||v.size<.1)&&d.splice(N,1)}))}function D(v){oe[v?"unshift":"push"](()=>{l=v,n(0,l)})}function L(v){oe[v?"unshift":"push"](()=>{a=v,n(1,a)})}function Q(v){oe[v?"unshift":"push"](()=>{c=v,n(2,c)})}function ge(v){oe[v?"unshift":"push"](()=>{i=v,n(3,i)})}const re=()=>ve.set("spellbook"),le=()=>ve.set("strokes"),We=()=>ve.set("effects");return e.$$.update=()=>{e.$$.dirty[0]&1&&(r=l==null?void 0:l.getContext("2d")),e.$$.dirty[0]&2&&(o=a==null?void 0:a.getContext("2d")),e.$$.dirty[0]&4&&(s=c==null?void 0:c.getContext("2d"))},[l,a,c,i,u,w,X,O,S,q,D,L,Q,ge,re,le,We]}class Dr extends Me{constructor(t){super(),ke(this,t,Xr,Cr,ne,{},null,[-1,-1])}}function Yt(e,t,n){const r=e.slice();return r[12]=t[n][0],r}function Nr(e){let t,n;return{c(){t=y("h2"),t.textContent=`${e[12]}`,n=z(),f(t,"class","mb-2")},m(r,o){C(r,t,o),C(r,n,o)},p:U,d(r){r&&(P(t),P(n))}}}function Xt(e,t){let n,r,o;return r=new te({props:{onClick:t[4](t[12]),$$slots:{default:[Nr]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=tn(),T(r.$$.fragment),this.first=n},m(s,i){C(s,n,i),W(r,s,i),o=!0},p(s,i){t=s;const l={};i&32768&&(l.$$scope={dirty:i,ctx:t}),r.$set(l)},i(s){o||(k(r.$$.fragment,s),o=!0)},o(s){E(r.$$.fragment,s),o=!1},d(s){s&&P(n),F(r,s)}}}function Rr(e){let t;return{c(){t=Y("Clear canvas")},m(n,r){C(n,t,r)},d(n){n&&P(t)}}}function qr(e){let t;return{c(){t=Y("Back to practice")},m(n,r){C(n,t,r)},d(n){n&&P(t)}}}function Ir(e){let t,n,r,o,s,i,l,a,c,u,m=[],$=new Map,_,g,d,p,w,A,X=Xe(Object.entries(ut));const O=S=>S[12];for(let S=0;S<X.length;S+=1){let b=Yt(e,X,S),M=O(b);$.set(M,m[S]=Xt(M,b))}return d=new te({props:{onClick:e[3],$$slots:{default:[Rr]},$$scope:{ctx:e}}}),w=new te({props:{onClick:e[8],$$slots:{default:[qr]},$$scope:{ctx:e}}}),{c(){t=y("main"),n=y("canvas"),r=z(),o=y("canvas"),s=z(),i=y("aside"),l=y("h1"),l.textContent="Effects",a=z(),c=y("nav"),u=y("div");for(let S=0;S<m.length;S+=1)m[S].c();_=z(),g=y("div"),T(d.$$.fragment),p=z(),T(w.$$.fragment),f(n,"class","absolute inset-0"),f(o,"class","absolute inset-0 pointer-events-none"),f(t,"id","canvas-container"),f(t,"class","relative flex-1"),f(l,"class","text-3xl text-center"),f(u,"class","flex flex-col gap-2"),f(g,"class","flex flex-col gap-2"),f(c,"class","flex flex-col gap-4"),f(i,"id","ui-container"),f(i,"class","p-5 flex flex-col gap-4 flex-[0_0_var(--aside-width)] overflow-y-auto select-none bg-surface border-l-2 border-primary")},m(S,b){C(S,t,b),h(t,n),e[5](n),h(t,r),h(t,o),e[6](o),e[7](t),C(S,s,b),C(S,i,b),h(i,l),h(i,a),h(i,c),h(c,u);for(let M=0;M<m.length;M+=1)m[M]&&m[M].m(u,null);h(c,_),h(c,g),W(d,g,null),h(g,p),W(w,g,null),A=!0},p(S,b){b&16&&(X=Xe(Object.entries(ut)),ue(),m=cn(m,b,O,1,S,X,$,u,qn,Xt,null,Yt),de());const M={};b&32768&&(M.$$scope={dirty:b,ctx:S}),d.$set(M);const q={};b&32768&&(q.$$scope={dirty:b,ctx:S}),w.$set(q)},i(S){if(!A){for(let b=0;b<X.length;b+=1)k(m[b]);k(d.$$.fragment,S),k(w.$$.fragment,S),A=!0}},o(S){for(let b=0;b<m.length;b+=1)E(m[b]);E(d.$$.fragment,S),E(w.$$.fragment,S),A=!1},d(S){S&&(P(t),P(s),P(i)),e[5](null),e[6](null),e[7](null);for(let b=0;b<m.length;b+=1)m[b].d();F(d),F(w)}}}function jr(e){let t,n;return t=new tt({props:{$$slots:{default:[Ir]},$$scope:{ctx:e}}}),{c(){T(t.$$.fragment)},m(r,o){W(t,r,o),n=!0},p(r,[o]){const s={};o&32775&&(s.$$scope={dirty:o,ctx:r}),t.$set(s)},i(r){n||(k(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){F(t,r)}}}function Or(e,t,n){let r,o,s,i=[];rn(()=>{n(1,o.width=r.offsetWidth,o),n(1,o.height=r.offsetHeight,o),n(2,s.width=r.offsetWidth,s),n(2,s.height=r.offsetHeight,s),l()});function l(){a(),requestAnimationFrame(l)}function a(){const d=o==null?void 0:o.getContext("2d");d&&(d.clearRect(0,0,o.width,o.height),i.forEach((p,w)=>{p.x+=p.speedX,p.y+=p.speedY,p.life--,p.size*=.99,d.fillStyle=p.color,d.beginPath(),d.arc(p.x,p.y,p.size,0,we),d.fill(),(p.life<=0||p.size<.1)&&i.splice(w,1)}))}function c(){const d=o==null?void 0:o.getContext("2d");d==null||d.clearRect(0,0,o.width,o.height);const p=s==null?void 0:s.getContext("2d");p==null||p.clearRect(0,0,s.width,s.height),i=[]}function u(d){return()=>mn(d,s,i)}function m(d){oe[d?"unshift":"push"](()=>{o=d,n(1,o)})}function $(d){oe[d?"unshift":"push"](()=>{s=d,n(2,s)})}function _(d){oe[d?"unshift":"push"](()=>{r=d,n(0,r)})}return[r,o,s,c,u,m,$,_,()=>ve.set("canvas")]}class Br extends Me{constructor(t){super(),ke(this,t,Or,jr,ne,{})}}function Dt(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function Nt(e){let t,n,r;return{c(){t=Ze("polyline"),f(t,"points",n=Oe[e[1].stroke].join(" ")),f(t,"fill","none"),f(t,"stroke","var(--primary-color)"),f(t,"stroke-width","3"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round")},m(o,s){C(o,t,s)},p(o,s){s&2&&n!==(n=Oe[o[1].stroke].join(" "))&&f(t,"points",n)},i(o){o&&(r||se(()=>{r=et(t,fn,{duration:un}),r.start()}))},o:U,d(o){o&&P(t)}}}function Wr(e){let t=e[5].name+"",n;return{c(){n=Y(t)},m(r,o){C(r,n,o)},p:U,d(r){r&&P(n)}}}function Rt(e){let t,n;function r(){return e[3](e[7])}return t=new te({props:{onClick:r,current:e[7]===e[0],$$slots:{default:[Wr]},$$scope:{ctx:e}}}),{c(){T(t.$$.fragment)},m(o,s){W(t,o,s),n=!0},p(o,s){e=o;const i={};s&3&&(i.onClick=r),s&1&&(i.current=e[7]===e[0]),s&256&&(i.$$scope={dirty:s,ctx:e}),t.$set(i)},i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){E(t.$$.fragment,o),n=!1},d(o){F(t,o)}}}function Fr(e){let t;return{c(){t=Y("Back to practice")},m(n,r){C(n,t,r)},d(n){n&&P(t)}}}function Lr(e){let t,n,r,o=e[1].name+"",s,i,l,a,c,u=e[1].name+"",m,$,_,g,d,p,w,A,X,O=e[1],S,b,M=e[1].name+"",q,B,H=e[1].name+"",ie,D,L,Q,ge,re=e[1].name+"",le,We,v,N,I,G,pe,xe=e[1].name+"",nt,pt,$t,$e,_t,Fe=e[0]+1+"",rt,yt,ot,Z,Le,bt,Se,Ee,vt,_e,Te,De,J,st,wt,K=Nt(e),ye=Xe(je),j=[];for(let x=0;x<ye.length;x+=1)j[x]=Rt(Dt(e,ye,x));const gn=x=>E(j[x],1,1,()=>{j[x]=null});return _e=new te({props:{onClick:e[4],$$slots:{default:[Fr]},$$scope:{ctx:e}}}),{c(){t=y("main"),n=y("div"),r=y("h2"),s=Y(o),i=z(),l=y("div"),a=y("div"),c=y("p"),m=Y(u),$=Y(` is a fundamental chronomancy spell that freezes a target in time. When cast successfully,
            the target becomes immobilized and unaware of the passage of time.`),_=z(),g=y("div"),g.innerHTML='<p><strong class="text-primary">Difficulty:</strong> Novice</p> <p><strong class="text-primary">Energy Cost:</strong> 25</p> <p><strong class="text-primary">Duration:</strong> Up to 1 minute</p> <p><strong class="text-primary">Range:</strong> 30 feet</p>',d=z(),p=y("div"),w=y("div"),A=y("button"),X=Ze("svg"),K.c(),S=z(),b=y("p"),q=Y(M),B=Y(` is often considered the cornerstone of chronomancy. Its ability to halt the flow of time
              for a single target makes it invaluable in both combat and non-combat situations. When casting `),ie=Y(H),D=Y(`,
              visualize time as a river flowing around your target. Your goal is to create a perfectly still eddy in
              that river, isolating your target from the timestream.`),L=z(),Q=y("p"),ge=Y("Common applications of "),le=Y(re),We=Y(" include:"),v=z(),N=y("ul"),N.innerHTML="<li>Freezing an opponent in combat</li> <li>Preserving a dying creature until healing can be administered</li> <li>Protecting fragile objects during transport</li> <li>Creating &quot;living statues&quot; for artistic or strategic purposes</li>",I=z(),G=y("p"),pe=Y("Warning: overuse of "),nt=Y(xe),pt=Y(` on living beings can have unforeseen consequences. Always release the
              spell carefully, allowing the target to gradually reintegrate with the normal flow of time.`),$t=z(),$e=y("div"),_t=Y("- "),rt=Y(Fe),yt=Y(" -"),ot=z(),Z=y("aside"),Le=y("h1"),Le.textContent="Spellbook",bt=z(),Se=y("nav"),Ee=y("div");for(let x=0;x<j.length;x+=1)j[x].c();vt=z(),T(_e.$$.fragment),f(r,"class","text-3xl m-4 text-left text-primary"),f(c,"id","spell-description"),f(c,"class","first-letter:[initial-letter:3] first-letter:text-primary first-letter:pr-2 first-letter:font-serif"),f(g,"class","p-5 rounded-lg bg-primary/5 flex flex-col gap-1 text-base"),f(a,"id","left-page"),f(a,"class","flex flex-col flex-1 gap-8 px-6 text-dark text-lg"),f(X,"width","200"),f(X,"height","200"),f(X,"viewBox","0 0 200 200"),f(X,"fill","none"),f(X,"xmlns","http://www.w3.org/2000/svg"),f(A,"class","ml-4 p-0 float-right rounded-lg bg-primary/5"),f(w,"class","[&>*:not(:last-child)]:mb-8"),f($e,"id","page-number"),f($e,"class","text-right text-lg pb-4"),f(p,"id","right-page"),f(p,"class","flex flex-col justify-between flex-1 gap-8 px-6 text-dark text-lg"),f(l,"class","flex h-full"),f(n,"id","book"),f(n,"class","flex flex-col gap-2 p-5 w-[90%] h-[90%] rounded-lg bg-[#eae5de] shadow-glow overflow-y-auto bg-[url('/book.webp')] bg-[size:100%_100%]"),f(t,"class","relative flex flex-1 items-center justify-center"),f(Le,"class","text-3xl text-center"),f(Ee,"id","spells-list"),f(Ee,"class","flex flex-col gap-2"),f(Se,"class","flex flex-col gap-4"),f(Z,"id","ui-container"),f(Z,"class","p-5 flex flex-col gap-4 flex-[0_0_var(--aside-width)] overflow-y-auto select-none bg-surface border-l-2 border-primary")},m(x,R){C(x,t,R),h(t,n),h(n,r),h(r,s),h(n,i),h(n,l),h(l,a),h(a,c),h(c,m),h(c,$),h(a,_),h(a,g),h(l,d),h(l,p),h(p,w),h(w,A),h(A,X),K.m(X,null),h(w,S),h(w,b),h(b,q),h(b,B),h(b,ie),h(b,D),h(w,L),h(w,Q),h(Q,ge),h(Q,le),h(Q,We),h(w,v),h(w,N),h(w,I),h(w,G),h(G,pe),h(G,nt),h(G,pt),h(p,$t),h(p,$e),h($e,_t),h($e,rt),h($e,yt),C(x,ot,R),C(x,Z,R),h(Z,Le),h(Z,bt),h(Z,Se),h(Se,Ee);for(let be=0;be<j.length;be+=1)j[be]&&j[be].m(Ee,null);h(Se,vt),W(_e,Se,null),J=!0,st||(wt=ee(A,"click",e[2]),st=!0)},p(x,R){if((!J||R&2)&&o!==(o=x[1].name+"")&&ce(s,o),(!J||R&2)&&u!==(u=x[1].name+"")&&ce(m,u),R&2&&ne(O,O=x[1])?(ue(),E(K,1,1,U),de(),K=Nt(x),K.c(),k(K,1),K.m(X,null)):K.p(x,R),(!J||R&2)&&M!==(M=x[1].name+"")&&ce(q,M),(!J||R&2)&&H!==(H=x[1].name+"")&&ce(ie,H),(!J||R&2)&&re!==(re=x[1].name+"")&&ce(le,re),(!J||R&2)&&xe!==(xe=x[1].name+"")&&ce(nt,xe),(!J||R&1)&&Fe!==(Fe=x[0]+1+"")&&ce(rt,Fe),R&3){ye=Xe(je);let V;for(V=0;V<ye.length;V+=1){const kt=Dt(x,ye,V);j[V]?(j[V].p(kt,R),k(j[V],1)):(j[V]=Rt(kt),j[V].c(),k(j[V],1),j[V].m(Ee,null))}for(ue(),V=ye.length;V<j.length;V+=1)gn(V);de()}const be={};R&256&&(be.$$scope={dirty:R,ctx:x}),_e.$set(be)},i(x){if(!J){k(K);for(let R=0;R<ye.length;R+=1)k(j[R]);k(_e.$$.fragment,x),x&&se(()=>{J&&(De&&De.end(1),Te=et(Z,Pt,{x:400,delay:300}),Te.start())}),J=!0}},o(x){E(K),j=j.filter(Boolean);for(let R=0;R<j.length;R+=1)E(j[R]);E(_e.$$.fragment,x),Te&&Te.invalidate(),x&&(De=an(Z,Pt,{y:-1e3,delay:0})),J=!1},d(x){x&&(P(t),P(ot),P(Z)),K.d(x),xn(j,x),F(_e),x&&De&&De.end(),st=!1,wt()}}}function Tr(e){let t,n;return t=new tt({props:{$$slots:{default:[Lr]},$$scope:{ctx:e}}}),{c(){T(t.$$.fragment)},m(r,o){W(t,r,o),n=!0},p(r,[o]){const s={};o&259&&(s.$$scope={dirty:o,ctx:r}),t.$set(s)},i(r){n||(k(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){F(t,r)}}}function Hr(e,t,n){let r=0,o=je[r];return[r,o,()=>n(1,o),a=>{n(0,r=a),n(1,o=je[a])},()=>ve.set("canvas")]}class Ur extends Me{constructor(t){super(),ke(this,t,Hr,Tr,ne,{})}}function qt(e,t,n){const r=e.slice();return r[3]=t[n][0],r[4]=t[n][1],r}function It(e){let t,n;return{c(){t=Ze("polyline"),f(t,"points",e[4].join(" ")),f(t,"fill","none"),f(t,"stroke","var(--primary-color)"),f(t,"stroke-width","3"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round")},m(r,o){C(r,t,o)},p:U,i(r){r&&(n||se(()=>{n=et(t,fn,{duration:un}),n.start()}))},o:U,d(r){r&&P(t)}}}function jt(e,t){let n,r,o=t[0][t[3]],s,i,l,a,c,u=It(t);function m(){return t[1](t[3])}return{key:e,first:null,c(){n=y("button"),r=Ze("svg"),u.c(),s=z(),i=y("h2"),i.textContent=`${t[3]}`,l=z(),f(r,"width","200"),f(r,"height","200"),f(r,"viewBox","0 0 200 200"),f(r,"fill","none"),f(r,"xmlns","http://www.w3.org/2000/svg"),f(i,"class","mb-2"),f(n,"class","rounded-lg bg-surface"),this.first=n},m($,_){C($,n,_),h(n,r),u.m(r,null),h(n,s),h(n,i),h(n,l),a||(c=ee(n,"click",m),a=!0)},p($,_){t=$,_&1&&ne(o,o=t[0][t[3]])?(ue(),E(u,1,1,U),de(),u=It(t),u.c(),k(u,1),u.m(r,null)):u.p(t,_)},d($){$&&P(n),u.d($),a=!1,c()}}}function Vr(e){let t;return{c(){t=Y("Back to practice")},m(n,r){C(n,t,r)},d(n){n&&P(t)}}}function Gr(e){let t,n,r=[],o=new Map,s,i,l,a,c,u,m,$=Xe(Object.entries(Oe));const _=g=>g[3];for(let g=0;g<$.length;g+=1){let d=qt(e,$,g),p=_(d);o.set(p,r[g]=jt(p,d))}return u=new te({props:{onClick:e[2],$$slots:{default:[Vr]},$$scope:{ctx:e}}}),{c(){t=y("main"),n=y("div");for(let g=0;g<r.length;g+=1)r[g].c();s=z(),i=y("aside"),l=y("h1"),l.textContent="Strokes",a=z(),c=y("nav"),T(u.$$.fragment),f(n,"id","strokes-list"),f(n,"class","p-4 grid grid-cols-4 gap-2"),f(t,"class","flex-1 overflow-y-auto"),f(l,"class","text-3xl text-center"),f(c,"class","flex flex-col gap-4"),f(i,"id","ui-container"),f(i,"class","p-5 flex flex-col gap-4 flex-[0_0_var(--aside-width)] overflow-y-auto select-none bg-surface border-l-2 border-primary")},m(g,d){C(g,t,d),h(t,n);for(let p=0;p<r.length;p+=1)r[p]&&r[p].m(n,null);C(g,s,d),C(g,i,d),h(i,l),h(i,a),h(i,c),W(u,c,null),m=!0},p(g,d){d&1&&($=Xe(Object.entries(Oe)),r=cn(r,d,_,1,g,$,o,n,Rn,jt,null,qt));const p={};d&128&&(p.$$scope={dirty:d,ctx:g}),u.$set(p)},i(g){m||(k(u.$$.fragment,g),m=!0)},o(g){E(u.$$.fragment,g),m=!1},d(g){g&&(P(t),P(s),P(i));for(let d=0;d<r.length;d+=1)r[d].d();F(u)}}}function Jr(e){let t,n;return t=new tt({props:{$$slots:{default:[Gr]},$$scope:{ctx:e}}}),{c(){T(t.$$.fragment)},m(r,o){W(t,r,o),n=!0},p(r,[o]){const s={};o&129&&(s.$$scope={dirty:o,ctx:r}),t.$set(s)},i(r){n||(k(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){F(t,r)}}}function Kr(e,t,n){let r={};return[r,i=>n(0,r[i]=!r[i],r),()=>ve.set("canvas")]}class Qr extends Me{constructor(t){super(),ke(this,t,Kr,Jr,ne,{})}}function Ot(e){let t,n;return t=new Dr({}),{c(){T(t.$$.fragment)},m(r,o){W(t,r,o),n=!0},i(r){n||(k(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){F(t,r)}}}function Bt(e){let t,n;return t=new Ur({}),{c(){T(t.$$.fragment)},m(r,o){W(t,r,o),n=!0},i(r){n||(k(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){F(t,r)}}}function Wt(e){let t,n;return t=new Qr({}),{c(){T(t.$$.fragment)},m(r,o){W(t,r,o),n=!0},i(r){n||(k(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){F(t,r)}}}function Ft(e){let t,n;return t=new Br({}),{c(){T(t.$$.fragment)},m(r,o){W(t,r,o),n=!0},i(r){n||(k(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){F(t,r)}}}function Zr(e){let t,n,r,o,s,i=e[0]==="canvas"&&Ot(),l=e[0]==="spellbook"&&Bt(),a=e[0]==="strokes"&&Wt(),c=e[0]==="effects"&&Ft();return{c(){i&&i.c(),t=z(),l&&l.c(),n=z(),a&&a.c(),r=z(),c&&c.c(),o=tn()},m(u,m){i&&i.m(u,m),C(u,t,m),l&&l.m(u,m),C(u,n,m),a&&a.m(u,m),C(u,r,m),c&&c.m(u,m),C(u,o,m),s=!0},p(u,[m]){u[0]==="canvas"?i?m&1&&k(i,1):(i=Ot(),i.c(),k(i,1),i.m(t.parentNode,t)):i&&(ue(),E(i,1,1,()=>{i=null}),de()),u[0]==="spellbook"?l?m&1&&k(l,1):(l=Bt(),l.c(),k(l,1),l.m(n.parentNode,n)):l&&(ue(),E(l,1,1,()=>{l=null}),de()),u[0]==="strokes"?a?m&1&&k(a,1):(a=Wt(),a.c(),k(a,1),a.m(r.parentNode,r)):a&&(ue(),E(a,1,1,()=>{a=null}),de()),u[0]==="effects"?c?m&1&&k(c,1):(c=Ft(),c.c(),k(c,1),c.m(o.parentNode,o)):c&&(ue(),E(c,1,1,()=>{c=null}),de())},i(u){s||(k(i),k(l),k(a),k(c),s=!0)},o(u){E(i),E(l),E(a),E(c),s=!1},d(u){u&&(P(t),P(n),P(r),P(o)),i&&i.d(u),l&&l.d(u),a&&a.d(u),c&&c.d(u)}}}function eo(e,t,n){let r;return wn(e,ve,o=>n(0,r=o)),[r]}class to extends Me{constructor(t){super(),ke(this,t,eo,Zr,ne,{})}}new to({target:document.getElementById("app")});
