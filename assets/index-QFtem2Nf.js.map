{"version":3,"file":"index-QFtem2Nf.js","sources":["../../node_modules/svelte/src/runtime/internal/utils.js","../../node_modules/svelte/src/runtime/internal/environment.js","../../node_modules/svelte/src/runtime/internal/loop.js","../../node_modules/svelte/src/runtime/internal/dom.js","../../node_modules/svelte/src/runtime/internal/style_manager.js","../../node_modules/svelte/src/runtime/internal/lifecycle.js","../../node_modules/svelte/src/runtime/internal/scheduler.js","../../node_modules/svelte/src/runtime/internal/transitions.js","../../node_modules/svelte/src/runtime/internal/each.js","../../node_modules/svelte/src/runtime/internal/spread.js","../../node_modules/svelte/src/runtime/internal/Component.js","../../node_modules/svelte/src/shared/version.js","../../node_modules/svelte/src/runtime/internal/disclose-version/index.js","../../node_modules/svelte/src/runtime/store/index.js","../../node_modules/regexparam/dist/index.mjs","../../node_modules/svelte-spa-router/Router.svelte","../../node_modules/svelte/src/runtime/easing/index.js","../../node_modules/svelte/src/runtime/transition/index.js","../../src/components/PageContainer.svelte","../../src/components/PrimaryButton.svelte","../../src/components/PrimaryLinkButton.svelte","../../src/lib/config.ts","../../src/lib/dollar.ts","../../src/lib/effects.ts","../../src/lib/spells.ts","../../src/lib/strokes.ts","../../src/pages/Canvas.svelte","../../src/pages/Effects.svelte","../../src/pages/Spellbook.svelte","../../src/pages/Strokes.svelte","../../src/App.svelte","../../src/main.ts"],"sourcesContent":["/** @returns {void} */\nexport function noop() {}\n\nexport const identity = (x) => x;\n\n/**\n * @template T\n * @template S\n * @param {T} tar\n * @param {S} src\n * @returns {T & S}\n */\nexport function assign(tar, src) {\n\t// @ts-ignore\n\tfor (const k in src) tar[k] = src[k];\n\treturn /** @type {T & S} */ (tar);\n}\n\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\n/**\n * @param {any} value\n * @returns {value is PromiseLike<any>}\n */\nexport function is_promise(value) {\n\treturn (\n\t\t!!value &&\n\t\t(typeof value === 'object' || typeof value === 'function') &&\n\t\ttypeof (/** @type {any} */ (value).then) === 'function'\n\t);\n}\n\n/** @returns {void} */\nexport function add_location(element, file, line, column, char) {\n\telement.__svelte_meta = {\n\t\tloc: { file, line, column, char }\n\t};\n}\n\nexport function run(fn) {\n\treturn fn();\n}\n\nexport function blank_object() {\n\treturn Object.create(null);\n}\n\n/**\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function run_all(fns) {\n\tfns.forEach(run);\n}\n\n/**\n * @param {any} thing\n * @returns {thing is Function}\n */\nexport function is_function(thing) {\n\treturn typeof thing === 'function';\n}\n\n/** @returns {boolean} */\nexport function safe_not_equal(a, b) {\n\treturn a != a ? b == b : a !== b || (a && typeof a === 'object') || typeof a === 'function';\n}\n\nlet src_url_equal_anchor;\n\n/**\n * @param {string} element_src\n * @param {string} url\n * @returns {boolean}\n */\nexport function src_url_equal(element_src, url) {\n\tif (element_src === url) return true;\n\tif (!src_url_equal_anchor) {\n\t\tsrc_url_equal_anchor = document.createElement('a');\n\t}\n\t// This is actually faster than doing URL(..).href\n\tsrc_url_equal_anchor.href = url;\n\treturn element_src === src_url_equal_anchor.href;\n}\n\n/** @param {string} srcset */\nfunction split_srcset(srcset) {\n\treturn srcset.split(',').map((src) => src.trim().split(' ').filter(Boolean));\n}\n\n/**\n * @param {HTMLSourceElement | HTMLImageElement} element_srcset\n * @param {string | undefined | null} srcset\n * @returns {boolean}\n */\nexport function srcset_url_equal(element_srcset, srcset) {\n\tconst element_urls = split_srcset(element_srcset.srcset);\n\tconst urls = split_srcset(srcset || '');\n\n\treturn (\n\t\turls.length === element_urls.length &&\n\t\turls.every(\n\t\t\t([url, width], i) =>\n\t\t\t\twidth === element_urls[i][1] &&\n\t\t\t\t// We need to test both ways because Vite will create an a full URL with\n\t\t\t\t// `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the\n\t\t\t\t// relative URLs inside srcset are not automatically resolved to absolute URLs by\n\t\t\t\t// browsers (in contrast to img.src). This means both SSR and DOM code could\n\t\t\t\t// contain relative or absolute URLs.\n\t\t\t\t(src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0]))\n\t\t)\n\t);\n}\n\n/** @returns {boolean} */\nexport function not_equal(a, b) {\n\treturn a != a ? b == b : a !== b;\n}\n\n/** @returns {boolean} */\nexport function is_empty(obj) {\n\treturn Object.keys(obj).length === 0;\n}\n\n/** @returns {void} */\nexport function validate_store(store, name) {\n\tif (store != null && typeof store.subscribe !== 'function') {\n\t\tthrow new Error(`'${name}' is not a store with a 'subscribe' method`);\n\t}\n}\n\nexport function subscribe(store, ...callbacks) {\n\tif (store == null) {\n\t\tfor (const callback of callbacks) {\n\t\t\tcallback(undefined);\n\t\t}\n\t\treturn noop;\n\t}\n\tconst unsub = store.subscribe(...callbacks);\n\treturn unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\n\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n *\n * https://svelte.dev/docs/svelte-store#get\n * @template T\n * @param {import('../store/public.js').Readable<T>} store\n * @returns {T}\n */\nexport function get_store_value(store) {\n\tlet value;\n\tsubscribe(store, (_) => (value = _))();\n\treturn value;\n}\n\n/** @returns {void} */\nexport function component_subscribe(component, store, callback) {\n\tcomponent.$$.on_destroy.push(subscribe(store, callback));\n}\n\nexport function create_slot(definition, ctx, $$scope, fn) {\n\tif (definition) {\n\t\tconst slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n\t\treturn definition[0](slot_ctx);\n\t}\n}\n\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n\treturn definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;\n}\n\nexport function get_slot_changes(definition, $$scope, dirty, fn) {\n\tif (definition[2] && fn) {\n\t\tconst lets = definition[2](fn(dirty));\n\t\tif ($$scope.dirty === undefined) {\n\t\t\treturn lets;\n\t\t}\n\t\tif (typeof lets === 'object') {\n\t\t\tconst merged = [];\n\t\t\tconst len = Math.max($$scope.dirty.length, lets.length);\n\t\t\tfor (let i = 0; i < len; i += 1) {\n\t\t\t\tmerged[i] = $$scope.dirty[i] | lets[i];\n\t\t\t}\n\t\t\treturn merged;\n\t\t}\n\t\treturn $$scope.dirty | lets;\n\t}\n\treturn $$scope.dirty;\n}\n\n/** @returns {void} */\nexport function update_slot_base(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tslot_changes,\n\tget_slot_context_fn\n) {\n\tif (slot_changes) {\n\t\tconst slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n\t\tslot.p(slot_context, slot_changes);\n\t}\n}\n\n/** @returns {void} */\nexport function update_slot(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tdirty,\n\tget_slot_changes_fn,\n\tget_slot_context_fn\n) {\n\tconst slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n\tupdate_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\n\n/** @returns {any[] | -1} */\nexport function get_all_dirty_from_scope($$scope) {\n\tif ($$scope.ctx.length > 32) {\n\t\tconst dirty = [];\n\t\tconst length = $$scope.ctx.length / 32;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tdirty[i] = -1;\n\t\t}\n\t\treturn dirty;\n\t}\n\treturn -1;\n}\n\n/** @returns {{}} */\nexport function exclude_internal_props(props) {\n\tconst result = {};\n\tfor (const k in props) if (k[0] !== '$') result[k] = props[k];\n\treturn result;\n}\n\n/** @returns {{}} */\nexport function compute_rest_props(props, keys) {\n\tconst rest = {};\n\tkeys = new Set(keys);\n\tfor (const k in props) if (!keys.has(k) && k[0] !== '$') rest[k] = props[k];\n\treturn rest;\n}\n\n/** @returns {{}} */\nexport function compute_slots(slots) {\n\tconst result = {};\n\tfor (const key in slots) {\n\t\tresult[key] = true;\n\t}\n\treturn result;\n}\n\n/** @returns {(this: any, ...args: any[]) => void} */\nexport function once(fn) {\n\tlet ran = false;\n\treturn function (...args) {\n\t\tif (ran) return;\n\t\tran = true;\n\t\tfn.call(this, ...args);\n\t};\n}\n\nexport function null_to_empty(value) {\n\treturn value == null ? '' : value;\n}\n\nexport function set_store_value(store, ret, value) {\n\tstore.set(value);\n\treturn ret;\n}\n\nexport const has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n\nexport function action_destroyer(action_result) {\n\treturn action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\n/** @param {number | string} value\n * @returns {[number, string]}\n */\nexport function split_css_unit(value) {\n\tconst split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n\treturn split ? [parseFloat(split[1]), split[2] || 'px'] : [/** @type {number} */ (value), 'px'];\n}\n\nexport const contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n","import { noop } from './utils.js';\n\nexport const is_client = typeof window !== 'undefined';\n\n/** @type {() => number} */\nexport let now = is_client ? () => window.performance.now() : () => Date.now();\n\nexport let raf = is_client ? (cb) => requestAnimationFrame(cb) : noop;\n\n// used internally for testing\n/** @returns {void} */\nexport function set_now(fn) {\n\tnow = fn;\n}\n\n/** @returns {void} */\nexport function set_raf(fn) {\n\traf = fn;\n}\n","import { raf } from './environment.js';\n\nconst tasks = new Set();\n\n/**\n * @param {number} now\n * @returns {void}\n */\nfunction run_tasks(now) {\n\ttasks.forEach((task) => {\n\t\tif (!task.c(now)) {\n\t\t\ttasks.delete(task);\n\t\t\ttask.f();\n\t\t}\n\t});\n\tif (tasks.size !== 0) raf(run_tasks);\n}\n\n/**\n * For testing purposes only!\n * @returns {void}\n */\nexport function clear_loops() {\n\ttasks.clear();\n}\n\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n * @param {import('./private.js').TaskCallback} callback\n * @returns {import('./private.js').Task}\n */\nexport function loop(callback) {\n\t/** @type {import('./private.js').TaskEntry} */\n\tlet task;\n\tif (tasks.size === 0) raf(run_tasks);\n\treturn {\n\t\tpromise: new Promise((fulfill) => {\n\t\t\ttasks.add((task = { c: callback, f: fulfill }));\n\t\t}),\n\t\tabort() {\n\t\t\ttasks.delete(task);\n\t\t}\n\t};\n}\n","import { contenteditable_truthy_values, has_prop } from './utils.js';\n\nimport { ResizeObserverSingleton } from './ResizeObserverSingleton.js';\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\n\n/**\n * @returns {void}\n */\nexport function start_hydrating() {\n\tis_hydrating = true;\n}\n\n/**\n * @returns {void}\n */\nexport function end_hydrating() {\n\tis_hydrating = false;\n}\n\n/**\n * @param {number} low\n * @param {number} high\n * @param {(index: number) => number} key\n * @param {number} value\n * @returns {number}\n */\nfunction upper_bound(low, high, key, value) {\n\t// Return first index of value larger than input value in the range [low, high)\n\twhile (low < high) {\n\t\tconst mid = low + ((high - low) >> 1);\n\t\tif (key(mid) <= value) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\treturn low;\n}\n\n/**\n * @param {NodeEx} target\n * @returns {void}\n */\nfunction init_hydrate(target) {\n\tif (target.hydrate_init) return;\n\ttarget.hydrate_init = true;\n\t// We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n\n\tlet children = /** @type {ArrayLike<NodeEx2>} */ (target.childNodes);\n\t// If target is <head>, there may be children without claim_order\n\tif (target.nodeName === 'HEAD') {\n\t\tconst my_children = [];\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tconst node = children[i];\n\t\t\tif (node.claim_order !== undefined) {\n\t\t\t\tmy_children.push(node);\n\t\t\t}\n\t\t}\n\t\tchildren = my_children;\n\t}\n\t/*\n\t * Reorder claimed children optimally.\n\t * We can reorder claimed children optimally by finding the longest subsequence of\n\t * nodes that are already claimed in order and only moving the rest. The longest\n\t * subsequence of nodes that are claimed in order can be found by\n\t * computing the longest increasing subsequence of .claim_order values.\n\t *\n\t * This algorithm is optimal in generating the least amount of reorder operations\n\t * possible.\n\t *\n\t * Proof:\n\t * We know that, given a set of reordering operations, the nodes that do not move\n\t * always form an increasing subsequence, since they do not move among each other\n\t * meaning that they must be already ordered among each other. Thus, the maximal\n\t * set of nodes that do not move form a longest increasing subsequence.\n\t */\n\t// Compute longest increasing subsequence\n\t// m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n\tconst m = new Int32Array(children.length + 1);\n\t// Predecessor indices + 1\n\tconst p = new Int32Array(children.length);\n\tm[0] = -1;\n\tlet longest = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst current = children[i].claim_order;\n\t\t// Find the largest subsequence length such that it ends in a value less than our current value\n\t\t// upper_bound returns first greater value, so we subtract one\n\t\t// with fast path for when we are on the current longest subsequence\n\t\tconst seq_len =\n\t\t\t(longest > 0 && children[m[longest]].claim_order <= current\n\t\t\t\t? longest + 1\n\t\t\t\t: upper_bound(1, longest, (idx) => children[m[idx]].claim_order, current)) - 1;\n\t\tp[i] = m[seq_len] + 1;\n\t\tconst new_len = seq_len + 1;\n\t\t// We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n\t\tm[new_len] = i;\n\t\tlongest = Math.max(new_len, longest);\n\t}\n\t// The longest increasing subsequence of nodes (initially reversed)\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst lis = [];\n\t// The rest of the nodes, nodes that will be moved\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst to_move = [];\n\tlet last = children.length - 1;\n\tfor (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n\t\tlis.push(children[cur - 1]);\n\t\tfor (; last >= cur; last--) {\n\t\t\tto_move.push(children[last]);\n\t\t}\n\t\tlast--;\n\t}\n\tfor (; last >= 0; last--) {\n\t\tto_move.push(children[last]);\n\t}\n\tlis.reverse();\n\t// We sort the nodes being moved to guarantee that their insertion order matches the claim order\n\tto_move.sort((a, b) => a.claim_order - b.claim_order);\n\t// Finally, we move the nodes\n\tfor (let i = 0, j = 0; i < to_move.length; i++) {\n\t\twhile (j < lis.length && to_move[i].claim_order >= lis[j].claim_order) {\n\t\t\tj++;\n\t\t}\n\t\tconst anchor = j < lis.length ? lis[j] : null;\n\t\ttarget.insertBefore(to_move[i], anchor);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @returns {void}\n */\nexport function append(target, node) {\n\ttarget.appendChild(node);\n}\n\n/**\n * @param {Node} target\n * @param {string} style_sheet_id\n * @param {string} styles\n * @returns {void}\n */\nexport function append_styles(target, style_sheet_id, styles) {\n\tconst append_styles_to = get_root_for_style(target);\n\tif (!append_styles_to.getElementById(style_sheet_id)) {\n\t\tconst style = element('style');\n\t\tstyle.id = style_sheet_id;\n\t\tstyle.textContent = styles;\n\t\tappend_stylesheet(append_styles_to, style);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {ShadowRoot | Document}\n */\nexport function get_root_for_style(node) {\n\tif (!node) return document;\n\tconst root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n\tif (root && /** @type {ShadowRoot} */ (root).host) {\n\t\treturn /** @type {ShadowRoot} */ (root);\n\t}\n\treturn node.ownerDocument;\n}\n\n/**\n * @param {Node} node\n * @returns {CSSStyleSheet}\n */\nexport function append_empty_stylesheet(node) {\n\tconst style_element = element('style');\n\t// For transitions to work without 'style-src: unsafe-inline' Content Security Policy,\n\t// these empty tags need to be allowed with a hash as a workaround until we move to the Web Animations API.\n\t// Using the hash for the empty string (for an empty tag) works in all browsers except Safari.\n\t// So as a workaround for the workaround, when we append empty style tags we set their content to /* empty */.\n\t// The hash 'sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=' will then work even in Safari.\n\tstyle_element.textContent = '/* empty */';\n\tappend_stylesheet(get_root_for_style(node), style_element);\n\treturn style_element.sheet;\n}\n\n/**\n * @param {ShadowRoot | Document} node\n * @param {HTMLStyleElement} style\n * @returns {CSSStyleSheet}\n */\nfunction append_stylesheet(node, style) {\n\tappend(/** @type {Document} */ (node).head || node, style);\n\treturn style.sheet;\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @returns {void}\n */\nexport function append_hydration(target, node) {\n\tif (is_hydrating) {\n\t\tinit_hydrate(target);\n\t\tif (\n\t\t\ttarget.actual_end_child === undefined ||\n\t\t\t(target.actual_end_child !== null && target.actual_end_child.parentNode !== target)\n\t\t) {\n\t\t\ttarget.actual_end_child = target.firstChild;\n\t\t}\n\t\t// Skip nodes of undefined ordering\n\t\twhile (target.actual_end_child !== null && target.actual_end_child.claim_order === undefined) {\n\t\t\ttarget.actual_end_child = target.actual_end_child.nextSibling;\n\t\t}\n\t\tif (node !== target.actual_end_child) {\n\t\t\t// We only insert if the ordering of this node should be modified or the parent node is not target\n\t\t\tif (node.claim_order !== undefined || node.parentNode !== target) {\n\t\t\t\ttarget.insertBefore(node, target.actual_end_child);\n\t\t\t}\n\t\t} else {\n\t\t\ttarget.actual_end_child = node.nextSibling;\n\t\t}\n\t} else if (node.parentNode !== target || node.nextSibling !== null) {\n\t\ttarget.appendChild(node);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @param {Node} [anchor]\n * @returns {void}\n */\nexport function insert(target, node, anchor) {\n\ttarget.insertBefore(node, anchor || null);\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @param {NodeEx} [anchor]\n * @returns {void}\n */\nexport function insert_hydration(target, node, anchor) {\n\tif (is_hydrating && !anchor) {\n\t\tappend_hydration(target, node);\n\t} else if (node.parentNode !== target || node.nextSibling != anchor) {\n\t\ttarget.insertBefore(node, anchor || null);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {void}\n */\nexport function detach(node) {\n\tif (node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function destroy_each(iterations, detaching) {\n\tfor (let i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d(detaching);\n\t}\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element(name) {\n\treturn document.createElement(name);\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @param {string} is\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element_is(name, is) {\n\treturn document.createElement(name, { is });\n}\n\n/**\n * @template T\n * @template {keyof T} K\n * @param {T} obj\n * @param {K[]} exclude\n * @returns {Pick<T, Exclude<keyof T, K>>}\n */\nexport function object_without_properties(obj, exclude) {\n\tconst target = /** @type {Pick<T, Exclude<keyof T, K>>} */ ({});\n\tfor (const k in obj) {\n\t\tif (\n\t\t\thas_prop(obj, k) &&\n\t\t\t// @ts-ignore\n\t\t\texclude.indexOf(k) === -1\n\t\t) {\n\t\t\t// @ts-ignore\n\t\t\ttarget[k] = obj[k];\n\t\t}\n\t}\n\treturn target;\n}\n\n/**\n * @template {keyof SVGElementTagNameMap} K\n * @param {K} name\n * @returns {SVGElement}\n */\nexport function svg_element(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n/**\n * @param {string} data\n * @returns {Text}\n */\nexport function text(data) {\n\treturn document.createTextNode(data);\n}\n\n/**\n * @returns {Text} */\nexport function space() {\n\treturn text(' ');\n}\n\n/**\n * @returns {Text} */\nexport function empty() {\n\treturn text('');\n}\n\n/**\n * @param {string} content\n * @returns {Comment}\n */\nexport function comment(content) {\n\treturn document.createComment(content);\n}\n\n/**\n * @param {EventTarget} node\n * @param {string} event\n * @param {EventListenerOrEventListenerObject} handler\n * @param {boolean | AddEventListenerOptions | EventListenerOptions} [options]\n * @returns {() => void}\n */\nexport function listen(node, event, handler, options) {\n\tnode.addEventListener(event, handler, options);\n\treturn () => node.removeEventListener(event, handler, options);\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function prevent_default(fn) {\n\treturn function (event) {\n\t\tevent.preventDefault();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopPropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_immediate_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopImmediatePropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function self(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.target === this) fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function trusted(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.isTrusted) fn.call(this, event);\n\t};\n}\n\n/**\n * @param {Element} node\n * @param {string} attribute\n * @param {string} [value]\n * @returns {void}\n */\nexport function attr(node, attribute, value) {\n\tif (value == null) node.removeAttribute(attribute);\n\telse if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_attributes(node, attributes) {\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n\tfor (const key in attributes) {\n\t\tif (attributes[key] == null) {\n\t\t\tnode.removeAttribute(key);\n\t\t} else if (key === 'style') {\n\t\t\tnode.style.cssText = attributes[key];\n\t\t} else if (key === '__value') {\n\t\t\t/** @type {any} */ (node).value = node[key] = attributes[key];\n\t\t} else if (\n\t\t\tdescriptors[key] &&\n\t\t\tdescriptors[key].set &&\n\t\t\talways_set_through_set_attribute.indexOf(key) === -1\n\t\t) {\n\t\t\tnode[key] = attributes[key];\n\t\t} else {\n\t\t\tattr(node, key, attributes[key]);\n\t\t}\n\t}\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_svg_attributes(node, attributes) {\n\tfor (const key in attributes) {\n\t\tattr(node, key, attributes[key]);\n\t}\n}\n\n/**\n * @param {Record<string, unknown>} data_map\n * @returns {void}\n */\nexport function set_custom_element_data_map(node, data_map) {\n\tObject.keys(data_map).forEach((key) => {\n\t\tset_custom_element_data(node, key, data_map[key]);\n\t});\n}\n\n/**\n * @returns {void} */\nexport function set_custom_element_data(node, prop, value) {\n\tconst lower = prop.toLowerCase(); // for backwards compatibility with existing behavior we do lowercase first\n\tif (lower in node) {\n\t\tnode[lower] = typeof node[lower] === 'boolean' && value === '' ? true : value;\n\t} else if (prop in node) {\n\t\tnode[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n\t} else {\n\t\tattr(node, prop, value);\n\t}\n}\n\n/**\n * @param {string} tag\n */\nexport function set_dynamic_element_data(tag) {\n\treturn /-/.test(tag) ? set_custom_element_data_map : set_attributes;\n}\n\n/**\n * @returns {void}\n */\nexport function xlink_attr(node, attribute, value) {\n\tnode.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\n/**\n * @param {HTMLElement} node\n * @returns {string}\n */\nexport function get_svelte_dataset(node) {\n\treturn node.dataset.svelteH;\n}\n\n/**\n * @returns {unknown[]} */\nexport function get_binding_group_value(group, __value, checked) {\n\tconst value = new Set();\n\tfor (let i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) value.add(group[i].__value);\n\t}\n\tif (!checked) {\n\t\tvalue.delete(__value);\n\t}\n\treturn Array.from(value);\n}\n\n/**\n * @param {HTMLInputElement[]} group\n * @returns {{ p(...inputs: HTMLInputElement[]): void; r(): void; }}\n */\nexport function init_binding_group(group) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\treturn {\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\t_inputs.forEach((input) => group.push(input));\n\t\t},\n\t\t/* remove */ r() {\n\t\t\t_inputs.forEach((input) => group.splice(group.indexOf(input), 1));\n\t\t}\n\t};\n}\n\n/**\n * @param {number[]} indexes\n * @returns {{ u(new_indexes: number[]): void; p(...inputs: HTMLInputElement[]): void; r: () => void; }}\n */\nexport function init_binding_group_dynamic(group, indexes) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _group = get_binding_group(group);\n\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\n\tfunction get_binding_group(group) {\n\t\tfor (let i = 0; i < indexes.length; i++) {\n\t\t\tgroup = group[indexes[i]] = group[indexes[i]] || [];\n\t\t}\n\t\treturn group;\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction push() {\n\t\t_inputs.forEach((input) => _group.push(input));\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction remove() {\n\t\t_inputs.forEach((input) => _group.splice(_group.indexOf(input), 1));\n\t}\n\treturn {\n\t\t/* update */ u(new_indexes) {\n\t\t\tindexes = new_indexes;\n\t\t\tconst new_group = get_binding_group(group);\n\t\t\tif (new_group !== _group) {\n\t\t\t\tremove();\n\t\t\t\t_group = new_group;\n\t\t\t\tpush();\n\t\t\t}\n\t\t},\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\tpush();\n\t\t},\n\t\t/* remove */ r: remove\n\t};\n}\n\n/** @returns {number} */\nexport function to_number(value) {\n\treturn value === '' ? null : +value;\n}\n\n/** @returns {any[]} */\nexport function time_ranges_to_array(ranges) {\n\tconst array = [];\n\tfor (let i = 0; i < ranges.length; i += 1) {\n\t\tarray.push({ start: ranges.start(i), end: ranges.end(i) });\n\t}\n\treturn array;\n}\n\n/**\n * @param {Element} element\n * @returns {ChildNode[]}\n */\nexport function children(element) {\n\treturn Array.from(element.childNodes);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {void}\n */\nfunction init_claim_info(nodes) {\n\tif (nodes.claim_info === undefined) {\n\t\tnodes.claim_info = { last_index: 0, total_claimed: 0 };\n\t}\n}\n\n/**\n * @template {ChildNodeEx} R\n * @param {ChildNodeArray} nodes\n * @param {(node: ChildNodeEx) => node is R} predicate\n * @param {(node: ChildNodeEx) => ChildNodeEx | undefined} process_node\n * @param {() => R} create_node\n * @param {boolean} dont_update_last_index\n * @returns {R}\n */\nfunction claim_node(nodes, predicate, process_node, create_node, dont_update_last_index = false) {\n\t// Try to find nodes in an order such that we lengthen the longest increasing subsequence\n\tinit_claim_info(nodes);\n\tconst result_node = (() => {\n\t\t// We first try to find an element after the previous one\n\t\tfor (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// Otherwise, we try to find one before\n\t\t// We iterate in reverse so that we don't go too far back\n\t\tfor (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t} else if (replacement === undefined) {\n\t\t\t\t\t// Since we spliced before the last_index, we decrease it\n\t\t\t\t\tnodes.claim_info.last_index--;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// If we can't find any matching node, we create a new one\n\t\treturn create_node();\n\t})();\n\tresult_node.claim_order = nodes.claim_info.total_claimed;\n\tnodes.claim_info.total_claimed += 1;\n\treturn result_node;\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @param {(name: string) => Element | SVGElement} create_element\n * @returns {Element | SVGElement}\n */\nfunction claim_element_base(nodes, name, attributes, create_element) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Element | SVGElement} */\n\t\t(node) => node.nodeName === name,\n\t\t/** @param {Element} node */\n\t\t(node) => {\n\t\t\tconst remove = [];\n\t\t\tfor (let j = 0; j < node.attributes.length; j++) {\n\t\t\t\tconst attribute = node.attributes[j];\n\t\t\t\tif (!attributes[attribute.name]) {\n\t\t\t\t\tremove.push(attribute.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremove.forEach((v) => node.removeAttribute(v));\n\t\t\treturn undefined;\n\t\t},\n\t\t() => create_element(name)\n\t);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_svg_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, svg_element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Text}\n */\nexport function claim_text(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Text} */\n\t\t(node) => node.nodeType === 3,\n\t\t/** @param {Text} node */\n\t\t(node) => {\n\t\t\tconst data_str = '' + data;\n\t\t\tif (node.data.startsWith(data_str)) {\n\t\t\t\tif (node.data.length !== data_str.length) {\n\t\t\t\t\treturn node.splitText(data_str.length);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode.data = data_str;\n\t\t\t}\n\t\t},\n\t\t() => text(data),\n\t\ttrue // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n\t);\n}\n\n/**\n * @returns {Text} */\nexport function claim_space(nodes) {\n\treturn claim_text(nodes, ' ');\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Comment}\n */\nexport function claim_comment(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Comment} */\n\t\t(node) => node.nodeType === 8,\n\t\t/** @param {Comment} node */\n\t\t(node) => {\n\t\t\tnode.data = '' + data;\n\t\t\treturn undefined;\n\t\t},\n\t\t() => comment(data),\n\t\ttrue\n\t);\n}\n\nfunction get_comment_idx(nodes, text, start) {\n\tfor (let i = start; i < nodes.length; i += 1) {\n\t\tconst node = nodes[i];\n\t\tif (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * @param {boolean} is_svg\n * @returns {HtmlTagHydration}\n */\nexport function claim_html_tag(nodes, is_svg) {\n\t// find html opening tag\n\tconst start_index = get_comment_idx(nodes, 'HTML_TAG_START', 0);\n\tconst end_index = get_comment_idx(nodes, 'HTML_TAG_END', start_index + 1);\n\tif (start_index === -1 || end_index === -1) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\n\tinit_claim_info(nodes);\n\tconst html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n\tdetach(html_tag_nodes[0]);\n\tdetach(html_tag_nodes[html_tag_nodes.length - 1]);\n\tconst claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n\tif (claimed_nodes.length === 0) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\tfor (const n of claimed_nodes) {\n\t\tn.claim_order = nodes.claim_info.total_claimed;\n\t\tnodes.claim_info.total_claimed += 1;\n\t}\n\treturn new HtmlTagHydration(is_svg, claimed_nodes);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data(text, data) {\n\tdata = '' + data;\n\tif (text.data === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data_contenteditable(text, data) {\n\tdata = '' + data;\n\tif (text.wholeText === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @param {string} attr_value\n * @returns {void}\n */\nexport function set_data_maybe_contenteditable(text, data, attr_value) {\n\tif (~contenteditable_truthy_values.indexOf(attr_value)) {\n\t\tset_data_contenteditable(text, data);\n\t} else {\n\t\tset_data(text, data);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_input_value(input, value) {\n\tinput.value = value == null ? '' : value;\n}\n\n/**\n * @returns {void} */\nexport function set_input_type(input, type) {\n\ttry {\n\t\tinput.type = type;\n\t} catch (e) {\n\t\t// do nothing\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_style(node, key, value, important) {\n\tif (value == null) {\n\t\tnode.style.removeProperty(key);\n\t} else {\n\t\tnode.style.setProperty(key, value, important ? 'important' : '');\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_option(select, value, mounting) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\tif (option.__value === value) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n\tif (!mounting || value !== undefined) {\n\t\tselect.selectedIndex = -1; // no option should be selected\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_options(select, value) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\toption.selected = ~value.indexOf(option.__value);\n\t}\n}\n\nexport function select_value(select) {\n\tconst selected_option = select.querySelector(':checked');\n\treturn selected_option && selected_option.__value;\n}\n\nexport function select_multiple_value(select) {\n\treturn [].map.call(select.querySelectorAll(':checked'), (option) => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\n\n/**\n * @type {boolean} */\nlet crossorigin;\n\n/**\n * @returns {boolean} */\nexport function is_crossorigin() {\n\tif (crossorigin === undefined) {\n\t\tcrossorigin = false;\n\t\ttry {\n\t\t\tif (typeof window !== 'undefined' && window.parent) {\n\t\t\t\tvoid window.parent.document;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tcrossorigin = true;\n\t\t}\n\t}\n\treturn crossorigin;\n}\n\n/**\n * @param {HTMLElement} node\n * @param {() => void} fn\n * @returns {() => void}\n */\nexport function add_iframe_resize_listener(node, fn) {\n\tconst computed_style = getComputedStyle(node);\n\tif (computed_style.position === 'static') {\n\t\tnode.style.position = 'relative';\n\t}\n\tconst iframe = element('iframe');\n\tiframe.setAttribute(\n\t\t'style',\n\t\t'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n\t\t\t'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;'\n\t);\n\tiframe.setAttribute('aria-hidden', 'true');\n\tiframe.tabIndex = -1;\n\tconst crossorigin = is_crossorigin();\n\n\t/**\n\t * @type {() => void}\n\t */\n\tlet unsubscribe;\n\tif (crossorigin) {\n\t\tiframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n\t\tunsubscribe = listen(\n\t\t\twindow,\n\t\t\t'message',\n\t\t\t/** @param {MessageEvent} event */ (event) => {\n\t\t\t\tif (event.source === iframe.contentWindow) fn();\n\t\t\t}\n\t\t);\n\t} else {\n\t\tiframe.src = 'about:blank';\n\t\tiframe.onload = () => {\n\t\t\tunsubscribe = listen(iframe.contentWindow, 'resize', fn);\n\t\t\t// make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n\t\t\t// see https://github.com/sveltejs/svelte/issues/4233\n\t\t\tfn();\n\t\t};\n\t}\n\tappend(node, iframe);\n\treturn () => {\n\t\tif (crossorigin) {\n\t\t\tunsubscribe();\n\t\t} else if (unsubscribe && iframe.contentWindow) {\n\t\t\tunsubscribe();\n\t\t}\n\t\tdetach(iframe);\n\t};\n}\nexport const resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'content-box'\n});\nexport const resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'border-box'\n});\nexport const resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton(\n\t{ box: 'device-pixel-content-box' }\n);\nexport { ResizeObserverSingleton };\n\n/**\n * @returns {void} */\nexport function toggle_class(element, name, toggle) {\n\t// The `!!` is required because an `undefined` flag means flipping the current state.\n\telement.classList.toggle(name, !!toggle);\n}\n\n/**\n * @template T\n * @param {string} type\n * @param {T} [detail]\n * @param {{ bubbles?: boolean, cancelable?: boolean }} [options]\n * @returns {CustomEvent<T>}\n */\nexport function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n\treturn new CustomEvent(type, { detail, bubbles, cancelable });\n}\n\n/**\n * @param {string} selector\n * @param {HTMLElement} parent\n * @returns {ChildNodeArray}\n */\nexport function query_selector_all(selector, parent = document.body) {\n\treturn Array.from(parent.querySelectorAll(selector));\n}\n\n/**\n * @param {string} nodeId\n * @param {HTMLElement} head\n * @returns {any[]}\n */\nexport function head_selector(nodeId, head) {\n\tconst result = [];\n\tlet started = 0;\n\tfor (const node of head.childNodes) {\n\t\tif (node.nodeType === 8 /* comment node */) {\n\t\t\tconst comment = node.textContent.trim();\n\t\t\tif (comment === `HEAD_${nodeId}_END`) {\n\t\t\t\tstarted -= 1;\n\t\t\t\tresult.push(node);\n\t\t\t} else if (comment === `HEAD_${nodeId}_START`) {\n\t\t\t\tstarted += 1;\n\t\t\t\tresult.push(node);\n\t\t\t}\n\t\t} else if (started > 0) {\n\t\t\tresult.push(node);\n\t\t}\n\t}\n\treturn result;\n}\n/** */\nexport class HtmlTag {\n\t/**\n\t * @private\n\t * @default false\n\t */\n\tis_svg = false;\n\t/** parent for creating node */\n\te = undefined;\n\t/** html tag nodes */\n\tn = undefined;\n\t/** target */\n\tt = undefined;\n\t/** anchor */\n\ta = undefined;\n\tconstructor(is_svg = false) {\n\t\tthis.is_svg = is_svg;\n\t\tthis.e = this.n = null;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tthis.h(html);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @param {HTMLElement | SVGElement} target\n\t * @param {HTMLElement | SVGElement} anchor\n\t * @returns {void}\n\t */\n\tm(html, target, anchor = null) {\n\t\tif (!this.e) {\n\t\t\tif (this.is_svg)\n\t\t\t\tthis.e = svg_element(/** @type {keyof SVGElementTagNameMap} */ (target.nodeName));\n\t\t\t/** #7364  target for <template> may be provided as #document-fragment(11) */ else\n\t\t\t\tthis.e = element(\n\t\t\t\t\t/** @type {keyof HTMLElementTagNameMap} */ (\n\t\t\t\t\t\ttarget.nodeType === 11 ? 'TEMPLATE' : target.nodeName\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tthis.t =\n\t\t\t\ttarget.tagName !== 'TEMPLATE'\n\t\t\t\t\t? target\n\t\t\t\t\t: /** @type {HTMLTemplateElement} */ (target).content;\n\t\t\tthis.c(html);\n\t\t}\n\t\tthis.i(anchor);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\th(html) {\n\t\tthis.e.innerHTML = html;\n\t\tthis.n = Array.from(\n\t\t\tthis.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes\n\t\t);\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert(this.t, this.n[i], anchor);\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tp(html) {\n\t\tthis.d();\n\t\tthis.h(html);\n\t\tthis.i(this.a);\n\t}\n\n\t/**\n\t * @returns {void} */\n\td() {\n\t\tthis.n.forEach(detach);\n\t}\n}\n\nexport class HtmlTagHydration extends HtmlTag {\n\t/** @type {Element[]} hydration claimed nodes */\n\tl = undefined;\n\n\tconstructor(is_svg = false, claimed_nodes) {\n\t\tsuper(is_svg);\n\t\tthis.e = this.n = null;\n\t\tthis.l = claimed_nodes;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tif (this.l) {\n\t\t\tthis.n = this.l;\n\t\t} else {\n\t\t\tsuper.c(html);\n\t\t}\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert_hydration(this.t, this.n[i], anchor);\n\t\t}\n\t}\n}\n\n/**\n * @param {NamedNodeMap} attributes\n * @returns {{}}\n */\nexport function attribute_to_object(attributes) {\n\tconst result = {};\n\tfor (const attribute of attributes) {\n\t\tresult[attribute.name] = attribute.value;\n\t}\n\treturn result;\n}\n\nconst escaped = {\n\t'\"': '&quot;',\n\t'&': '&amp;',\n\t'<': '&lt;'\n};\n\nconst regex_attribute_characters_to_escape = /[\"&<]/g;\n\n/**\n * Note that the attribute itself should be surrounded in double quotes\n * @param {any} attribute\n */\nfunction escape_attribute(attribute) {\n\treturn String(attribute).replace(regex_attribute_characters_to_escape, (match) => escaped[match]);\n}\n\n/**\n * @param {Record<string, string>} attributes\n */\nexport function stringify_spread(attributes) {\n\tlet str = ' ';\n\tfor (const key in attributes) {\n\t\tif (attributes[key] != null) {\n\t\t\tstr += `${key}=\"${escape_attribute(attributes[key])}\" `;\n\t\t}\n\t}\n\n\treturn str;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {{}}\n */\nexport function get_custom_elements_slots(element) {\n\tconst result = {};\n\telement.childNodes.forEach(\n\t\t/** @param {Element} node */ (node) => {\n\t\t\tresult[node.slot || 'default'] = true;\n\t\t}\n\t);\n\treturn result;\n}\n\nexport function construct_svelte_component(component, props) {\n\treturn new component(props);\n}\n\n/**\n * @typedef {Node & {\n * \tclaim_order?: number;\n * \thydrate_init?: true;\n * \tactual_end_child?: NodeEx;\n * \tchildNodes: NodeListOf<NodeEx>;\n * }} NodeEx\n */\n\n/** @typedef {ChildNode & NodeEx} ChildNodeEx */\n\n/** @typedef {NodeEx & { claim_order: number }} NodeEx2 */\n\n/**\n * @typedef {ChildNodeEx[] & {\n * \tclaim_info?: {\n * \t\tlast_index: number;\n * \t\ttotal_claimed: number;\n * \t};\n * }} ChildNodeArray\n */\n","import { append_empty_stylesheet, detach, get_root_for_style } from './dom.js';\nimport { raf } from './environment.js';\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\n/** @type {Map<Document | ShadowRoot, import('./private.d.ts').StyleInformation>} */\nconst managed_styles = new Map();\n\nlet active = 0;\n\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\n/**\n * @param {string} str\n * @returns {number}\n */\nfunction hash(str) {\n\tlet hash = 5381;\n\tlet i = str.length;\n\twhile (i--) hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n\treturn hash >>> 0;\n}\n\n/**\n * @param {Document | ShadowRoot} doc\n * @param {Element & ElementCSSInlineStyle} node\n * @returns {{ stylesheet: any; rules: {}; }}\n */\nfunction create_style_information(doc, node) {\n\tconst info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n\tmanaged_styles.set(doc, info);\n\treturn info;\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {number} a\n * @param {number} b\n * @param {number} duration\n * @param {number} delay\n * @param {(t: number) => number} ease\n * @param {(t: number, u: number) => string} fn\n * @param {number} uid\n * @returns {string}\n */\nexport function create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n\tconst step = 16.666 / duration;\n\tlet keyframes = '{\\n';\n\tfor (let p = 0; p <= 1; p += step) {\n\t\tconst t = a + (b - a) * ease(p);\n\t\tkeyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n\t}\n\tconst rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n\tconst name = `__svelte_${hash(rule)}_${uid}`;\n\tconst doc = get_root_for_style(node);\n\tconst { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n\tif (!rules[name]) {\n\t\trules[name] = true;\n\t\tstylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n\t}\n\tconst animation = node.style.animation || '';\n\tnode.style.animation = `${\n\t\tanimation ? `${animation}, ` : ''\n\t}${name} ${duration}ms linear ${delay}ms 1 both`;\n\tactive += 1;\n\treturn name;\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {string} [name]\n * @returns {void}\n */\nexport function delete_rule(node, name) {\n\tconst previous = (node.style.animation || '').split(', ');\n\tconst next = previous.filter(\n\t\tname\n\t\t\t? (anim) => anim.indexOf(name) < 0 // remove specific animation\n\t\t\t: (anim) => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n\t);\n\tconst deleted = previous.length - next.length;\n\tif (deleted) {\n\t\tnode.style.animation = next.join(', ');\n\t\tactive -= deleted;\n\t\tif (!active) clear_rules();\n\t}\n}\n\n/** @returns {void} */\nexport function clear_rules() {\n\traf(() => {\n\t\tif (active) return;\n\t\tmanaged_styles.forEach((info) => {\n\t\t\tconst { ownerNode } = info.stylesheet;\n\t\t\t// there is no ownerNode if it runs on jsdom.\n\t\t\tif (ownerNode) detach(ownerNode);\n\t\t});\n\t\tmanaged_styles.clear();\n\t});\n}\n","import { custom_event } from './dom.js';\n\nexport let current_component;\n\n/** @returns {void} */\nexport function set_current_component(component) {\n\tcurrent_component = component;\n}\n\nexport function get_current_component() {\n\tif (!current_component) throw new Error('Function called outside component initialization');\n\treturn current_component;\n}\n\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#beforeupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function beforeUpdate(fn) {\n\tget_current_component().$$.before_update.push(fn);\n}\n\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * If a function is returned _synchronously_ from `onMount`, it will be called when the component is unmounted.\n *\n * `onMount` does not run inside a [server-side component](https://svelte.dev/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs/svelte#onmount\n * @template T\n * @param {() => import('./private.js').NotFunction<T> | Promise<import('./private.js').NotFunction<T>> | (() => any)} fn\n * @returns {void}\n */\nexport function onMount(fn) {\n\tget_current_component().$$.on_mount.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#afterupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function afterUpdate(fn) {\n\tget_current_component().$$.after_update.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs/svelte#ondestroy\n * @param {() => any} fn\n * @returns {void}\n */\nexport function onDestroy(fn) {\n\tget_current_component().$$.on_destroy.push(fn);\n}\n\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](https://svelte.dev/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * The event dispatcher can be typed to narrow the allowed event names and the type of the `detail` argument:\n * ```ts\n * const dispatch = createEventDispatcher<{\n *  loaded: never; // does not take a detail argument\n *  change: string; // takes a detail argument of type string, which is required\n *  optional: number | null; // takes an optional detail argument of type number\n * }>();\n * ```\n *\n * https://svelte.dev/docs/svelte#createeventdispatcher\n * @template {Record<string, any>} [EventMap=any]\n * @returns {import('./public.js').EventDispatcher<EventMap>}\n */\nexport function createEventDispatcher() {\n\tconst component = get_current_component();\n\treturn (type, detail, { cancelable = false } = {}) => {\n\t\tconst callbacks = component.$$.callbacks[type];\n\t\tif (callbacks) {\n\t\t\t// TODO are there situations where events could be dispatched\n\t\t\t// in a server (non-DOM) environment?\n\t\t\tconst event = custom_event(/** @type {string} */ (type), detail, { cancelable });\n\t\t\tcallbacks.slice().forEach((fn) => {\n\t\t\t\tfn.call(component, event);\n\t\t\t});\n\t\t\treturn !event.defaultPrevented;\n\t\t}\n\t\treturn true;\n\t};\n}\n\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#setcontext\n * @template T\n * @param {any} key\n * @param {T} context\n * @returns {T}\n */\nexport function setContext(key, context) {\n\tget_current_component().$$.context.set(key, context);\n\treturn context;\n}\n\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#getcontext\n * @template T\n * @param {any} key\n * @returns {T}\n */\nexport function getContext(key) {\n\treturn get_current_component().$$.context.get(key);\n}\n\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs/svelte#getallcontexts\n * @template {Map<any, any>} [T=Map<any, any>]\n * @returns {T}\n */\nexport function getAllContexts() {\n\treturn get_current_component().$$.context;\n}\n\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#hascontext\n * @param {any} key\n * @returns {boolean}\n */\nexport function hasContext(key) {\n\treturn get_current_component().$$.context.has(key);\n}\n\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\n/**\n * @param component\n * @param event\n * @returns {void}\n */\nexport function bubble(component, event) {\n\tconst callbacks = component.$$.callbacks[event.type];\n\tif (callbacks) {\n\t\t// @ts-ignore\n\t\tcallbacks.slice().forEach((fn) => fn.call(this, event));\n\t}\n}\n","import { run_all } from './utils.js';\nimport { current_component, set_current_component } from './lifecycle.js';\n\nexport const dirty_components = [];\nexport const intros = { enabled: false };\nexport const binding_callbacks = [];\n\nlet render_callbacks = [];\n\nconst flush_callbacks = [];\n\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\n\nlet update_scheduled = false;\n\n/** @returns {void} */\nexport function schedule_update() {\n\tif (!update_scheduled) {\n\t\tupdate_scheduled = true;\n\t\tresolved_promise.then(flush);\n\t}\n}\n\n/** @returns {Promise<void>} */\nexport function tick() {\n\tschedule_update();\n\treturn resolved_promise;\n}\n\n/** @returns {void} */\nexport function add_render_callback(fn) {\n\trender_callbacks.push(fn);\n}\n\n/** @returns {void} */\nexport function add_flush_callback(fn) {\n\tflush_callbacks.push(fn);\n}\n\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\n\nlet flushidx = 0; // Do *not* move this inside the flush() function\n\n/** @returns {void} */\nexport function flush() {\n\t// Do not reenter flush while dirty components are updated, as this can\n\t// result in an infinite loop. Instead, let the inner flush handle it.\n\t// Reentrancy is ok afterwards for bindings etc.\n\tif (flushidx !== 0) {\n\t\treturn;\n\t}\n\tconst saved_component = current_component;\n\tdo {\n\t\t// first, call beforeUpdate functions\n\t\t// and update components\n\t\ttry {\n\t\t\twhile (flushidx < dirty_components.length) {\n\t\t\t\tconst component = dirty_components[flushidx];\n\t\t\t\tflushidx++;\n\t\t\t\tset_current_component(component);\n\t\t\t\tupdate(component.$$);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// reset dirty state to not end up in a deadlocked state and then rethrow\n\t\t\tdirty_components.length = 0;\n\t\t\tflushidx = 0;\n\t\t\tthrow e;\n\t\t}\n\t\tset_current_component(null);\n\t\tdirty_components.length = 0;\n\t\tflushidx = 0;\n\t\twhile (binding_callbacks.length) binding_callbacks.pop()();\n\t\t// then, once components are updated, call\n\t\t// afterUpdate functions. This may cause\n\t\t// subsequent updates...\n\t\tfor (let i = 0; i < render_callbacks.length; i += 1) {\n\t\t\tconst callback = render_callbacks[i];\n\t\t\tif (!seen_callbacks.has(callback)) {\n\t\t\t\t// ...so guard against infinite loops\n\t\t\t\tseen_callbacks.add(callback);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t\trender_callbacks.length = 0;\n\t} while (dirty_components.length);\n\twhile (flush_callbacks.length) {\n\t\tflush_callbacks.pop()();\n\t}\n\tupdate_scheduled = false;\n\tseen_callbacks.clear();\n\tset_current_component(saved_component);\n}\n\n/** @returns {void} */\nfunction update($$) {\n\tif ($$.fragment !== null) {\n\t\t$$.update();\n\t\trun_all($$.before_update);\n\t\tconst dirty = $$.dirty;\n\t\t$$.dirty = [-1];\n\t\t$$.fragment && $$.fragment.p($$.ctx, dirty);\n\t\t$$.after_update.forEach(add_render_callback);\n\t}\n}\n\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function flush_render_callbacks(fns) {\n\tconst filtered = [];\n\tconst targets = [];\n\trender_callbacks.forEach((c) => (fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c)));\n\ttargets.forEach((c) => c());\n\trender_callbacks = filtered;\n}\n","import { identity as linear, is_function, noop, run_all } from './utils.js';\nimport { now } from './environment.js';\nimport { loop } from './loop.js';\nimport { create_rule, delete_rule } from './style_manager.js';\nimport { custom_event } from './dom.js';\nimport { add_render_callback } from './scheduler.js';\n\n/**\n * @type {Promise<void> | null}\n */\nlet promise;\n\n/**\n * @returns {Promise<void>}\n */\nfunction wait() {\n\tif (!promise) {\n\t\tpromise = Promise.resolve();\n\t\tpromise.then(() => {\n\t\t\tpromise = null;\n\t\t});\n\t}\n\treturn promise;\n}\n\n/**\n * @param {Element} node\n * @param {INTRO | OUTRO | boolean} direction\n * @param {'start' | 'end'} kind\n * @returns {void}\n */\nfunction dispatch(node, direction, kind) {\n\tnode.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\n\nconst outroing = new Set();\n\n/**\n * @type {Outro}\n */\nlet outros;\n\n/**\n * @returns {void} */\nexport function group_outros() {\n\toutros = {\n\t\tr: 0,\n\t\tc: [],\n\t\tp: outros // parent group\n\t};\n}\n\n/**\n * @returns {void} */\nexport function check_outros() {\n\tif (!outros.r) {\n\t\trun_all(outros.c);\n\t}\n\toutros = outros.p;\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} [local]\n * @returns {void}\n */\nexport function transition_in(block, local) {\n\tif (block && block.i) {\n\t\toutroing.delete(block);\n\t\tblock.i(local);\n\t}\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} local\n * @param {0 | 1} [detach]\n * @param {() => void} [callback]\n * @returns {void}\n */\nexport function transition_out(block, local, detach, callback) {\n\tif (block && block.o) {\n\t\tif (outroing.has(block)) return;\n\t\toutroing.add(block);\n\t\toutros.c.push(() => {\n\t\t\toutroing.delete(block);\n\t\t\tif (callback) {\n\t\t\t\tif (detach) block.d(1);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t});\n\t\tblock.o(local);\n\t} else if (callback) {\n\t\tcallback();\n\t}\n}\n\n/**\n * @type {import('../transition/public.js').TransitionConfig}\n */\nconst null_transition = { duration: 0 };\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ start(): void; invalidate(): void; end(): void; }}\n */\nexport function create_in_transition(node, fn, params) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'in' };\n\tlet config = fn(node, params, options);\n\tlet running = false;\n\tlet animation_name;\n\tlet task;\n\tlet uid = 0;\n\n\t/**\n\t * @returns {void} */\n\tfunction cleanup() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\t\tif (css) animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n\t\ttick(0, 1);\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tif (task) task.abort();\n\t\trunning = true;\n\t\tadd_render_callback(() => dispatch(node, true, 'start'));\n\t\ttask = loop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(1, 0);\n\t\t\t\t\tdispatch(node, true, 'end');\n\t\t\t\t\tcleanup();\n\t\t\t\t\treturn (running = false);\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\tlet started = false;\n\treturn {\n\t\tstart() {\n\t\t\tif (started) return;\n\t\t\tstarted = true;\n\t\t\tdelete_rule(node);\n\t\t\tif (is_function(config)) {\n\t\t\t\tconfig = config(options);\n\t\t\t\twait().then(go);\n\t\t\t} else {\n\t\t\t\tgo();\n\t\t\t}\n\t\t},\n\t\tinvalidate() {\n\t\t\tstarted = false;\n\t\t},\n\t\tend() {\n\t\t\tif (running) {\n\t\t\t\tcleanup();\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ end(reset: any): void; }}\n */\nexport function create_out_transition(node, fn, params) {\n\t/** @type {TransitionOptions} */\n\tconst options = { direction: 'out' };\n\tlet config = fn(node, params, options);\n\tlet running = true;\n\tlet animation_name;\n\tconst group = outros;\n\tgroup.r += 1;\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\tif (css) animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tadd_render_callback(() => dispatch(node, false, 'start'));\n\n\t\tif ('inert' in node) {\n\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\tnode.inert = true;\n\t\t}\n\n\t\tloop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(0, 1);\n\t\t\t\t\tdispatch(node, false, 'end');\n\t\t\t\t\tif (!--group.r) {\n\t\t\t\t\t\t// this will result in `end()` being called,\n\t\t\t\t\t\t// so we don't need to clean up here\n\t\t\t\t\t\trun_all(group.c);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(1 - t, t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\n\tif (is_function(config)) {\n\t\twait().then(() => {\n\t\t\t// @ts-ignore\n\t\t\tconfig = config(options);\n\t\t\tgo();\n\t\t});\n\t} else {\n\t\tgo();\n\t}\n\n\treturn {\n\t\tend(reset) {\n\t\t\tif (reset && 'inert' in node) {\n\t\t\t\tnode.inert = original_inert_value;\n\t\t\t}\n\t\t\tif (reset && config.tick) {\n\t\t\t\tconfig.tick(1, 0);\n\t\t\t}\n\t\t\tif (running) {\n\t\t\t\tif (animation_name) delete_rule(node, animation_name);\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @param {boolean} intro\n * @returns {{ run(b: 0 | 1): void; end(): void; }}\n */\nexport function create_bidirectional_transition(node, fn, params, intro) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'both' };\n\tlet config = fn(node, params, options);\n\tlet t = intro ? 0 : 1;\n\n\t/**\n\t * @type {Program | null} */\n\tlet running_program = null;\n\n\t/**\n\t * @type {PendingProgram | null} */\n\tlet pending_program = null;\n\tlet animation_name = null;\n\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction clear_animation() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @param {PendingProgram} program\n\t * @param {number} duration\n\t * @returns {Program}\n\t */\n\tfunction init(program, duration) {\n\t\tconst d = /** @type {Program['d']} */ (program.b - t);\n\t\tduration *= Math.abs(d);\n\t\treturn {\n\t\t\ta: t,\n\t\t\tb: program.b,\n\t\t\td,\n\t\t\tduration,\n\t\t\tstart: program.start,\n\t\t\tend: program.start + duration,\n\t\t\tgroup: program.group\n\t\t};\n\t}\n\n\t/**\n\t * @param {INTRO | OUTRO} b\n\t * @returns {void}\n\t */\n\tfunction go(b) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\t/**\n\t\t * @type {PendingProgram} */\n\t\tconst program = {\n\t\t\tstart: now() + delay,\n\t\t\tb\n\t\t};\n\n\t\tif (!b) {\n\t\t\t// @ts-ignore todo: improve typings\n\t\t\tprogram.group = outros;\n\t\t\toutros.r += 1;\n\t\t}\n\n\t\tif ('inert' in node) {\n\t\t\tif (b) {\n\t\t\t\tif (original_inert_value !== undefined) {\n\t\t\t\t\t// aborted/reversed outro — restore previous inert value\n\t\t\t\t\tnode.inert = original_inert_value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\t\tnode.inert = true;\n\t\t\t}\n\t\t}\n\n\t\tif (running_program || pending_program) {\n\t\t\tpending_program = program;\n\t\t} else {\n\t\t\t// if this is an intro, and there's a delay, we need to do\n\t\t\t// an initial tick and/or apply CSS animation immediately\n\t\t\tif (css) {\n\t\t\t\tclear_animation();\n\t\t\t\tanimation_name = create_rule(node, t, b, duration, delay, easing, css);\n\t\t\t}\n\t\t\tif (b) tick(0, 1);\n\t\t\trunning_program = init(program, duration);\n\t\t\tadd_render_callback(() => dispatch(node, b, 'start'));\n\t\t\tloop((now) => {\n\t\t\t\tif (pending_program && now > pending_program.start) {\n\t\t\t\t\trunning_program = init(pending_program, duration);\n\t\t\t\t\tpending_program = null;\n\t\t\t\t\tdispatch(node, running_program.b, 'start');\n\t\t\t\t\tif (css) {\n\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\tanimation_name = create_rule(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tt,\n\t\t\t\t\t\t\trunning_program.b,\n\t\t\t\t\t\t\trunning_program.duration,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\teasing,\n\t\t\t\t\t\t\tconfig.css\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (running_program) {\n\t\t\t\t\tif (now >= running_program.end) {\n\t\t\t\t\t\ttick((t = running_program.b), 1 - t);\n\t\t\t\t\t\tdispatch(node, running_program.b, 'end');\n\t\t\t\t\t\tif (!pending_program) {\n\t\t\t\t\t\t\t// we're done\n\t\t\t\t\t\t\tif (running_program.b) {\n\t\t\t\t\t\t\t\t// intro — we can tidy up immediately\n\t\t\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// outro — needs to be coordinated\n\t\t\t\t\t\t\t\tif (!--running_program.group.r) run_all(running_program.group.c);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\trunning_program = null;\n\t\t\t\t\t} else if (now >= running_program.start) {\n\t\t\t\t\t\tconst p = now - running_program.start;\n\t\t\t\t\t\tt = running_program.a + running_program.d * easing(p / running_program.duration);\n\t\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!(running_program || pending_program);\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\trun(b) {\n\t\t\tif (is_function(config)) {\n\t\t\t\twait().then(() => {\n\t\t\t\t\tconst opts = { direction: b ? 'in' : 'out' };\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tconfig = config(opts);\n\t\t\t\t\tgo(b);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tgo(b);\n\t\t\t}\n\t\t},\n\t\tend() {\n\t\t\tclear_animation();\n\t\t\trunning_program = pending_program = null;\n\t\t}\n\t};\n}\n\n/** @typedef {1} INTRO */\n/** @typedef {0} OUTRO */\n/** @typedef {{ direction: 'in' | 'out' | 'both' }} TransitionOptions */\n/** @typedef {(node: Element, params: any, options: TransitionOptions) => import('../transition/public.js').TransitionConfig} TransitionFn */\n\n/**\n * @typedef {Object} Outro\n * @property {number} r\n * @property {Function[]} c\n * @property {Object} p\n */\n\n/**\n * @typedef {Object} PendingProgram\n * @property {number} start\n * @property {INTRO|OUTRO} b\n * @property {Outro} [group]\n */\n\n/**\n * @typedef {Object} Program\n * @property {number} a\n * @property {INTRO|OUTRO} b\n * @property {1|-1} d\n * @property {number} duration\n * @property {number} start\n * @property {number} end\n * @property {Outro} [group]\n */\n","import { transition_in, transition_out } from './transitions.js';\nimport { run_all } from './utils.js';\n\n// general each functions:\n\nexport function ensure_array_like(array_like_or_iterator) {\n\treturn array_like_or_iterator?.length !== undefined\n\t\t? array_like_or_iterator\n\t\t: Array.from(array_like_or_iterator);\n}\n\n// keyed each functions:\n\n/** @returns {void} */\nexport function destroy_block(block, lookup) {\n\tblock.d(1);\n\tlookup.delete(block.key);\n}\n\n/** @returns {void} */\nexport function outro_and_destroy_block(block, lookup) {\n\ttransition_out(block, 1, 1, () => {\n\t\tlookup.delete(block.key);\n\t});\n}\n\n/** @returns {void} */\nexport function fix_and_destroy_block(block, lookup) {\n\tblock.f();\n\tdestroy_block(block, lookup);\n}\n\n/** @returns {void} */\nexport function fix_and_outro_and_destroy_block(block, lookup) {\n\tblock.f();\n\toutro_and_destroy_block(block, lookup);\n}\n\n/** @returns {any[]} */\nexport function update_keyed_each(\n\told_blocks,\n\tdirty,\n\tget_key,\n\tdynamic,\n\tctx,\n\tlist,\n\tlookup,\n\tnode,\n\tdestroy,\n\tcreate_each_block,\n\tnext,\n\tget_context\n) {\n\tlet o = old_blocks.length;\n\tlet n = list.length;\n\tlet i = o;\n\tconst old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\tconst new_blocks = [];\n\tconst new_lookup = new Map();\n\tconst deltas = new Map();\n\tconst updates = [];\n\ti = n;\n\twhile (i--) {\n\t\tconst child_ctx = get_context(ctx, list, i);\n\t\tconst key = get_key(child_ctx);\n\t\tlet block = lookup.get(key);\n\t\tif (!block) {\n\t\t\tblock = create_each_block(key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\t// defer updates until all the DOM shuffling is done\n\t\t\tupdates.push(() => block.p(child_ctx, dirty));\n\t\t}\n\t\tnew_lookup.set(key, (new_blocks[i] = block));\n\t\tif (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));\n\t}\n\tconst will_move = new Set();\n\tconst did_move = new Set();\n\t/** @returns {void} */\n\tfunction insert(block) {\n\t\ttransition_in(block, 1);\n\t\tblock.m(node, next);\n\t\tlookup.set(block.key, block);\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\twhile (o && n) {\n\t\tconst new_block = new_blocks[n - 1];\n\t\tconst old_block = old_blocks[o - 1];\n\t\tconst new_key = new_block.key;\n\t\tconst old_key = old_block.key;\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t} else if (!new_lookup.has(old_key)) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t} else if (!lookup.has(new_key) || will_move.has(new_key)) {\n\t\t\tinsert(new_block);\n\t\t} else if (did_move.has(old_key)) {\n\t\t\to--;\n\t\t} else if (deltas.get(new_key) > deltas.get(old_key)) {\n\t\t\tdid_move.add(new_key);\n\t\t\tinsert(new_block);\n\t\t} else {\n\t\t\twill_move.add(old_key);\n\t\t\to--;\n\t\t}\n\t}\n\twhile (o--) {\n\t\tconst old_block = old_blocks[o];\n\t\tif (!new_lookup.has(old_block.key)) destroy(old_block, lookup);\n\t}\n\twhile (n) insert(new_blocks[n - 1]);\n\trun_all(updates);\n\treturn new_blocks;\n}\n\n/** @returns {void} */\nexport function validate_each_keys(ctx, list, get_context, get_key) {\n\tconst keys = new Map();\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst key = get_key(get_context(ctx, list, i));\n\t\tif (keys.has(key)) {\n\t\t\tlet value = '';\n\t\t\ttry {\n\t\t\t\tvalue = `with value '${String(key)}' `;\n\t\t\t} catch (e) {\n\t\t\t\t// can't stringify\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`Cannot have duplicate keys in a keyed each: Keys at index ${keys.get(\n\t\t\t\t\tkey\n\t\t\t\t)} and ${i} ${value}are duplicates`\n\t\t\t);\n\t\t}\n\t\tkeys.set(key, i);\n\t}\n}\n","/** @returns {{}} */\nexport function get_spread_update(levels, updates) {\n\tconst update = {};\n\tconst to_null_out = {};\n\tconst accounted_for = { $$scope: 1 };\n\tlet i = levels.length;\n\twhile (i--) {\n\t\tconst o = levels[i];\n\t\tconst n = updates[i];\n\t\tif (n) {\n\t\t\tfor (const key in o) {\n\t\t\t\tif (!(key in n)) to_null_out[key] = 1;\n\t\t\t}\n\t\t\tfor (const key in n) {\n\t\t\t\tif (!accounted_for[key]) {\n\t\t\t\t\tupdate[key] = n[key];\n\t\t\t\t\taccounted_for[key] = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlevels[i] = n;\n\t\t} else {\n\t\t\tfor (const key in o) {\n\t\t\t\taccounted_for[key] = 1;\n\t\t\t}\n\t\t}\n\t}\n\tfor (const key in to_null_out) {\n\t\tif (!(key in update)) update[key] = undefined;\n\t}\n\treturn update;\n}\n\nexport function get_spread_object(spread_props) {\n\treturn typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n","import {\n\tadd_render_callback,\n\tflush,\n\tflush_render_callbacks,\n\tschedule_update,\n\tdirty_components\n} from './scheduler.js';\nimport { current_component, set_current_component } from './lifecycle.js';\nimport { blank_object, is_empty, is_function, run, run_all, noop } from './utils.js';\nimport {\n\tchildren,\n\tdetach,\n\tstart_hydrating,\n\tend_hydrating,\n\tget_custom_elements_slots,\n\tinsert,\n\telement,\n\tattr\n} from './dom.js';\nimport { transition_in } from './transitions.js';\n\n/** @returns {void} */\nexport function bind(component, name, callback) {\n\tconst index = component.$$.props[name];\n\tif (index !== undefined) {\n\t\tcomponent.$$.bound[index] = callback;\n\t\tcallback(component.$$.ctx[index]);\n\t}\n}\n\n/** @returns {void} */\nexport function create_component(block) {\n\tblock && block.c();\n}\n\n/** @returns {void} */\nexport function claim_component(block, parent_nodes) {\n\tblock && block.l(parent_nodes);\n}\n\n/** @returns {void} */\nexport function mount_component(component, target, anchor) {\n\tconst { fragment, after_update } = component.$$;\n\tfragment && fragment.m(target, anchor);\n\t// onMount happens before the initial afterUpdate\n\tadd_render_callback(() => {\n\t\tconst new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n\t\t// if the component was destroyed immediately\n\t\t// it will update the `$$.on_destroy` reference to `null`.\n\t\t// the destructured on_destroy may still reference to the old array\n\t\tif (component.$$.on_destroy) {\n\t\t\tcomponent.$$.on_destroy.push(...new_on_destroy);\n\t\t} else {\n\t\t\t// Edge case - component was destroyed immediately,\n\t\t\t// most likely as a result of a binding initialising\n\t\t\trun_all(new_on_destroy);\n\t\t}\n\t\tcomponent.$$.on_mount = [];\n\t});\n\tafter_update.forEach(add_render_callback);\n}\n\n/** @returns {void} */\nexport function destroy_component(component, detaching) {\n\tconst $$ = component.$$;\n\tif ($$.fragment !== null) {\n\t\tflush_render_callbacks($$.after_update);\n\t\trun_all($$.on_destroy);\n\t\t$$.fragment && $$.fragment.d(detaching);\n\t\t// TODO null out other refs, including component.$$ (but need to\n\t\t// preserve final state?)\n\t\t$$.on_destroy = $$.fragment = null;\n\t\t$$.ctx = [];\n\t}\n}\n\n/** @returns {void} */\nfunction make_dirty(component, i) {\n\tif (component.$$.dirty[0] === -1) {\n\t\tdirty_components.push(component);\n\t\tschedule_update();\n\t\tcomponent.$$.dirty.fill(0);\n\t}\n\tcomponent.$$.dirty[(i / 31) | 0] |= 1 << i % 31;\n}\n\n// TODO: Document the other params\n/**\n * @param {SvelteComponent} component\n * @param {import('./public.js').ComponentConstructorOptions} options\n *\n * @param {import('./utils.js')['not_equal']} not_equal Used to compare props and state values.\n * @param {(target: Element | ShadowRoot) => void} [append_styles] Function that appends styles to the DOM when the component is first initialised.\n * This will be the `add_css` function from the compiled component.\n *\n * @returns {void}\n */\nexport function init(\n\tcomponent,\n\toptions,\n\tinstance,\n\tcreate_fragment,\n\tnot_equal,\n\tprops,\n\tappend_styles = null,\n\tdirty = [-1]\n) {\n\tconst parent_component = current_component;\n\tset_current_component(component);\n\t/** @type {import('./private.js').T$$} */\n\tconst $$ = (component.$$ = {\n\t\tfragment: null,\n\t\tctx: [],\n\t\t// state\n\t\tprops,\n\t\tupdate: noop,\n\t\tnot_equal,\n\t\tbound: blank_object(),\n\t\t// lifecycle\n\t\ton_mount: [],\n\t\ton_destroy: [],\n\t\ton_disconnect: [],\n\t\tbefore_update: [],\n\t\tafter_update: [],\n\t\tcontext: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n\t\t// everything else\n\t\tcallbacks: blank_object(),\n\t\tdirty,\n\t\tskip_bound: false,\n\t\troot: options.target || parent_component.$$.root\n\t});\n\tappend_styles && append_styles($$.root);\n\tlet ready = false;\n\t$$.ctx = instance\n\t\t? instance(component, options.props || {}, (i, ret, ...rest) => {\n\t\t\t\tconst value = rest.length ? rest[0] : ret;\n\t\t\t\tif ($$.ctx && not_equal($$.ctx[i], ($$.ctx[i] = value))) {\n\t\t\t\t\tif (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);\n\t\t\t\t\tif (ready) make_dirty(component, i);\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t  })\n\t\t: [];\n\t$$.update();\n\tready = true;\n\trun_all($$.before_update);\n\t// `false` as a special case of no DOM component\n\t$$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n\tif (options.target) {\n\t\tif (options.hydrate) {\n\t\t\tstart_hydrating();\n\t\t\t// TODO: what is the correct type here?\n\t\t\t// @ts-expect-error\n\t\t\tconst nodes = children(options.target);\n\t\t\t$$.fragment && $$.fragment.l(nodes);\n\t\t\tnodes.forEach(detach);\n\t\t} else {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t$$.fragment && $$.fragment.c();\n\t\t}\n\t\tif (options.intro) transition_in(component.$$.fragment);\n\t\tmount_component(component, options.target, options.anchor);\n\t\tend_hydrating();\n\t\tflush();\n\t}\n\tset_current_component(parent_component);\n}\n\nexport let SvelteElement;\n\nif (typeof HTMLElement === 'function') {\n\tSvelteElement = class extends HTMLElement {\n\t\t/** The Svelte component constructor */\n\t\t$$ctor;\n\t\t/** Slots */\n\t\t$$s;\n\t\t/** The Svelte component instance */\n\t\t$$c;\n\t\t/** Whether or not the custom element is connected */\n\t\t$$cn = false;\n\t\t/** Component props data */\n\t\t$$d = {};\n\t\t/** `true` if currently in the process of reflecting component props back to attributes */\n\t\t$$r = false;\n\t\t/** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */\n\t\t$$p_d = {};\n\t\t/** @type {Record<string, Function[]>} Event listeners */\n\t\t$$l = {};\n\t\t/** @type {Map<Function, Function>} Event listener unsubscribe functions */\n\t\t$$l_u = new Map();\n\n\t\tconstructor($$componentCtor, $$slots, use_shadow_dom) {\n\t\t\tsuper();\n\t\t\tthis.$$ctor = $$componentCtor;\n\t\t\tthis.$$s = $$slots;\n\t\t\tif (use_shadow_dom) {\n\t\t\t\tthis.attachShadow({ mode: 'open' });\n\t\t\t}\n\t\t}\n\n\t\taddEventListener(type, listener, options) {\n\t\t\t// We can't determine upfront if the event is a custom event or not, so we have to\n\t\t\t// listen to both. If someone uses a custom event with the same name as a regular\n\t\t\t// browser event, this fires twice - we can't avoid that.\n\t\t\tthis.$$l[type] = this.$$l[type] || [];\n\t\t\tthis.$$l[type].push(listener);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t}\n\t\t\tsuper.addEventListener(type, listener, options);\n\t\t}\n\n\t\tremoveEventListener(type, listener, options) {\n\t\t\tsuper.removeEventListener(type, listener, options);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$l_u.get(listener);\n\t\t\t\tif (unsub) {\n\t\t\t\t\tunsub();\n\t\t\t\t\tthis.$$l_u.delete(listener);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync connectedCallback() {\n\t\t\tthis.$$cn = true;\n\t\t\tif (!this.$$c) {\n\t\t\t\t// We wait one tick to let possible child slot elements be created/mounted\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tif (!this.$$cn || this.$$c) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfunction create_slot(name) {\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\tlet node;\n\t\t\t\t\t\tconst obj = {\n\t\t\t\t\t\t\tc: function create() {\n\t\t\t\t\t\t\t\tnode = element('slot');\n\t\t\t\t\t\t\t\tif (name !== 'default') {\n\t\t\t\t\t\t\t\t\tattr(node, 'name', name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t\t\t\t * @param {HTMLElement} [anchor]\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tm: function mount(target, anchor) {\n\t\t\t\t\t\t\t\tinsert(target, node, anchor);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\td: function destroy(detaching) {\n\t\t\t\t\t\t\t\tif (detaching) {\n\t\t\t\t\t\t\t\t\tdetach(node);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst $$slots = {};\n\t\t\t\tconst existing_slots = get_custom_elements_slots(this);\n\t\t\t\tfor (const name of this.$$s) {\n\t\t\t\t\tif (name in existing_slots) {\n\t\t\t\t\t\t$$slots[name] = [create_slot(name)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (const attribute of this.attributes) {\n\t\t\t\t\t// this.$$data takes precedence over this.attributes\n\t\t\t\t\tconst name = this.$$g_p(attribute.name);\n\t\t\t\t\tif (!(name in this.$$d)) {\n\t\t\t\t\t\tthis.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, 'toProp');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Port over props that were set programmatically before ce was initialized\n\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\tif (!(key in this.$$d) && this[key] !== undefined) {\n\t\t\t\t\t\tthis.$$d[key] = this[key]; // don't transform, these were set through JavaScript\n\t\t\t\t\t\tdelete this[key]; // remove the property that shadows the getter/setter\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$c = new this.$$ctor({\n\t\t\t\t\ttarget: this.shadowRoot || this,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...this.$$d,\n\t\t\t\t\t\t$$slots,\n\t\t\t\t\t\t$$scope: {\n\t\t\t\t\t\t\tctx: []\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Reflect component props as attributes\n\t\t\t\tconst reflect_attributes = () => {\n\t\t\t\t\tthis.$$r = true;\n\t\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\t\tthis.$$d[key] = this.$$c.$$.ctx[this.$$c.$$.props[key]];\n\t\t\t\t\t\tif (this.$$p_d[key].reflect) {\n\t\t\t\t\t\t\tconst attribute_value = get_custom_element_value(\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\tthis.$$d[key],\n\t\t\t\t\t\t\t\tthis.$$p_d,\n\t\t\t\t\t\t\t\t'toAttribute'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (attribute_value == null) {\n\t\t\t\t\t\t\t\tthis.removeAttribute(this.$$p_d[key].attribute || key);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.setAttribute(this.$$p_d[key].attribute || key, attribute_value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.$$r = false;\n\t\t\t\t};\n\t\t\t\tthis.$$c.$$.after_update.push(reflect_attributes);\n\t\t\t\treflect_attributes(); // once initially because after_update is added too late for first render\n\n\t\t\t\tfor (const type in this.$$l) {\n\t\t\t\t\tfor (const listener of this.$$l[type]) {\n\t\t\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$l = {};\n\t\t\t}\n\t\t}\n\n\t\t// We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte\n\t\t// and setting attributes through setAttribute etc, this is helpful\n\t\tattributeChangedCallback(attr, _oldValue, newValue) {\n\t\t\tif (this.$$r) return;\n\t\t\tattr = this.$$g_p(attr);\n\t\t\tthis.$$d[attr] = get_custom_element_value(attr, newValue, this.$$p_d, 'toProp');\n\t\t\tthis.$$c?.$set({ [attr]: this.$$d[attr] });\n\t\t}\n\n\t\tdisconnectedCallback() {\n\t\t\tthis.$$cn = false;\n\t\t\t// In a microtask, because this could be a move within the DOM\n\t\t\tPromise.resolve().then(() => {\n\t\t\t\tif (!this.$$cn && this.$$c) {\n\t\t\t\t\tthis.$$c.$destroy();\n\t\t\t\t\tthis.$$c = undefined;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$$g_p(attribute_name) {\n\t\t\treturn (\n\t\t\t\tObject.keys(this.$$p_d).find(\n\t\t\t\t\t(key) =>\n\t\t\t\t\t\tthis.$$p_d[key].attribute === attribute_name ||\n\t\t\t\t\t\t(!this.$$p_d[key].attribute && key.toLowerCase() === attribute_name)\n\t\t\t\t) || attribute_name\n\t\t\t);\n\t\t}\n\t};\n}\n\n/**\n * @param {string} prop\n * @param {any} value\n * @param {Record<string, CustomElementPropDefinition>} props_definition\n * @param {'toAttribute' | 'toProp'} [transform]\n */\nfunction get_custom_element_value(prop, value, props_definition, transform) {\n\tconst type = props_definition[prop]?.type;\n\tvalue = type === 'Boolean' && typeof value !== 'boolean' ? value != null : value;\n\tif (!transform || !props_definition[prop]) {\n\t\treturn value;\n\t} else if (transform === 'toAttribute') {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value == null ? null : JSON.stringify(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value ? '' : null;\n\t\t\tcase 'Number':\n\t\t\t\treturn value == null ? null : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t} else {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value && JSON.parse(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value; // conversion already handled above\n\t\t\tcase 'Number':\n\t\t\t\treturn value != null ? +value : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t}\n}\n\n/**\n * @internal\n *\n * Turn a Svelte component into a custom element.\n * @param {import('./public.js').ComponentType} Component  A Svelte component constructor\n * @param {Record<string, CustomElementPropDefinition>} props_definition  The props to observe\n * @param {string[]} slots  The slots to create\n * @param {string[]} accessors  Other accessors besides the ones for props the component has\n * @param {boolean} use_shadow_dom  Whether to use shadow DOM\n * @param {(ce: new () => HTMLElement) => new () => HTMLElement} [extend]\n */\nexport function create_custom_element(\n\tComponent,\n\tprops_definition,\n\tslots,\n\taccessors,\n\tuse_shadow_dom,\n\textend\n) {\n\tlet Class = class extends SvelteElement {\n\t\tconstructor() {\n\t\t\tsuper(Component, slots, use_shadow_dom);\n\t\t\tthis.$$p_d = props_definition;\n\t\t}\n\t\tstatic get observedAttributes() {\n\t\t\treturn Object.keys(props_definition).map((key) =>\n\t\t\t\t(props_definition[key].attribute || key).toLowerCase()\n\t\t\t);\n\t\t}\n\t};\n\tObject.keys(props_definition).forEach((prop) => {\n\t\tObject.defineProperty(Class.prototype, prop, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c && prop in this.$$c ? this.$$c[prop] : this.$$d[prop];\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tvalue = get_custom_element_value(prop, value, props_definition);\n\t\t\t\tthis.$$d[prop] = value;\n\t\t\t\tthis.$$c?.$set({ [prop]: value });\n\t\t\t}\n\t\t});\n\t});\n\taccessors.forEach((accessor) => {\n\t\tObject.defineProperty(Class.prototype, accessor, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c?.[accessor];\n\t\t\t}\n\t\t});\n\t});\n\tif (extend) {\n\t\t// @ts-expect-error - assigning here is fine\n\t\tClass = extend(Class);\n\t}\n\tComponent.element = /** @type {any} */ (Class);\n\treturn Class;\n}\n\n/**\n * Base class for Svelte components. Used when dev=false.\n *\n * @template {Record<string, any>} [Props=any]\n * @template {Record<string, any>} [Events=any]\n */\nexport class SvelteComponent {\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$ = undefined;\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$set = undefined;\n\n\t/** @returns {void} */\n\t$destroy() {\n\t\tdestroy_component(this, 1);\n\t\tthis.$destroy = noop;\n\t}\n\n\t/**\n\t * @template {Extract<keyof Events, string>} K\n\t * @param {K} type\n\t * @param {((e: Events[K]) => void) | null | undefined} callback\n\t * @returns {() => void}\n\t */\n\t$on(type, callback) {\n\t\tif (!is_function(callback)) {\n\t\t\treturn noop;\n\t\t}\n\t\tconst callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n\t\tcallbacks.push(callback);\n\t\treturn () => {\n\t\t\tconst index = callbacks.indexOf(callback);\n\t\t\tif (index !== -1) callbacks.splice(index, 1);\n\t\t};\n\t}\n\n\t/**\n\t * @param {Partial<Props>} props\n\t * @returns {void}\n\t */\n\t$set(props) {\n\t\tif (this.$$set && !is_empty(props)) {\n\t\t\tthis.$$.skip_bound = true;\n\t\t\tthis.$$set(props);\n\t\t\tthis.$$.skip_bound = false;\n\t\t}\n\t}\n}\n\n/**\n * @typedef {Object} CustomElementPropDefinition\n * @property {string} [attribute]\n * @property {boolean} [reflect]\n * @property {'String'|'Boolean'|'Number'|'Array'|'Object'} [type]\n */\n","// generated during release, do not modify\n\n/**\n * The current version, as set in package.json.\n *\n * https://svelte.dev/docs/svelte-compiler#svelte-version\n * @type {string}\n */\nexport const VERSION = '4.2.18';\nexport const PUBLIC_VERSION = '4';\n","import { PUBLIC_VERSION } from '../../../shared/version.js';\n\nif (typeof window !== 'undefined')\n\t// @ts-ignore\n\t(window.__svelte || (window.__svelte = { v: new Set() })).v.add(PUBLIC_VERSION);\n","import {\n\trun_all,\n\tsubscribe,\n\tnoop,\n\tsafe_not_equal,\n\tis_function,\n\tget_store_value\n} from '../internal/index.js';\n\nconst subscriber_queue = [];\n\n/**\n * Creates a `Readable` store that allows reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#readable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readable(value, start) {\n\treturn {\n\t\tsubscribe: writable(value, start).subscribe\n\t};\n}\n\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#writable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Writable<T>}\n */\nexport function writable(value, start = noop) {\n\t/** @type {import('./public.js').Unsubscriber} */\n\tlet stop;\n\t/** @type {Set<import('./private.js').SubscribeInvalidateTuple<T>>} */\n\tconst subscribers = new Set();\n\t/** @param {T} new_value\n\t * @returns {void}\n\t */\n\tfunction set(new_value) {\n\t\tif (safe_not_equal(value, new_value)) {\n\t\t\tvalue = new_value;\n\t\t\tif (stop) {\n\t\t\t\t// store is ready\n\t\t\t\tconst run_queue = !subscriber_queue.length;\n\t\t\t\tfor (const subscriber of subscribers) {\n\t\t\t\t\tsubscriber[1]();\n\t\t\t\t\tsubscriber_queue.push(subscriber, value);\n\t\t\t\t}\n\t\t\t\tif (run_queue) {\n\t\t\t\t\tfor (let i = 0; i < subscriber_queue.length; i += 2) {\n\t\t\t\t\t\tsubscriber_queue[i][0](subscriber_queue[i + 1]);\n\t\t\t\t\t}\n\t\t\t\t\tsubscriber_queue.length = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('./public.js').Updater<T>} fn\n\t * @returns {void}\n\t */\n\tfunction update(fn) {\n\t\tset(fn(value));\n\t}\n\n\t/**\n\t * @param {import('./public.js').Subscriber<T>} run\n\t * @param {import('./private.js').Invalidator<T>} [invalidate]\n\t * @returns {import('./public.js').Unsubscriber}\n\t */\n\tfunction subscribe(run, invalidate = noop) {\n\t\t/** @type {import('./private.js').SubscribeInvalidateTuple<T>} */\n\t\tconst subscriber = [run, invalidate];\n\t\tsubscribers.add(subscriber);\n\t\tif (subscribers.size === 1) {\n\t\t\tstop = start(set, update) || noop;\n\t\t}\n\t\trun(value);\n\t\treturn () => {\n\t\t\tsubscribers.delete(subscriber);\n\t\t\tif (subscribers.size === 0 && stop) {\n\t\t\t\tstop();\n\t\t\t\tstop = null;\n\t\t\t}\n\t\t};\n\t}\n\treturn { set, update, subscribe };\n}\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>, set: (value: T) => void, update: (fn: import('./public.js').Updater<T>) => void) => import('./public.js').Unsubscriber | void} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>) => T} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * @template {import('./private.js').Stores} S\n * @template T\n * @param {S} stores\n * @param {Function} fn\n * @param {T} [initial_value]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function derived(stores, fn, initial_value) {\n\tconst single = !Array.isArray(stores);\n\t/** @type {Array<import('./public.js').Readable<any>>} */\n\tconst stores_array = single ? [stores] : stores;\n\tif (!stores_array.every(Boolean)) {\n\t\tthrow new Error('derived() expects stores as input, got a falsy value');\n\t}\n\tconst auto = fn.length < 2;\n\treturn readable(initial_value, (set, update) => {\n\t\tlet started = false;\n\t\tconst values = [];\n\t\tlet pending = 0;\n\t\tlet cleanup = noop;\n\t\tconst sync = () => {\n\t\t\tif (pending) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcleanup();\n\t\t\tconst result = fn(single ? values[0] : values, set, update);\n\t\t\tif (auto) {\n\t\t\t\tset(result);\n\t\t\t} else {\n\t\t\t\tcleanup = is_function(result) ? result : noop;\n\t\t\t}\n\t\t};\n\t\tconst unsubscribers = stores_array.map((store, i) =>\n\t\t\tsubscribe(\n\t\t\t\tstore,\n\t\t\t\t(value) => {\n\t\t\t\t\tvalues[i] = value;\n\t\t\t\t\tpending &= ~(1 << i);\n\t\t\t\t\tif (started) {\n\t\t\t\t\t\tsync();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tpending |= 1 << i;\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\t\tstarted = true;\n\t\tsync();\n\t\treturn function stop() {\n\t\t\trun_all(unsubscribers);\n\t\t\tcleanup();\n\t\t\t// We need to set this to false because callbacks can still happen despite having unsubscribed:\n\t\t\t// Callbacks might already be placed in the queue which doesn't know it should no longer\n\t\t\t// invoke this derived store.\n\t\t\tstarted = false;\n\t\t};\n\t});\n}\n\n/**\n * Takes a store and returns a new one derived from the old one that is readable.\n *\n * https://svelte.dev/docs/svelte-store#readonly\n * @template T\n * @param {import('./public.js').Readable<T>} store  - store to make readonly\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readonly(store) {\n\treturn {\n\t\tsubscribe: store.subscribe.bind(store)\n\t};\n}\n\nexport { get_store_value as get };\n","export function parse(str, loose) {\n\tif (str instanceof RegExp) return { keys:false, pattern:str };\n\tvar c, o, tmp, ext, keys=[], pattern='', arr = str.split('/');\n\tarr[0] || arr.shift();\n\n\twhile (tmp = arr.shift()) {\n\t\tc = tmp[0];\n\t\tif (c === '*') {\n\t\t\tkeys.push('wild');\n\t\t\tpattern += '/(.*)';\n\t\t} else if (c === ':') {\n\t\t\to = tmp.indexOf('?', 1);\n\t\t\text = tmp.indexOf('.', 1);\n\t\t\tkeys.push( tmp.substring(1, !!~o ? o : !!~ext ? ext : tmp.length) );\n\t\t\tpattern += !!~o && !~ext ? '(?:/([^/]+?))?' : '/([^/]+?)';\n\t\t\tif (!!~ext) pattern += (!!~o ? '?' : '') + '\\\\' + tmp.substring(ext);\n\t\t} else {\n\t\t\tpattern += '/' + tmp;\n\t\t}\n\t}\n\n\treturn {\n\t\tkeys: keys,\n\t\tpattern: new RegExp('^' + pattern + (loose ? '(?=$|\\/)' : '\\/?$'), 'i')\n\t};\n}\n\nvar RGX = /(\\/|^)([:*][^/]*?)(\\?)?(?=[/.]|$)/g;\n\n// error if key missing?\nexport function inject(route, values) {\n\treturn route.replace(RGX, (x, lead, key, optional) => {\n\t\tx = values[key=='*' ? 'wild' : key.substring(1)];\n\t\treturn x ? '/'+x : (optional || key=='*') ? '' : '/' + key;\n\t});\n}\n","<script context=\"module\">\nimport {readable, writable, derived} from 'svelte/store'\nimport {tick} from 'svelte'\n\n/**\n * @typedef {Object} Location\n * @property {string} location - Location (page/view), for example `/book`\n * @property {string} [querystring] - Querystring from the hash, as a string not parsed\n */\n/**\n * Returns the current location from the hash.\n *\n * @returns {Location} Location object\n * @private\n */\nfunction getLocation() {\n    const hashPosition = window.location.href.indexOf('#/')\n    let location = (hashPosition > -1) ? window.location.href.substr(hashPosition + 1) : '/'\n\n    // Check if there's a querystring\n    const qsPosition = location.indexOf('?')\n    let querystring = ''\n    if (qsPosition > -1) {\n        querystring = location.substr(qsPosition + 1)\n        location = location.substr(0, qsPosition)\n    }\n\n    return {location, querystring}\n}\n\n/**\n * Readable store that returns the current full location (incl. querystring)\n */\nexport const loc = readable(\n    null,\n    // eslint-disable-next-line prefer-arrow-callback\n    function start(set) {\n        set(getLocation())\n\n        const update = () => {\n            set(getLocation())\n        }\n        window.addEventListener('hashchange', update, false)\n\n        return function stop() {\n            window.removeEventListener('hashchange', update, false)\n        }\n    }\n)\n\n/**\n * Readable store that returns the current location\n */\nexport const location = derived(\n    loc,\n    (_loc) => _loc.location\n)\n\n/**\n * Readable store that returns the current querystring\n */\nexport const querystring = derived(\n    loc,\n    (_loc) => _loc.querystring\n)\n\n/**\n * Store that returns the currently-matched params.\n * Despite this being writable, consumers should not change the value of the store.\n * It is exported as a readable store only (in the typings file)\n */\nexport const params = writable(undefined)\n\n/**\n * Navigates to a new page programmatically.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n * @return {Promise<void>} Promise that resolves after the page navigation has completed\n */\nexport async function push(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    await tick()\n\n    // Note: this will include scroll state in history even when restoreScrollState is false\n    history.replaceState({...history.state, __svelte_spa_router_scrollX: window.scrollX, __svelte_spa_router_scrollY: window.scrollY}, undefined)      \n    window.location.hash = (location.charAt(0) == '#' ? '' : '#') + location\n}\n\n/**\n * Navigates back in history (equivalent to pressing the browser's back button).\n * \n * @return {Promise<void>} Promise that resolves after the page navigation has completed\n */\nexport async function pop() {\n    // Execute this code when the current call stack is complete\n    await tick()\n\n    window.history.back()\n}\n\n/**\n * Replaces the current page but without modifying the history stack.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n * @return {Promise<void>} Promise that resolves after the page navigation has completed\n */\nexport async function replace(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    await tick()\n\n    const dest = (location.charAt(0) == '#' ? '' : '#') + location\n    try {\n        const newState = {\n            ...history.state\n        }\n        delete newState['__svelte_spa_router_scrollX']\n        delete newState['__svelte_spa_router_scrollY']\n        window.history.replaceState(newState, undefined, dest)\n    }\n    catch (e) {\n        // eslint-disable-next-line no-console\n        console.warn('Caught exception while replacing the current page. If you\\'re running this in the Svelte REPL, please note that the `replace` method might not work in this environment.')\n    }\n\n    // The method above doesn't trigger the hashchange event, so let's do that manually\n    window.dispatchEvent(new Event('hashchange'))\n}\n\n/**\n * Dictionary with options for the link action.\n * @typedef {Object} LinkActionOpts\n * @property {string} href - A string to use in place of the link's href attribute. Using this allows for updating link's targets reactively.\n * @property {boolean} disabled - If true, link is disabled\n */\n\n/**\n * Svelte Action that enables a link element (`<a>`) to use our history management.\n *\n * For example:\n *\n * ````html\n * <a href=\"/books\" use:link>View books</a>\n * ````\n *\n * @param {HTMLElement} node - The target node (automatically set by Svelte). Must be an anchor tag (`<a>`) with a href attribute starting in `/`\n * @param {string|LinkActionOpts} opts - Options object. For legacy reasons, we support a string too which will be the value for opts.href\n */\nexport function link(node, opts) {\n    opts = linkOpts(opts)\n\n    // Only apply to <a> tags\n    if (!node || !node.tagName || node.tagName.toLowerCase() != 'a') {\n        throw Error('Action \"link\" can only be used with <a> tags')\n    }\n\n    updateLink(node, opts)\n\n    return {\n        update(updated) {\n            updated = linkOpts(updated)\n            updateLink(node, updated)\n        }\n    }\n}\n\n/**\n * Tries to restore the scroll state from the given history state.\n *\n * @param {{__svelte_spa_router_scrollX: number, __svelte_spa_router_scrollY: number}} [state] - The history state to restore from.\n */\nexport function restoreScroll(state) {\n    // If this exists, then this is a back navigation: restore the scroll position\n    if (state) {\n        window.scrollTo(state.__svelte_spa_router_scrollX, state.__svelte_spa_router_scrollY)\n    }\n    else {\n        // Otherwise this is a forward navigation: scroll to top\n        window.scrollTo(0, 0)\n    }\n}\n\n// Internal function used by the link function\nfunction updateLink(node, opts) {\n    let href = opts.href || node.getAttribute('href')\n\n    // Destination must start with '/' or '#/'\n    if (href && href.charAt(0) == '/') {\n        // Add # to the href attribute\n        href = '#' + href\n    }\n    else if (!href || href.length < 2 || href.slice(0, 2) != '#/') {\n        throw Error('Invalid value for \"href\" attribute: ' + href)\n    }\n\n    node.setAttribute('href', href)\n    node.addEventListener('click', (event) => {\n        // Prevent default anchor onclick behaviour\n        event.preventDefault()\n        if (!opts.disabled) {\n            scrollstateHistoryHandler(event.currentTarget.getAttribute('href'))\n        }\n    })\n}\n\n// Internal function that ensures the argument of the link action is always an object\nfunction linkOpts(val) {\n    if (val && typeof val == 'string') {\n        return {\n            href: val\n        }\n    }\n    else {\n        return val || {}\n    }\n}\n\n/**\n * The handler attached to an anchor tag responsible for updating the\n * current history state with the current scroll state\n *\n * @param {string} href - Destination\n */\nfunction scrollstateHistoryHandler(href) {\n    // Setting the url (3rd arg) to href will break clicking for reasons, so don't try to do that\n    history.replaceState({...history.state, __svelte_spa_router_scrollX: window.scrollX, __svelte_spa_router_scrollY: window.scrollY}, undefined)\n    // This will force an update as desired, but this time our scroll state will be attached\n    window.location.hash = href\n}\n</script>\n\n{#if componentParams}\n    <svelte:component\n    this={component}\n    params={componentParams}\n    on:routeEvent\n    {...props}\n    />\n{:else}\n    <svelte:component\n    this={component}\n    on:routeEvent\n    {...props}\n    />\n{/if}\n\n<script>\nimport {onDestroy, createEventDispatcher, afterUpdate} from 'svelte'\nimport {parse} from 'regexparam'\n\n/**\n * Dictionary of all routes, in the format `'/path': component`.\n *\n * For example:\n * ````js\n * import HomeRoute from './routes/HomeRoute.svelte'\n * import BooksRoute from './routes/BooksRoute.svelte'\n * import NotFoundRoute from './routes/NotFoundRoute.svelte'\n * routes = {\n *     '/': HomeRoute,\n *     '/books': BooksRoute,\n *     '*': NotFoundRoute\n * }\n * ````\n */\nexport let routes = {}\n\n/**\n * Optional prefix for the routes in this router. This is useful for example in the case of nested routers.\n */\nexport let prefix = ''\n\n/**\n * If set to true, the router will restore scroll positions on back navigation\n * and scroll to top on forward navigation.\n */\nexport let restoreScrollState = false\n\n/**\n * Container for a route: path, component\n */\nclass RouteItem {\n    /**\n     * Initializes the object and creates a regular expression from the path, using regexparam.\n     *\n     * @param {string} path - Path to the route (must start with '/' or '*')\n     * @param {SvelteComponent|WrappedComponent} component - Svelte component for the route, optionally wrapped\n     */\n    constructor(path, component) {\n        if (!component || (typeof component != 'function' && (typeof component != 'object' || component._sveltesparouter !== true))) {\n            throw Error('Invalid component object')\n        }\n\n        // Path must be a regular or expression, or a string starting with '/' or '*'\n        if (!path || \n            (typeof path == 'string' && (path.length < 1 || (path.charAt(0) != '/' && path.charAt(0) != '*'))) ||\n            (typeof path == 'object' && !(path instanceof RegExp))\n        ) {\n            throw Error('Invalid value for \"path\" argument - strings must start with / or *')\n        }\n\n        const {pattern, keys} = parse(path)\n\n        this.path = path\n\n        // Check if the component is wrapped and we have conditions\n        if (typeof component == 'object' && component._sveltesparouter === true) {\n            this.component = component.component\n            this.conditions = component.conditions || []\n            this.userData = component.userData\n            this.props = component.props || {}\n        }\n        else {\n            // Convert the component to a function that returns a Promise, to normalize it\n            this.component = () => Promise.resolve(component)\n            this.conditions = []\n            this.props = {}\n        }\n\n        this._pattern = pattern\n        this._keys = keys\n    }\n\n    /**\n     * Checks if `path` matches the current route.\n     * If there's a match, will return the list of parameters from the URL (if any).\n     * In case of no match, the method will return `null`.\n     *\n     * @param {string} path - Path to test\n     * @returns {null|Object.<string, string>} List of paramters from the URL if there's a match, or `null` otherwise.\n     */\n    match(path) {\n        // If there's a prefix, check if it matches the start of the path.\n        // If not, bail early, else remove it before we run the matching.\n        if (prefix) {\n            if (typeof prefix == 'string') {\n                if (path.startsWith(prefix)) {\n                    path = path.substr(prefix.length) || '/'\n                }\n                else {\n                    return null\n                }\n            }\n            else if (prefix instanceof RegExp) {\n                const match = path.match(prefix)\n                if (match && match[0]) {\n                    path = path.substr(match[0].length) || '/'\n                }\n                else {\n                    return null\n                }\n            }\n        }\n\n        // Check if the pattern matches\n        const matches = this._pattern.exec(path)\n        if (matches === null) {\n            return null\n        }\n\n        // If the input was a regular expression, this._keys would be false, so return matches as is\n        if (this._keys === false) {\n            return matches\n        }\n\n        const out = {}\n        let i = 0\n        while (i < this._keys.length) {\n            // In the match parameters, URL-decode all values\n            try {\n                out[this._keys[i]] = decodeURIComponent(matches[i + 1] || '') || null\n            }\n            catch (e) {\n                out[this._keys[i]] = null\n            }\n            i++\n        }\n        return out\n    }\n\n    /**\n     * Dictionary with route details passed to the pre-conditions functions, as well as the `routeLoading`, `routeLoaded` and `conditionsFailed` events\n     * @typedef {Object} RouteDetail\n     * @property {string|RegExp} route - Route matched as defined in the route definition (could be a string or a reguar expression object)\n     * @property {string} location - Location path\n     * @property {string} querystring - Querystring from the hash\n     * @property {object} [userData] - Custom data passed by the user\n     * @property {SvelteComponent} [component] - Svelte component (only in `routeLoaded` events)\n     * @property {string} [name] - Name of the Svelte component (only in `routeLoaded` events)\n     */\n\n    /**\n     * Executes all conditions (if any) to control whether the route can be shown. Conditions are executed in the order they are defined, and if a condition fails, the following ones aren't executed.\n     * \n     * @param {RouteDetail} detail - Route detail\n     * @returns {boolean} Returns true if all the conditions succeeded\n     */\n    async checkConditions(detail) {\n        for (let i = 0; i < this.conditions.length; i++) {\n            if (!(await this.conditions[i](detail))) {\n                return false\n            }\n        }\n\n        return true\n    }\n}\n\n// Set up all routes\nconst routesList = []\nif (routes instanceof Map) {\n    // If it's a map, iterate on it right away\n    routes.forEach((route, path) => {\n        routesList.push(new RouteItem(path, route))\n    })\n}\nelse {\n    // We have an object, so iterate on its own properties\n    Object.keys(routes).forEach((path) => {\n        routesList.push(new RouteItem(path, routes[path]))\n    })\n}\n\n// Props for the component to render\nlet component = null\nlet componentParams = null\nlet props = {}\n\n// Event dispatcher from Svelte\nconst dispatch = createEventDispatcher()\n\n// Just like dispatch, but executes on the next iteration of the event loop\nasync function dispatchNextTick(name, detail) {\n    // Execute this code when the current call stack is complete\n    await tick()\n    dispatch(name, detail)\n}\n\n// If this is set, then that means we have popped into this var the state of our last scroll position\nlet previousScrollState = null\n\n// Update history.scrollRestoration depending on restoreScrollState\n$: history.scrollRestoration = restoreScrollState ? 'manual' : 'auto'\nlet popStateChanged = null\nif (restoreScrollState) {\n    popStateChanged = (event) => {\n        // If this event was from our history.replaceState, event.state will contain\n        // our scroll history. Otherwise, event.state will be null (like on forward\n        // navigation)\n        if (event.state && (event.state.__svelte_spa_router_scrollY || event.state.__svelte_spa_router_scrollX)) {\n            previousScrollState = event.state\n        }\n        else {\n            previousScrollState = null\n        }\n    }\n    // This is removed in the destroy() invocation below\n    window.addEventListener('popstate', popStateChanged)\n\n    afterUpdate(() => {\n        restoreScroll(previousScrollState)\n    })\n}\n\n// Always have the latest value of loc\nlet lastLoc = null\n\n// Current object of the component loaded\nlet componentObj = null\n\n// Handle hash change events\n// Listen to changes in the $loc store and update the page\n// Do not use the $: syntax because it gets triggered by too many things\nconst unsubscribeLoc = loc.subscribe(async (newLoc) => {\n    lastLoc = newLoc\n\n    // Find a route matching the location\n    let i = 0\n    while (i < routesList.length) {\n        const match = routesList[i].match(newLoc.location)\n        if (!match) {\n            i++\n            continue\n        }\n\n        const detail = {\n            route: routesList[i].path,\n            location: newLoc.location,\n            querystring: newLoc.querystring,\n            userData: routesList[i].userData,\n            params: (match && typeof match == 'object' && Object.keys(match).length) ? match : null\n        }\n\n        // Check if the route can be loaded - if all conditions succeed\n        if (!(await routesList[i].checkConditions(detail))) {\n            // Don't display anything\n            component = null\n            componentObj = null\n            // Trigger an event to notify the user, then exit\n            dispatchNextTick('conditionsFailed', detail)\n            return\n        }\n\n        // Trigger an event to alert that we're loading the route\n        // We need to clone the object on every event invocation so we don't risk the object to be modified in the next tick\n        dispatchNextTick('routeLoading', Object.assign({}, detail))\n\n        // If there's a component to show while we're loading the route, display it\n        const obj = routesList[i].component\n        // Do not replace the component if we're loading the same one as before, to avoid the route being unmounted and re-mounted\n        if (componentObj != obj) {\n            if (obj.loading) {\n                component = obj.loading\n                componentObj = obj\n                componentParams = obj.loadingParams\n                props = {}\n\n                // Trigger the routeLoaded event for the loading component\n                // Create a copy of detail so we don't modify the object for the dynamic route (and the dynamic route doesn't modify our object too)\n                dispatchNextTick('routeLoaded', Object.assign({}, detail, {\n                    component: component,\n                    name: component.name,\n                    params: componentParams\n                }))\n            }\n            else {\n                component = null\n                componentObj = null\n            }\n\n            // Invoke the Promise\n            const loaded = await obj()\n\n            // Now that we're here, after the promise resolved, check if we still want this component, as the user might have navigated to another page in the meanwhile\n            if (newLoc != lastLoc) {\n                // Don't update the component, just exit\n                return\n            }\n\n            // If there is a \"default\" property, which is used by async routes, then pick that\n            component = (loaded && loaded.default) || loaded\n            componentObj = obj\n        }\n\n        // Set componentParams only if we have a match, to avoid a warning similar to `<Component> was created with unknown prop 'params'`\n        // Of course, this assumes that developers always add a \"params\" prop when they are expecting parameters\n        if (match && typeof match == 'object' && Object.keys(match).length) {\n            componentParams = match\n        }\n        else {\n            componentParams = null\n        }\n\n        // Set static props, if any\n        props = routesList[i].props\n\n        // Dispatch the routeLoaded event then exit\n        // We need to clone the object on every event invocation so we don't risk the object to be modified in the next tick\n        dispatchNextTick('routeLoaded', Object.assign({}, detail, {\n            component: component,\n            name: component.name,\n            params: componentParams\n        })).then(() => {\n            params.set(componentParams)\n        })\n        return\n    }\n\n    // If we're still here, there was no match, so show the empty component\n    component = null\n    componentObj = null\n    params.set(undefined)\n})\n\nonDestroy(() => {\n    unsubscribeLoc()\n    popStateChanged && window.removeEventListener('popstate', popStateChanged)\n})\n</script>\n","/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nexport { identity as linear } from '../internal/index.js';\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backInOut(t) {\n\tconst s = 1.70158 * 1.525;\n\tif ((t *= 2) < 1) return 0.5 * (t * t * ((s + 1) * t - s));\n\treturn 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backIn(t) {\n\tconst s = 1.70158;\n\treturn t * t * ((s + 1) * t - s);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backOut(t) {\n\tconst s = 1.70158;\n\treturn --t * t * ((s + 1) * t + s) + 1;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceOut(t) {\n\tconst a = 4.0 / 11.0;\n\tconst b = 8.0 / 11.0;\n\tconst c = 9.0 / 10.0;\n\tconst ca = 4356.0 / 361.0;\n\tconst cb = 35442.0 / 1805.0;\n\tconst cc = 16061.0 / 1805.0;\n\tconst t2 = t * t;\n\treturn t < a\n\t\t? 7.5625 * t2\n\t\t: t < b\n\t\t? 9.075 * t2 - 9.9 * t + 3.4\n\t\t: t < c\n\t\t? ca * t2 - cb * t + cc\n\t\t: 10.8 * t * t - 20.52 * t + 10.72;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceInOut(t) {\n\treturn t < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0)) : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceIn(t) {\n\treturn 1.0 - bounceOut(1.0 - t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circInOut(t) {\n\tif ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1);\n\treturn 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circIn(t) {\n\treturn 1.0 - Math.sqrt(1.0 - t * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circOut(t) {\n\treturn Math.sqrt(1 - --t * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicInOut(t) {\n\treturn t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicIn(t) {\n\treturn t * t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicOut(t) {\n\tconst f = t - 1.0;\n\treturn f * f * f + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticInOut(t) {\n\treturn t < 0.5\n\t\t? 0.5 * Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) * Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n\t\t: 0.5 *\n\t\t\t\tMath.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n\t\t\t\tMath.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n\t\t\t\t1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticIn(t) {\n\treturn Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticOut(t) {\n\treturn Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoInOut(t) {\n\treturn t === 0.0 || t === 1.0\n\t\t? t\n\t\t: t < 0.5\n\t\t? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n\t\t: -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoIn(t) {\n\treturn t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoOut(t) {\n\treturn t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadInOut(t) {\n\tt /= 0.5;\n\tif (t < 1) return 0.5 * t * t;\n\tt--;\n\treturn -0.5 * (t * (t - 2) - 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadIn(t) {\n\treturn t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadOut(t) {\n\treturn -t * (t - 2.0);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartInOut(t) {\n\treturn t < 0.5 ? +8.0 * Math.pow(t, 4.0) : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartIn(t) {\n\treturn Math.pow(t, 4.0);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartOut(t) {\n\treturn Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintInOut(t) {\n\tif ((t *= 2) < 1) return 0.5 * t * t * t * t * t;\n\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintIn(t) {\n\treturn t * t * t * t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintOut(t) {\n\treturn --t * t * t * t * t + 1;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineInOut(t) {\n\treturn -0.5 * (Math.cos(Math.PI * t) - 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineIn(t) {\n\tconst v = Math.cos(t * Math.PI * 0.5);\n\tif (Math.abs(v) < 1e-14) return 1;\n\telse return 1 - v;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineOut(t) {\n\treturn Math.sin((t * Math.PI) / 2);\n}\n","import { cubicOut, cubicInOut, linear } from '../easing/index.js';\nimport { assign, split_css_unit, is_function } from '../internal/index.js';\n\n/**\n * Animates a `blur` filter alongside an element's opacity.\n *\n * https://svelte.dev/docs/svelte-transition#blur\n * @param {Element} node\n * @param {import('./public').BlurParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function blur(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst f = style.filter === 'none' ? '' : style.filter;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [value, unit] = split_css_unit(amount);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `opacity: ${target_opacity - od * u}; filter: ${f} blur(${u * value}${unit});`\n\t};\n}\n\n/**\n * Animates the opacity of an element from 0 to the current opacity for `in` transitions and from the current opacity to 0 for `out` transitions.\n *\n * https://svelte.dev/docs/svelte-transition#fade\n * @param {Element} node\n * @param {import('./public').FadeParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n\tconst o = +getComputedStyle(node).opacity;\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) => `opacity: ${t * o}`\n\t};\n}\n\n/**\n * Animates the x and y positions and the opacity of an element. `in` transitions animate from the provided values, passed as parameters to the element's default values. `out` transitions animate from the element's default values to the provided values.\n *\n * https://svelte.dev/docs/svelte-transition#fly\n * @param {Element} node\n * @param {import('./public').FlyParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fly(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [xValue, xUnit] = split_css_unit(x);\n\tconst [yValue, yUnit] = split_css_unit(y);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * xValue}${xUnit}, ${(1 - t) * yValue}${yUnit});\n\t\t\topacity: ${target_opacity - od * u}`\n\t};\n}\n\n/**\n * Slides an element in and out.\n *\n * https://svelte.dev/docs/svelte-transition#slide\n * @param {Element} node\n * @param {import('./public').SlideParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function slide(node, { delay = 0, duration = 400, easing = cubicOut, axis = 'y' } = {}) {\n\tconst style = getComputedStyle(node);\n\tconst opacity = +style.opacity;\n\tconst primary_property = axis === 'y' ? 'height' : 'width';\n\tconst primary_property_value = parseFloat(style[primary_property]);\n\tconst secondary_properties = axis === 'y' ? ['top', 'bottom'] : ['left', 'right'];\n\tconst capitalized_secondary_properties = secondary_properties.map(\n\t\t(e) => `${e[0].toUpperCase()}${e.slice(1)}`\n\t);\n\tconst padding_start_value = parseFloat(style[`padding${capitalized_secondary_properties[0]}`]);\n\tconst padding_end_value = parseFloat(style[`padding${capitalized_secondary_properties[1]}`]);\n\tconst margin_start_value = parseFloat(style[`margin${capitalized_secondary_properties[0]}`]);\n\tconst margin_end_value = parseFloat(style[`margin${capitalized_secondary_properties[1]}`]);\n\tconst border_width_start_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[0]}Width`]\n\t);\n\tconst border_width_end_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[1]}Width`]\n\t);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) =>\n\t\t\t'overflow: hidden;' +\n\t\t\t`opacity: ${Math.min(t * 20, 1) * opacity};` +\n\t\t\t`${primary_property}: ${t * primary_property_value}px;` +\n\t\t\t`padding-${secondary_properties[0]}: ${t * padding_start_value}px;` +\n\t\t\t`padding-${secondary_properties[1]}: ${t * padding_end_value}px;` +\n\t\t\t`margin-${secondary_properties[0]}: ${t * margin_start_value}px;` +\n\t\t\t`margin-${secondary_properties[1]}: ${t * margin_end_value}px;` +\n\t\t\t`border-${secondary_properties[0]}-width: ${t * border_width_start_value}px;` +\n\t\t\t`border-${secondary_properties[1]}-width: ${t * border_width_end_value}px;`\n\t};\n}\n\n/**\n * Animates the opacity and scale of an element. `in` transitions animate from an element's current (default) values to the provided values, passed as parameters. `out` transitions animate from the provided values to an element's default values.\n *\n * https://svelte.dev/docs/svelte-transition#scale\n * @param {Element} node\n * @param {import('./public').ScaleParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function scale(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst sd = 1 - start;\n\tconst od = target_opacity * (1 - opacity);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - sd * u});\n\t\t\topacity: ${target_opacity - od * u}\n\t\t`\n\t};\n}\n\n/**\n * Animates the stroke of an SVG element, like a snake in a tube. `in` transitions begin with the path invisible and draw the path to the screen over time. `out` transitions start in a visible state and gradually erase the path. `draw` only works with elements that have a `getTotalLength` method, like `<path>` and `<polyline>`.\n *\n * https://svelte.dev/docs/svelte-transition#draw\n * @param {SVGElement & { getTotalLength(): number }} node\n * @param {import('./public').DrawParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n\tlet len = node.getTotalLength();\n\tconst style = getComputedStyle(node);\n\tif (style.strokeLinecap !== 'butt') {\n\t\tlen += parseInt(style.strokeWidth);\n\t}\n\tif (duration === undefined) {\n\t\tif (speed === undefined) {\n\t\t\tduration = 800;\n\t\t} else {\n\t\t\tduration = len / speed;\n\t\t}\n\t} else if (typeof duration === 'function') {\n\t\tduration = duration(len);\n\t}\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_, u) => `\n\t\t\tstroke-dasharray: ${len};\n\t\t\tstroke-dashoffset: ${u * len};\n\t\t`\n\t};\n}\n\n/**\n * The `crossfade` function creates a pair of [transitions](https://svelte.dev/docs#template-syntax-element-directives-transition-fn) called `send` and `receive`. When an element is 'sent', it looks for a corresponding element being 'received', and generates a transition that transforms the element to its counterpart's position and fades it out. When an element is 'received', the reverse happens. If there is no counterpart, the `fallback` transition is used.\n *\n * https://svelte.dev/docs/svelte-transition#crossfade\n * @param {import('./public').CrossfadeParams & {\n * \tfallback?: (node: Element, params: import('./public').CrossfadeParams, intro: boolean) => import('./public').TransitionConfig;\n * }} params\n * @returns {[(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig, (node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig]}\n */\nexport function crossfade({ fallback, ...defaults }) {\n\t/** @type {Map<any, Element>} */\n\tconst to_receive = new Map();\n\t/** @type {Map<any, Element>} */\n\tconst to_send = new Map();\n\t/**\n\t * @param {Element} from_node\n\t * @param {Element} node\n\t * @param {import('./public').CrossfadeParams} params\n\t * @returns {import('./public').TransitionConfig}\n\t */\n\tfunction crossfade(from_node, node, params) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = (d) => Math.sqrt(d) * 30,\n\t\t\teasing = cubicOut\n\t\t} = assign(assign({}, defaults), params);\n\t\tconst from = from_node.getBoundingClientRect();\n\t\tconst to = node.getBoundingClientRect();\n\t\tconst dx = from.left - to.left;\n\t\tconst dy = from.top - to.top;\n\t\tconst dw = from.width / to.width;\n\t\tconst dh = from.height / to.height;\n\t\tconst d = Math.sqrt(dx * dx + dy * dy);\n\t\tconst style = getComputedStyle(node);\n\t\tconst transform = style.transform === 'none' ? '' : style.transform;\n\t\tconst opacity = +style.opacity;\n\t\treturn {\n\t\t\tdelay,\n\t\t\tduration: is_function(duration) ? duration(d) : duration,\n\t\t\teasing,\n\t\t\tcss: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${\n\t\t\t\tt + (1 - t) * dh\n\t\t\t});\n\t\t\t`\n\t\t};\n\t}\n\n\t/**\n\t * @param {Map<any, Element>} items\n\t * @param {Map<any, Element>} counterparts\n\t * @param {boolean} intro\n\t * @returns {(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig}\n\t */\n\tfunction transition(items, counterparts, intro) {\n\t\treturn (node, params) => {\n\t\t\titems.set(params.key, node);\n\t\t\treturn () => {\n\t\t\t\tif (counterparts.has(params.key)) {\n\t\t\t\t\tconst other_node = counterparts.get(params.key);\n\t\t\t\t\tcounterparts.delete(params.key);\n\t\t\t\t\treturn crossfade(other_node, node, params);\n\t\t\t\t}\n\t\t\t\t// if the node is disappearing altogether\n\t\t\t\t// (i.e. wasn't claimed by the other list)\n\t\t\t\t// then we need to supply an outro\n\t\t\t\titems.delete(params.key);\n\t\t\t\treturn fallback && fallback(node, params, intro);\n\t\t\t};\n\t\t};\n\t}\n\treturn [transition(to_send, to_receive, false), transition(to_receive, to_send, true)];\n}\n","<script lang=\"ts\">\n  import {fade} from \"svelte/transition\";\n  const timeout = 300;\n</script>\n\n<div\n  aria-label=\"page container\"\n  class=\"flex w-full h-full\"\n  in:fade={{duration: timeout, delay: timeout}}\n  out:fade={{duration: timeout, delay: timeout}}\n>\n  <slot />\n</div>\n","<script lang=\"ts\">\n  export let onClick: VoidFunction;\n  export let current: boolean | null = null;\n</script>\n\n<button\n  on:click={onClick}\n  aria-current={current}\n  class=\"p-2 bg-primary text-base font-fantasy text-light rounded transition duration-300 hover:bg-accent hover:shadow-glow aria-current:bg-accent/70\"\n>\n  <slot />\n</button>\n","<script lang=\"ts\">\n  export let href: string;\n  export let current: boolean | null = null;\n</script>\n\n<a\n  {href}\n  aria-current={current}\n  class=\"p-2 text-center bg-primary text-base font-fantasy text-light rounded transition duration-300 hover:bg-accent hover:shadow-glow aria-current:bg-accent/70\"\n>\n  <slot />\n</a>\n","export const PI2 = Math.PI * 2;\nexport const HUE = 273;\nexport const FADE_SPEED = 6;\nexport const MIN_POINTS = 6;\nexport const DRAW_TIME = 1000;\n","/**\n * The $1 Unistroke Recognizer (JavaScript version)\n *\n *  Jacob O. Wobbrock, Ph.D.\n *  The Information School\n *  University of Washington\n *  Seattle, WA 98195-2840\n *  wobbrock@uw.edu\n *\n *  Andrew D. Wilson, Ph.D.\n *  Microsoft Research\n *  One Microsoft Way\n *  Redmond, WA 98052\n *  awilson@microsoft.com\n *\n *  Yang Li, Ph.D.\n *  Department of Computer Science and Engineering\n *  University of Washington\n *  Seattle, WA 98195-2840\n *  yangli@cs.washington.edu\n *\n * The academic publication for the $1 recognizer, and what should be\n * used to cite it, is:\n *\n *     Wobbrock, J.O., Wilson, A.D. and Li, y. (2007). Gestures without\n *     libraries, toolkits or training: A $1 recognizer for user interface\n *     prototypes. Proceedings of the ACM Symposium on User Interface\n *     Software and Technology (UIST '07). Newport, Rhode Island (October\n *     7-10, 2007). New York: ACM Press, pp. 159-168.\n *     https://dl.acm.org/citation.cfm?id=1294238\n *\n * The Protractor enhancement was separately published by Yang Li and programmed\n * here by Jacob O. Wobbrock:\n *\n *     Li, y. (2010). Protractor: A fast and accurate gesture\n *     recognizer. Proceedings of the ACM Conference on Human\n *     Factors in Computing Systems (CHI '10). Atlanta, Georgia\n *     (April 10-15, 2010). New York: ACM Press, pp. 2169-2172.\n *     https://dl.acm.org/citation.cfm?id=1753654\n *\n * This software is distributed under the \"New BSD License\" agreement:\n *\n * Copyright (C) 2007-2012, Jacob O. Wobbrock, Andrew D. Wilson and Yang Li.\n * All rights reserved. Last updated July 14, 2018.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *    * Redistributions of source code must retain the above copyright\n *      notice, this list of conditions and the following disclaimer.\n *    * Redistributions in binary form must reproduce the above copyright\n *      notice, this list of conditions and the following disclaimer in the\n *      documentation and/or other materials provided with the distribution.\n *    * Neither the names of the University of Washington nor Microsoft,\n *      nor the names of its contributors may be used to endorse or promote\n *      products derived from this software without specific prior written\n *      permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS\n * IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\n * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL Jacob O. Wobbrock OR Andrew D. Wilson\n * OR Yang Li BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,\n * OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,\n * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY\n * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n **/\n\nimport type {Stroke} from \"./strokes\";\n\nclass Point {\n  x: number;\n  y: number;\n\n  constructor(x: number, y: number) {\n    this.x = x;\n    this.y = y;\n  }\n}\n\nclass Rectangle {\n  x: number;\n  y: number;\n  Width: number;\n  Height: number;\n\n  constructor(x: number, y: number, width: number, height: number) {\n    this.x = x;\n    this.y = y;\n    this.Width = width;\n    this.Height = height;\n  }\n}\n\nclass Unistroke {\n  Name: string;\n  Points: Point[];\n  Vector: number[];\n\n  constructor(name: string, points: Point[]) {\n    this.Name = name;\n    this.Points = Resample(points, NumPoints);\n    var radians = IndicativeAngle(this.Points);\n    this.Points = RotateBy(this.Points, -radians);\n    this.Points = ScaleTo(this.Points, SquareSize);\n    this.Points = TranslateTo(this.Points, Origin);\n    this.Vector = Vectorize(this.Points); // for Protractor\n  }\n}\n\nclass Result {\n  Name: string | null;\n  Score: number;\n  Time: number;\n\n  constructor(name: string | null, score: number, ms: number) {\n    this.Name = name;\n    this.Score = score;\n    this.Time = ms;\n  }\n}\n\nconst NumPoints = 64;\nconst SquareSize = 250.0;\nconst Origin = new Point(0, 0);\nconst Diagonal = Math.sqrt(SquareSize * SquareSize + SquareSize * SquareSize);\nconst HalfDiagonal = 0.5 * Diagonal;\nconst AngleRange = Deg2Rad(45.0);\nconst AnglePrecision = Deg2Rad(2.0);\nconst Phi = 0.5 * (-1.0 + Math.sqrt(5.0)); // Golden Ratio\n\nexport default class DollarRecognizer {\n  Recognize: (points: Point[], useProtractor: boolean) => Result;\n  AddGesture: (name: string, points: Point[]) => number;\n\n  constructor(strokes: Record<Stroke, Array<[number, number]>>) {\n    const Unistrokes = Object.entries(strokes).map(\n      ([name, points]) =>\n        new Unistroke(\n          name,\n          points.map(([x, y]) => new Point(x, y))\n        )\n    );\n\n    this.Recognize = function (points: Point[], useProtractor: boolean) {\n      var t0 = Date.now();\n      var candidate = new Unistroke(\"\", points);\n\n      var u = -1;\n      var b = +Infinity;\n      for (\n        var i = 0;\n        i < Unistrokes.length;\n        i++ // for each unistroke template\n      ) {\n        var d;\n        if (useProtractor) d = OptimalCosineDistance(Unistrokes[i].Vector, candidate.Vector); // Protractor\n        else d = DistanceAtBestAngle(candidate.Points, Unistrokes[i], -AngleRange, +AngleRange, AnglePrecision); // Golden Section Search (original $1)\n        if (d < b) {\n          b = d; // best (least) distance\n          u = i; // unistroke index\n        }\n      }\n      var t1 = Date.now();\n      return u == -1\n        ? new Result(null, 0.0, t1 - t0)\n        : new Result(Unistrokes[u].Name, useProtractor ? 1.0 - b : 1.0 - b / HalfDiagonal, t1 - t0);\n    };\n\n    this.AddGesture = function (name: string, points: Point[]) {\n      Unistrokes[Unistrokes.length] = new Unistroke(name, points); // append new unistroke\n      var num = 0;\n      for (var i = 0; i < Unistrokes.length; i++) {\n        if (Unistrokes[i].Name == name) num++;\n      }\n      return num;\n    };\n  }\n}\n\n//\n// Private helper functions from here on down\n//\nfunction Resample(points: Point[], n: number) {\n  var I = PathLength(points) / (n - 1); // interval length\n  var D = 0.0;\n  var newpoints = new Array(points[0]);\n  for (var i = 1; i < points.length; i++) {\n    var d = Distance(points[i - 1], points[i]);\n    if (D + d >= I) {\n      var qx = points[i - 1].x + ((I - D) / d) * (points[i].x - points[i - 1].x);\n      var qy = points[i - 1].y + ((I - D) / d) * (points[i].y - points[i - 1].y);\n      var q = new Point(qx, qy);\n      newpoints[newpoints.length] = q; // append new point 'q'\n      points.splice(i, 0, q); // insert 'q' at position i in points s.t. 'q' will be the next i\n      D = 0.0;\n    } else D += d;\n  }\n  if (newpoints.length == n - 1)\n    // somtimes we fall a rounding-error short of adding the last point, so add it if so\n    newpoints[newpoints.length] = new Point(points[points.length - 1].x, points[points.length - 1].y);\n  return newpoints;\n}\n\nfunction IndicativeAngle(points: Point[]) {\n  var c = Centroid(points);\n  return Math.atan2(c.y - points[0].y, c.x - points[0].x);\n}\n\nfunction RotateBy(points: Point[], radians: number) {\n  // rotates points around centroid\n  var c = Centroid(points);\n  var cos = Math.cos(radians);\n  var sin = Math.sin(radians);\n  var newpoints = [];\n  for (var i = 0; i < points.length; i++) {\n    var qx = (points[i].x - c.x) * cos - (points[i].y - c.y) * sin + c.x;\n    var qy = (points[i].x - c.x) * sin + (points[i].y - c.y) * cos + c.y;\n    newpoints[newpoints.length] = new Point(qx, qy);\n  }\n  return newpoints;\n}\n\nfunction ScaleTo(points: Point[], size: number) {\n  // non-uniform scale; assumes 2D gestures (i.e., no lines)\n  var B = BoundingBox(points);\n  var newpoints = [];\n  for (var i = 0; i < points.length; i++) {\n    var qx = points[i].x * (size / B.Width);\n    var qy = points[i].y * (size / B.Height);\n    newpoints[newpoints.length] = new Point(qx, qy);\n  }\n  return newpoints;\n}\n\nfunction TranslateTo(points: Point[], pt: Point) {\n  // translates points' centroid\n  var c = Centroid(points);\n  var newpoints = [];\n  for (var i = 0; i < points.length; i++) {\n    var qx = points[i].x + pt.x - c.x;\n    var qy = points[i].y + pt.y - c.y;\n    newpoints[newpoints.length] = new Point(qx, qy);\n  }\n  return newpoints;\n}\n\nfunction Vectorize(points: Point[]) {\n  // for Protractor\n  var sum = 0.0;\n  var vector = [];\n  for (var i = 0; i < points.length; i++) {\n    vector[vector.length] = points[i].x;\n    vector[vector.length] = points[i].y;\n    sum += points[i].x * points[i].x + points[i].y * points[i].y;\n  }\n  var magnitude = Math.sqrt(sum);\n  for (var i = 0; i < vector.length; i++) vector[i] /= magnitude;\n  return vector;\n}\n\nfunction OptimalCosineDistance(v1: number[], v2: number[]) {\n  // for Protractor\n  var a = 0.0;\n  var b = 0.0;\n  for (var i = 0; i < v1.length; i += 2) {\n    a += v1[i] * v2[i] + v1[i + 1] * v2[i + 1];\n    b += v1[i] * v2[i + 1] - v1[i + 1] * v2[i];\n  }\n  var angle = Math.atan(b / a);\n  return Math.acos(a * Math.cos(angle) + b * Math.sin(angle));\n}\n\nfunction DistanceAtBestAngle(points: Point[], T: Unistroke, a: number, b: number, threshold: number) {\n  var x1 = Phi * a + (1.0 - Phi) * b;\n  var f1 = DistanceAtAngle(points, T, x1);\n  var x2 = (1.0 - Phi) * a + Phi * b;\n  var f2 = DistanceAtAngle(points, T, x2);\n  while (Math.abs(b - a) > threshold) {\n    if (f1 < f2) {\n      b = x2;\n      x2 = x1;\n      f2 = f1;\n      x1 = Phi * a + (1.0 - Phi) * b;\n      f1 = DistanceAtAngle(points, T, x1);\n    } else {\n      a = x1;\n      x1 = x2;\n      f1 = f2;\n      x2 = (1.0 - Phi) * a + Phi * b;\n      f2 = DistanceAtAngle(points, T, x2);\n    }\n  }\n  return Math.min(f1, f2);\n}\n\nfunction DistanceAtAngle(points: Point[], T: Unistroke, radians: number) {\n  var newpoints = RotateBy(points, radians);\n  return PathDistance(newpoints, T.Points);\n}\n\nfunction Centroid(points: Point[]) {\n  let x = 0.0;\n  let y = 0.0;\n\n  for (const point of points) {\n    x += point.x;\n    y += point.y;\n  }\n\n  x /= points.length;\n  y /= points.length;\n\n  return new Point(x, y);\n}\n\nfunction BoundingBox(points: Point[]) {\n  var minX = +Infinity,\n    maxX = -Infinity,\n    minY = +Infinity,\n    maxY = -Infinity;\n  for (var i = 0; i < points.length; i++) {\n    minX = Math.min(minX, points[i].x);\n    minY = Math.min(minY, points[i].y);\n    maxX = Math.max(maxX, points[i].x);\n    maxY = Math.max(maxY, points[i].y);\n  }\n  return new Rectangle(minX, minY, maxX - minX, maxY - minY);\n}\n\nfunction PathDistance(pts1: Point[], pts2: Point[]) {\n  var d = 0.0;\n  for (\n    var i = 0;\n    i < pts1.length;\n    i++ // assumes pts1.length == pts2.length\n  )\n    d += Distance(pts1[i], pts2[i]);\n  return d / pts1.length;\n}\n\nfunction PathLength(points: Point[]) {\n  var d = 0.0;\n  for (var i = 1; i < points.length; i++) d += Distance(points[i - 1], points[i]);\n  return d;\n}\n\nfunction Distance(p1: Point, p2: Point) {\n  var dx = p2.x - p1.x;\n  var dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\nfunction Deg2Rad(d: number) {\n  return (d * Math.PI) / 180.0;\n}\n","import {PI2} from \"./config\";\n\nexport type Effect =\n  | \"fireball\"\n  | \"wildMagic\"\n  | \"shield\"\n  | \"lightning\"\n  | \"frostWave\"\n  | \"wind\"\n  | \"novaBlast\"\n  | \"missiles\"\n  | \"heal\"\n  | \"star\"\n  | \"shadowStep\"\n  | \"pillar\";\n\nexport type Particle = {\n  x: number;\n  y: number;\n  size: number;\n  speedX: number;\n  speedY: number;\n  color: string;\n  life: number;\n};\n\nexport type EffectContext = {width: number; height: number; ctx: CanvasRenderingContext2D; particles: Particle[]};\n\nexport const effectsMap: Record<Effect, (context: EffectContext) => void> = {\n  fireball: createFireballEffect,\n  lightning: createLightningEffect,\n  shadowStep: createShadowStepEffect,\n  frostWave: createFrostWaveEffect,\n  star: createStarEffect,\n  novaBlast: createNovaBlastEffect,\n  wind: createWindEffect,\n  heal: createHealEffect,\n  wildMagic: createWildMagicEffect,\n  pillar: createPillarEffect,\n  shield: createShieldEffect,\n  missiles: createMissilesEffect\n};\n\nexport function createEffect(effect: Effect, canvas: HTMLCanvasElement, particles: Particle[]) {\n  const ctx = canvas.getContext(\"2d\");\n  if (!ctx) return;\n\n  const {width, height} = canvas;\n  effectsMap[effect]({width, height, ctx, particles});\n}\n\nfunction createFireballEffect({width, height, particles}: EffectContext) {\n  const centerX = width / 2;\n  const centerY = height / 2;\n\n  for (let i = 0; i < 200; i++) {\n    const angle = Math.random() * PI2;\n    const distance = Math.random() * 100;\n    particles.push({\n      x: centerX + Math.cos(angle) * distance,\n      y: centerY + Math.sin(angle) * distance,\n      size: Math.random() * 10 + 5,\n      speedX: Math.cos(angle) * (Math.random() * 5 + 2),\n      speedY: Math.sin(angle) * (Math.random() * 5 + 2),\n      color: `hsl(${Math.random() * 60 + 0}, 100%, 50%)`,\n      life: 200\n    });\n  }\n}\n\nfunction createLightningEffect({width, height, ctx}: EffectContext) {\n  if (!ctx) return;\n\n  const startX = Math.random() * width;\n  const endX = Math.random() * width;\n  let y = 0;\n\n  ctx.strokeStyle = \"#00FFFF\";\n  ctx.lineWidth = 3;\n  ctx.beginPath();\n  ctx.moveTo(startX, y);\n\n  while (y < height) {\n    const x = startX + (endX - startX) * (y / height) + (Math.random() - 0.5) * 50;\n    ctx.lineTo(x, y);\n    y += 10;\n  }\n\n  ctx.stroke();\n  setTimeout(() => ctx.clearRect(0, 0, width, height), 150);\n}\n\nfunction createShadowStepEffect({width, height, particles}: EffectContext) {\n  const centerX = width / 2;\n  const centerY = height / 2;\n  const radius = 50;\n\n  for (let i = 0; i < 200; i++) {\n    const angle = Math.random() * PI2;\n    const x = centerX + Math.cos(angle) * radius;\n    const y = centerY + Math.sin(angle) * radius;\n    particles.push({\n      x,\n      y,\n      size: Math.random() * 5 + 2,\n      speedX: Math.cos(angle) * (Math.random() * 5 + 2),\n      speedY: Math.sin(angle) * (Math.random() * 5 + 2),\n      color: `hsl(${Math.random() * 60 + 240}, 100%, 50%)`,\n      life: 200\n    });\n  }\n}\n\nfunction createFrostWaveEffect({width, height, particles}: EffectContext) {\n  const waveHeight = height / 2;\n  const waveWidth = width * 1.5;\n\n  for (let x = 0; x < waveWidth; x += 5) {\n    const y = waveHeight + Math.sin(x * 0.05) * 50;\n    particles.push({\n      x: x,\n      y: y,\n      size: Math.random() * 5 + 2,\n      speedX: -2,\n      speedY: Math.random() * 2 - 1,\n      color: `hsl(${180 + Math.random() * 60}, 100%, 80%)`,\n      life: 150\n    });\n  }\n}\n\nfunction createStarEffect({width, height, particles}: EffectContext) {\n  const centerX = width / 2;\n  const centerY = height / 2;\n\n  for (let i = 0; i < 5; i++) {\n    const angle = ((Math.PI * 2) / 5) * i;\n\n    for (let j = 0; j < 20; j++) {\n      const distance = (Math.random() * 100 * j) / 20;\n      const x = centerX + Math.cos(angle) * distance * Math.random();\n      const y = centerY + Math.sin(angle) * distance * Math.random();\n\n      particles.push({\n        x,\n        y,\n        size: Math.random() * 5 + 3,\n        speedX: Math.cos(angle) * 4 + Math.random() * 2 - 1,\n        speedY: Math.sin(angle) * 4 + Math.random() * 2 - 1,\n        color: `hsl(${Math.random() * 30}, 100%, 50%)`,\n        life: 100\n      });\n    }\n  }\n}\n\nfunction createNovaBlastEffect({width, height, particles}: EffectContext) {\n  const centerX = width / 2;\n  const centerY = height / 2;\n\n  for (let i = 0; i < 500; i++) {\n    const angle = Math.random() * PI2;\n    const speed = Math.random() * 10 + 5;\n    particles.push({\n      x: centerX,\n      y: centerY,\n      size: Math.random() * 6 + 2,\n      speedX: Math.cos(angle) * speed,\n      speedY: Math.sin(angle) * speed,\n      color: `hsl(${Math.random() * 360}, 100%, 50%)`,\n      life: 200\n    });\n  }\n}\n\nfunction createShieldEffect({width, height, particles}: EffectContext) {\n  const centerX = width / 2;\n  const centerY = height / 2;\n  const size = 500;\n\n  for (let x = centerX - size / 2; x < centerX + size / 2; x += 20) {\n    for (let y = centerY - size / 2; y < centerY + size / 2; y += 20) {\n      particles.push({\n        x: x,\n        y: y,\n        size: Math.random() * 4 + 1,\n        speedX: Math.random() * 2 - 1,\n        speedY: Math.random() * 2 - 1,\n        color: `hsl(${Math.random() * 10 + 25}, 100%, 30%)`,\n        life: 200\n      });\n    }\n  }\n}\n\nfunction createHealEffect({width, height, particles}: EffectContext) {\n  for (let i = 0; i < 100; i++) {\n    particles.push({\n      x: Math.random() * width,\n      y: Math.random() * height,\n      size: Math.random() * 5 + 2,\n      speedX: Math.random() * 2 - 1,\n      speedY: Math.random() * 2 - 1,\n      color: `hsl(${Math.random() * 60 + 120}, 100%, 50%)`,\n      life: 200\n    });\n  }\n}\n\nfunction createPillarEffect({width, height, particles}: EffectContext) {\n  for (let i = 0; i < 200; i++) {\n    particles.push({\n      x: width / 2,\n      y: Math.random() * height,\n      size: Math.random() * 5 + 2,\n      speedX: Math.random() * 2 - 1,\n      speedY: Math.random() * 2 - 1,\n      color: `hsl(${Math.random() * 60}, 100%, 50%)`,\n      life: 200\n    });\n  }\n}\n\nfunction createMissilesEffect({width, height, particles}: EffectContext) {\n  const centerX = width / 2;\n  const centerY = height / 2;\n\n  for (let i = 0; i < 5; i++) {\n    const angle = (Math.random() * PI2) / 2 + (PI2 / 5) * i;\n\n    for (let j = 0; j < 20; j++) {\n      const distance = Math.random() * 100;\n      particles.push({\n        x: centerX,\n        y: centerY,\n        size: Math.random() * 5 + 2,\n        speedX: (Math.cos(angle) * distance) / 20,\n        speedY: (Math.sin(angle) * distance) / 20,\n        color: `hsl(${Math.random() * 60 + 240}, 100%, 50%)`,\n        life: 200\n      });\n    }\n  }\n}\n\nfunction createWildMagicEffect({width, height, particles}: EffectContext) {\n  for (let i = 0; i < 300; i++) {\n    particles.push({\n      x: Math.random() * width,\n      y: Math.random() * height,\n      size: Math.random() * 8 + 2,\n      speedX: Math.random() * 8 - 4,\n      speedY: Math.random() * 8 - 4,\n      color: `hsl(${Math.random() * 360}, 100%, 50%)`,\n      life: 150\n    });\n  }\n}\n\nfunction createWindEffect({width, height, particles}: EffectContext) {\n  const centerX = width / 2;\n\n  for (let i = 0; i < 100; i++) {\n    particles.push({\n      x: Math.random() * width - centerX,\n      y: Math.random() * height,\n      size: Math.random() * 3 + 1,\n      speedX: Math.random() * 15 + 5,\n      speedY: Math.random() * 4 - 2,\n      color: \"rgba(100, 255, 255, 0.7)\",\n      life: 150\n    });\n  }\n}\n","import type {Effect} from \"./effects\";\nimport type {Stroke} from \"./strokes\";\n\ntype Spell =\n  | \"Fireball\"\n  | \"Dessintegrate\"\n  | \"Earthen Shield\"\n  | \"Lightning Bolt\"\n  | \"Frost Wave\"\n  | \"Wind Gust\"\n  | \"Nova Blast\"\n  | \"Missiles\"\n  | \"Healing Light\"\n  | \"Summon Demon\"\n  | \"Chronoshift\"\n  | \"Shadow Step\"\n  | \"Pillar of Flame\";\n\nexport type SpellConfig = {name: Spell; stroke: Stroke; effect: Effect; minScore: number; description: string};\n\nconst spells: Record<string, SpellConfig> = {\n  fireball: {\n    name: \"Fireball\",\n    stroke: \"circle\",\n    minScore: 0.2,\n    effect: \"fireball\",\n    description: \"A ball of fire that explodes on impact.\"\n  },\n  dessintegrate: {\n    name: \"Dessintegrate\",\n    stroke: \"x\",\n    minScore: 0.2,\n    effect: \"wildMagic\",\n    description: \"A beam of energy that disintegrates anything in its path.\"\n  },\n  earthenShield: {\n    name: \"Earthen Shield\",\n    stroke: \"rectangle\",\n    minScore: 0.2,\n    effect: \"shield\",\n    description: \"A shield of earth that protects the caster.\"\n  },\n  lightningBolt: {\n    name: \"Lightning Bolt\",\n    stroke: \"zig-zag\",\n    minScore: 0.2,\n    effect: \"lightning\",\n    description: \"A bolt of lightning that strikes the target.\"\n  },\n  frostWave: {\n    name: \"Frost Wave\",\n    stroke: \"triangle\",\n    minScore: 0.2,\n    effect: \"frostWave\",\n    description: \"A wave of frost that freezes the target.\"\n  },\n  windGust: {\n    name: \"Wind Gust\",\n    stroke: \"pigtail\",\n    minScore: 0.2,\n    effect: \"wind\",\n    description: \"A gust of wind that pushes the target.\"\n  },\n  novaBlast: {\n    name: \"Nova Blast\",\n    stroke: \"pentagon\",\n    minScore: 0.2,\n    effect: \"novaBlast\",\n    description: \"A blast of energy that damages all enemies.\"\n  },\n  missiles: {\n    name: \"Missiles\",\n    stroke: \"arrow\",\n    minScore: 0.2,\n    effect: \"missiles\",\n    description: \"A barrage of missiles that strike the target.\"\n  },\n  healingLight: {\n    name: \"Healing Light\",\n    stroke: \"check\",\n    minScore: 0.2,\n    effect: \"heal\",\n    description: \"A light that heals the target.\"\n  },\n  summonDemon: {\n    name: \"Summon Demon\",\n    stroke: \"pentagram\",\n    minScore: 0.2,\n    effect: \"star\",\n    description: \"A demon that fights for the caster.\"\n  },\n  chronoshift: {\n    name: \"Chronoshift\",\n    stroke: \"hourglass\",\n    minScore: 0.2,\n    effect: \"wind\",\n    description: \"A shift in time that slows the target.\"\n  },\n  shadowStep: {\n    name: \"Shadow Step\",\n    stroke: \"ankh\",\n    minScore: 0.2,\n    effect: \"shadowStep\",\n    description: \"A step into the shadows that teleports the caster.\"\n  },\n  pillarOfFlame: {\n    name: \"Pillar of Flame\",\n    stroke: \"left square bracket\",\n    minScore: 0.2,\n    effect: \"pillar\",\n    description: \"A pillar of flame that burns the target.\"\n  }\n};\n\nexport default spells;\n","export type Stroke =\n  | \"triangle\"\n  | \"x\"\n  | \"rectangle\"\n  | \"circle\"\n  | \"check\"\n  | \"zig-zag\"\n  | \"arrow\"\n  | \"left square bracket\"\n  | \"right square bracket\"\n  | \"v\"\n  | \"hourglass\"\n  | \"trigram\"\n  | \"cross\"\n  | \"pentagram\"\n  | \"heptagram\"\n  | \"octagram\"\n  | \"pigtail\"\n  | \"spiral\"\n  | \"diamond\"\n  | \"heart\"\n  | \"pentagon\"\n  | \"kite\"\n  | \"crescent\"\n  | \"triquetra\"\n  | \"infinity\"\n  | \"chalise\"\n  | \"ankh\"\n  | \"hexagram\"\n  | \"droplet\"\n  | \"pique\"\n  | \"trefle\"\n  | \"keyhole\"\n  | \"carolingian-cross\";\n\nconst strokes: Record<Stroke, Array<[number, number]>> = {\n  triangle: [\n    [100, 40],\n    [60, 160],\n    [140, 160],\n    [100, 40]\n  ],\n  x: [\n    [60, 60],\n    [140, 140],\n    [100, 100],\n    [140, 60],\n    [60, 140],\n    [100, 100]\n  ],\n  rectangle: [\n    [50, 75],\n    [150, 75],\n    [150, 125],\n    [50, 125],\n    [50, 75]\n  ],\n  circle: [\n    [150, 100],\n    [147, 119],\n    [139, 137],\n    [125, 150],\n    [106, 157],\n    [85, 157],\n    [66, 150],\n    [50, 137],\n    [42, 119],\n    [39, 100],\n    [42, 81],\n    [50, 63],\n    [66, 50],\n    [85, 43],\n    [106, 43],\n    [125, 50],\n    [139, 63],\n    [147, 81],\n    [150, 100]\n  ],\n  check: [\n    [60, 110],\n    [90, 140],\n    [140, 70]\n  ],\n  \"zig-zag\": [\n    [50, 125],\n    [75, 75],\n    [100, 125],\n    [125, 75],\n    [150, 125]\n  ],\n  arrow: [\n    [100, 150],\n    [100, 70],\n    [80, 90],\n    [120, 90],\n    [100, 70]\n  ],\n  \"left square bracket\": [\n    [120, 50],\n    [80, 50],\n    [80, 150],\n    [120, 150]\n  ],\n  \"right square bracket\": [\n    [80, 50],\n    [120, 50],\n    [120, 150],\n    [80, 150]\n  ],\n  v: [\n    [70, 60],\n    [100, 140],\n    [130, 60]\n  ],\n  hourglass: [\n    [70, 50],\n    [130, 50],\n    [70, 150],\n    [130, 150],\n    [70, 50]\n  ],\n  trigram: [\n    [100, 30],\n    [110, 114],\n    [178, 165],\n    [100, 132],\n    [22, 165],\n    [90, 114],\n    [100, 30]\n  ],\n  cross: [\n    [100, 10],\n    [110, 90],\n    [190, 100],\n    [110, 110],\n    [100, 190],\n    [90, 110],\n    [10, 100],\n    [90, 90],\n    [100, 10]\n  ],\n  pentagram: [\n    [100, 180],\n    [53, 35],\n    [176, 125],\n    [24, 125],\n    [147, 35],\n    [100, 180]\n  ],\n  heptagram: [\n    [100, 24],\n    [133, 168],\n    [41, 53],\n    [174, 117],\n    [26, 117],\n    [159, 53],\n    [67, 168],\n    [100, 24]\n  ],\n  octagram: [\n    [100, 24],\n    [154, 154],\n    [24, 100],\n    [154, 46],\n    [100, 176],\n    [46, 46],\n    [176, 100],\n    [46, 154],\n    [100, 24]\n  ],\n  pigtail: [\n    [80, 100],\n    [82, 96],\n    [84, 93],\n    [86, 90],\n    [88, 87],\n    [90, 85],\n    [92, 83],\n    [94, 82],\n    [96, 81],\n    [98, 80],\n    [100, 80],\n    [102, 80],\n    [104, 81],\n    [106, 82],\n    [108, 83],\n    [110, 85],\n    [112, 87],\n    [114, 90],\n    [116, 93],\n    [118, 96],\n    [120, 100]\n  ],\n  spiral: [\n    [110, 90],\n    [112, 91],\n    [113, 93],\n    [115, 95],\n    [116, 97],\n    [116, 100],\n    [116, 103],\n    [115, 106],\n    [113, 109],\n    [111, 111],\n    [108, 113],\n    [105, 115],\n    [101, 116],\n    [97, 116],\n    [93, 115],\n    [90, 114],\n    [86, 112],\n    [83, 109],\n    [81, 106],\n    [79, 102],\n    [78, 98],\n    [78, 94],\n    [79, 90],\n    [80, 86],\n    [83, 82],\n    [86, 79],\n    [90, 76],\n    [94, 74],\n    [99, 73],\n    [104, 73],\n    [109, 74],\n    [114, 76],\n    [118, 79],\n    [123, 83],\n    [126, 88],\n    [129, 93],\n    [131, 99],\n    [132, 105],\n    [131, 111],\n    [129, 117],\n    [126, 122],\n    [122, 127],\n    [117, 131],\n    [111, 134],\n    [104, 136],\n    [97, 136],\n    [90, 135],\n    [83, 133],\n    [77, 129],\n    [72, 124]\n  ],\n  diamond: [\n    [100, 40],\n    [130, 100],\n    [100, 160],\n    [70, 100],\n    [100, 40]\n  ],\n  heart: [\n    [100, 83],\n    [100, 82],\n    [100, 82],\n    [100, 81],\n    [101, 80],\n    [101, 78],\n    [102, 77],\n    [103, 75],\n    [105, 73],\n    [107, 71],\n    [109, 69],\n    [111, 67],\n    [114, 65],\n    [118, 63],\n    [121, 61],\n    [125, 60],\n    [130, 59],\n    [134, 59],\n    [138, 58],\n    [143, 58],\n    [148, 59],\n    [152, 60],\n    [157, 61],\n    [161, 63],\n    [165, 65],\n    [168, 67],\n    [172, 69],\n    [174, 72],\n    [177, 75],\n    [178, 78],\n    [179, 81],\n    [180, 85],\n    [180, 88],\n    [179, 91],\n    [178, 95],\n    [176, 98],\n    [174, 101],\n    [171, 104],\n    [168, 108],\n    [164, 111],\n    [160, 114],\n    [156, 117],\n    [151, 120],\n    [147, 122],\n    [142, 125],\n    [138, 128],\n    [133, 131],\n    [129, 133],\n    [125, 136],\n    [121, 138],\n    [117, 141],\n    [114, 143],\n    [111, 146],\n    [108, 148],\n    [106, 150],\n    [104, 152],\n    [103, 154],\n    [102, 155],\n    [101, 156],\n    [101, 158],\n    [100, 158],\n    [100, 159],\n    [100, 159],\n    [100, 159],\n    [100, 159],\n    [100, 159],\n    [100, 158],\n    [99, 157],\n    [99, 156],\n    [98, 155],\n    [97, 153],\n    [95, 151],\n    [93, 149],\n    [91, 147],\n    [88, 145],\n    [85, 143],\n    [82, 140],\n    [78, 138],\n    [74, 135],\n    [70, 132],\n    [65, 130],\n    [61, 127],\n    [56, 124],\n    [52, 121],\n    [47, 119],\n    [43, 116],\n    [38, 113],\n    [35, 110],\n    [31, 107],\n    [28, 103],\n    [25, 100],\n    [23, 97],\n    [22, 94],\n    [20, 90],\n    [20, 87],\n    [20, 84],\n    [21, 80],\n    [22, 77],\n    [24, 74],\n    [27, 71],\n    [29, 69],\n    [33, 66],\n    [37, 64],\n    [41, 62],\n    [45, 61],\n    [49, 59],\n    [54, 59],\n    [58, 58],\n    [63, 58],\n    [68, 59],\n    [72, 59],\n    [76, 60],\n    [80, 62],\n    [83, 63],\n    [87, 65],\n    [89, 67],\n    [92, 69],\n    [94, 71],\n    [96, 73],\n    [97, 75],\n    [98, 77],\n    [99, 79],\n    [100, 80],\n    [100, 81],\n    [100, 82],\n    [100, 82]\n  ],\n  pentagon: [\n    [100, 50],\n    [135, 85],\n    [115, 135],\n    [85, 135],\n    [65, 85],\n    [100, 50]\n  ],\n  kite: [\n    [100, 40],\n    [140, 70],\n    [100, 160],\n    [60, 70],\n    [100, 40]\n  ],\n  crescent: [\n    [120, 100],\n    [119.85, 105.22],\n    [119.4, 110.42],\n    [118.66, 115.59],\n    [117.63, 120.71],\n    [116.31, 125.77],\n    [114.71, 130.75],\n    [112.84, 135.63],\n    [110.71, 140.39],\n    [108.33, 145.03],\n    [105.71, 149.51],\n    [102.85, 153.83],\n    [99.77, 157.97],\n    [96.48, 161.91],\n    [92.99, 165.63],\n    [89.32, 169.11],\n    [85.47, 172.33],\n    [81.47, 175.29],\n    [77.32, 177.95],\n    [73.03, 180.32],\n    [68.62, 182.36],\n    [64.1, 184.08],\n    [59.48, 185.46],\n    [54.77, 186.49],\n    [50, 187.16],\n    [45.17, 187.48],\n    [40.3, 187.43],\n    [35.41, 187.02],\n    [30.51, 186.24],\n    [25.6, 185.1],\n    [20.71, 183.58],\n    [15.85, 181.7],\n    [11.03, 179.46],\n    [6.27, 176.86],\n    [1.57, 173.91],\n    [97.43, 100],\n    [97.57, 95.23],\n    [96.43, 90.53],\n    [95.01, 85.93],\n    [93.29, 81.41],\n    [91.3, 76.98],\n    [89.03, 72.66],\n    [86.48, 68.44],\n    [83.66, 64.33],\n    [80.57, 60.36],\n    [77.23, 56.51],\n    [73.62, 52.8],\n    [69.78, 49.24],\n    [65.68, 45.82],\n    [61.36, 42.57],\n    [56.83, 39.48],\n    [52.08, 36.57],\n    [47.14, 33.84],\n    [42, 31.29],\n    [36.68, 28.94],\n    [31.19, 26.79],\n    [25.56, 24.84],\n    [19.77, 23.1],\n    [13.86, 21.58],\n    [7.83, 20.27],\n    [1.62, 19.18],\n    [1.62, 80.82],\n    [7.83, 79.73],\n    [13.86, 78.42],\n    [19.77, 77.22],\n    [25.56, 76.16],\n    [31.19, 75.21],\n    [36.68, 74.39],\n    [42, 73.7],\n    [47.14, 73.14],\n    [52.08, 72.72],\n    [56.83, 72.44],\n    [61.36, 72.3],\n    [65.68, 72.3],\n    [69.78, 72.46],\n    [73.62, 72.76],\n    [77.23, 73.22],\n    [80.57, 73.83],\n    [83.66, 74.59],\n    [86.48, 75.5],\n    [89.03, 76.56],\n    [91.3, 77.77],\n    [93.29, 79.12],\n    [95.01, 80.61],\n    [96.43, 82.22]\n  ],\n  triquetra: [\n    [100, 60],\n    [85, 100],\n    [100, 140],\n    [115, 100],\n    [100, 60],\n    [80, 80],\n    [120, 80],\n    [100, 60],\n    [80, 120],\n    [120, 120],\n    [100, 140]\n  ],\n  infinity: [\n    [70, 100],\n    [50, 80],\n    [70, 60],\n    [100, 70],\n    [130, 60],\n    [150, 80],\n    [130, 100],\n    [100, 90],\n    [70, 100],\n    [50, 120],\n    [70, 140],\n    [100, 130],\n    [130, 140],\n    [150, 120],\n    [130, 100]\n  ],\n  chalise: [\n    [85, 50],\n    [115, 50],\n    [100, 100],\n    [80, 140],\n    [120, 140],\n    [100, 160],\n    [100, 140]\n  ],\n  ankh: [\n    [100, 50],\n    [90, 70],\n    [100, 90],\n    [110, 70],\n    [100, 50],\n    [100, 90],\n    [100, 150],\n    [90, 170],\n    [110, 170],\n    [100, 150]\n  ],\n  hexagram: [\n    [100, 50],\n    [115, 80],\n    [85, 80],\n    [100, 50],\n    [100, 150],\n    [85, 120],\n    [115, 120],\n    [100, 150],\n    [70, 100],\n    [130, 100],\n    [70, 100],\n    [85, 120],\n    [130, 100],\n    [115, 120],\n    [85, 80],\n    [115, 80]\n  ],\n  droplet: [\n    [100, 50],\n    [120, 80],\n    [140, 120],\n    [100, 160],\n    [60, 120],\n    [80, 80],\n    [100, 50]\n  ],\n  pique: [\n    [100, 50],\n    [80, 90],\n    [70, 110],\n    [100, 140],\n    [130, 110],\n    [120, 90],\n    [100, 50],\n    [90, 140],\n    [110, 140],\n    [100, 170],\n    [90, 160],\n    [110, 160],\n    [100, 170]\n  ],\n  trefle: [\n    [0, 0],\n    [100, 100]\n  ],\n  keyhole: [\n    [0, 0],\n    [100, 100]\n  ],\n  \"carolingian-cross\": [\n    [0, 0],\n    [100, 100]\n  ]\n};\n\nexport default strokes;\n","<script lang=\"ts\">\n  import {onMount} from \"svelte\";\n  import PageContainer from \"~components/PageContainer.svelte\";\n  import PrimaryButton from \"~components/PrimaryButton.svelte\";\n  import PrimaryLinkButton from \"~components/PrimaryLinkButton.svelte\";\n  import {FADE_SPEED, HUE, MIN_POINTS, PI2} from \"~lib/config\";\n  import DollarRecognizer from \"~lib/dollar\";\n  import {type Particle, createEffect} from \"~lib/effects\";\n  import spells, {type SpellConfig} from \"~lib/spells\";\n  import strokes from \"~lib/strokes\";\n\n  let container: HTMLElement;\n  let mainCanvas: HTMLCanvasElement;\n  let particleCanvas: HTMLCanvasElement;\n  let effectCanvas: HTMLCanvasElement;\n\n  $: mainCtx = mainCanvas?.getContext(\"2d\");\n  $: particleCtx = particleCanvas?.getContext(\"2d\");\n  $: effectCtx = effectCanvas?.getContext(\"2d\");\n\n  type Point = {x: number; y: number};\n\n  let comment = \"Draw a magical symbol to cast a spell!\";\n  const quote = \"Happiness can be found, even in the darkest of times, if one only remembers to turn on the light.\";\n\n  let isDrawing = false;\n  let lastX = 0;\n  let lastY = 0;\n  let drawnPoints: Point[] = [];\n  let particles: Particle[] = [];\n\n  const {Recognize} = new DollarRecognizer(strokes);\n\n  onMount(() => {\n    resizeCanvases();\n    animate();\n  });\n\n  function resizeCanvases() {\n    [mainCanvas, particleCanvas, effectCanvas].forEach(canvas => {\n      canvas.width = container.offsetWidth;\n      canvas.height = container.offsetHeight;\n    });\n  }\n\n  function animate() {\n    animateStroke();\n    animateParticles();\n    requestAnimationFrame(animate);\n  }\n\n  function getEventPoint(e: MouseEvent | TouchEvent) {\n    if (e instanceof MouseEvent) return [e.offsetX, e.offsetY];\n    const touch = e.touches[0];\n    return [touch.clientX, touch.clientY];\n  }\n\n  function startDrawing(e: MouseEvent | TouchEvent) {\n    isDrawing = true;\n    const [offsetX, offsetY] = getEventPoint(e);\n    [lastX, lastY] = [offsetX, offsetY];\n    drawnPoints.push({x: lastX, y: lastY});\n\n    createMagicalParticle({x: lastX, y: lastY, size: 3, speedX: 4, speedY: 4, life: 30});\n  }\n\n  function draw(e: MouseEvent | TouchEvent) {\n    if (!mainCtx) return;\n    if (!isDrawing) return;\n\n    const [offsetX, offsetY] = getEventPoint(e);\n    mainCtx.beginPath();\n    mainCtx.moveTo(lastX, lastY);\n    mainCtx.lineTo(offsetX, offsetY);\n    mainCtx.strokeStyle = `hsla(${HUE}, 100%, 50%, 1)`;\n    mainCtx.lineWidth = 4;\n    mainCtx.lineCap = \"round\";\n    mainCtx.stroke();\n\n    const x = lastX + (offsetX - lastX);\n    const y = lastY + (offsetY - lastY);\n    createMagicalParticle({x, y, size: 3, speedX: 4, speedY: 4, life: 30});\n\n    [lastX, lastY] = [offsetX, offsetY];\n    drawnPoints.push({x: offsetX, y: offsetY});\n  }\n\n  function stopDrawing() {\n    isDrawing = false;\n    createDecayStrokeParticles(drawnPoints);\n    castSpell(drawnPoints);\n    drawnPoints = [];\n  }\n\n  function animateStroke() {\n    if (!mainCanvas || !mainCtx) return;\n    if (isDrawing) return;\n\n    const imageData = mainCtx.getImageData(0, 0, mainCanvas.width, mainCanvas.height);\n    const data = imageData.data;\n\n    for (let i = 3; i < data.length; i += 4) {\n      // decrease alpha channel to fade\n      if (data[i] > 0) data[i] -= FADE_SPEED;\n    }\n\n    mainCtx.putImageData(imageData, 0, 0);\n  }\n\n  function createDecayStrokeParticles(drawnPoints: Point[]) {\n    drawnPoints.forEach(({x, y}) => {\n      createMagicalParticle({x, y, size: 2, speedX: 2, speedY: 2, life: 50});\n    });\n  }\n\n  function clearCanvas() {\n    mainCtx?.clearRect(0, 0, mainCanvas.width, mainCanvas.height);\n    particleCtx?.clearRect(0, 0, particleCanvas.width, particleCanvas.height);\n    effectCtx?.clearRect(0, 0, effectCanvas.width, effectCanvas.height);\n    drawnPoints = [];\n    particles = [];\n    comment = \"Draw a magical symbol to cast a spell!\";\n  }\n\n  function castSpell(drawnPoints: Point[]) {\n    if (drawnPoints.length < MIN_POINTS) return;\n\n    const unistroke = Recognize(drawnPoints, false);\n    console.info(unistroke);\n    const spell = Object.values(spells).find(\n      spell => spell.stroke === unistroke.Name && unistroke.Score >= spell.minScore\n    );\n\n    if (!spell) {\n      comment = \"You failed to cast a spell!\";\n      return;\n    }\n\n    comment = evaluateResult(spell, unistroke.Score);\n    createEffect(spell.effect, effectCanvas, particles);\n  }\n\n  function evaluateResult(spell: SpellConfig, score: number) {\n    if (score >= 0.95) return `You cast ${spell.name}! Excellent quality!`;\n    if (score >= 0.85) return `You cast ${spell.name}! Great job!`;\n    if (score >= 0.75) return `Good job! ${spell.name} casted!`;\n    if (score >= 0.65) return `${spell.name} casted, but could be better.`;\n    if (score >= 0.55) return `${spell.name} casted, but needs improvement.`;\n    if (score >= 0.45) return `Meh, ${spell.name} must be cleaner.`;\n    if (score >= 0.35) return `Poor casting of ${spell.name}. Try again!`;\n    if (score >= 0.25) return `Awful casting of ${spell.name}. Try harder!`;\n    if (score >= 0.15) return `Just terrible, even my grandma can cast ${spell.name} better`;\n    return `You're a disgrace to all wizards. ${spell.name} is beyond your abilities.`;\n  }\n\n  function createMagicalParticle({x, y, size, speedX, speedY, life}: Omit<Particle, \"color\">) {\n    particles.push({\n      x,\n      y,\n      size: Math.random() * size + 2,\n      speedX: Math.random() * speedX - speedX / 2,\n      speedY: Math.random() * speedY - speedY / 2,\n      color: `hsl(${Math.random() * 60 + 240}, 100%, 50%)`,\n      life\n    });\n  }\n\n  function animateParticles() {\n    if (!particleCanvas || !particleCtx) return;\n\n    particleCtx.clearRect(0, 0, particleCanvas.width, particleCanvas.height);\n    particles.forEach((particle, index) => {\n      particle.x += particle.speedX;\n      particle.y += particle.speedY;\n      particle.life--;\n      particle.size *= 0.99;\n\n      particleCtx.fillStyle = particle.color;\n      particleCtx.beginPath();\n      particleCtx.arc(particle.x, particle.y, particle.size, 0, PI2);\n      particleCtx.fill();\n\n      if (particle.life <= 0 || particle.size < 0.1) particles.splice(index, 1);\n    });\n  }\n</script>\n\n<svelte:window on:resize={resizeCanvases} />\n\n<PageContainer>\n  <main id=\"canvas-container\" bind:this={container} class=\"relative flex-1 cursor-cross\">\n    <canvas\n      id=\"main-canvas\"\n      on:mousedown={startDrawing}\n      on:touchstart={startDrawing}\n      on:mousemove={draw}\n      on:touchmove={draw}\n      on:mouseup={stopDrawing}\n      on:touchend={stopDrawing}\n      bind:this={mainCanvas}\n      class=\"absolute inset-0\"\n    />\n    <canvas id=\"particle-canvas\" bind:this={particleCanvas} class=\"absolute inset-0 pointer-events-none\" />\n    <canvas id=\"effect-canvas\" bind:this={effectCanvas} class=\"absolute inset-0 pointer-events-none\" />\n  </main>\n\n  <aside\n    class=\"p-5 flex flex-col gap-4 flex-[0_0_var(--aside-width)] overflow-y-auto select-none bg-surface border-l-2 border-primary\"\n  >\n    <img\n      id=\"portrait\"\n      src=\"mage.webp\"\n      alt=\"mage\"\n      draggable=\"false\"\n      class=\"shadow-primary rounded-full w-48 h-48 mx-auto border-[3px] border-primary\"\n    />\n    <div id=\"comment\" class=\"text-xl min-h-16 text-center text-shadow\">{comment}</div>\n    <div id=\"control-buttons\" class=\"flex flex-col gap-2\">\n      <PrimaryButton onClick={clearCanvas}>Clear all</PrimaryButton>\n      <PrimaryLinkButton href=\"#/spellbook\">Spellbook</PrimaryLinkButton>\n      <PrimaryLinkButton href=\"#/strokes\">Strokes</PrimaryLinkButton>\n      <PrimaryLinkButton href=\"#/effects\">Effects</PrimaryLinkButton>\n    </div>\n    <blockquote class=\"m-0 p-4 rounded italic bg-primary/30\">\n      {quote}\n    </blockquote>\n  </aside>\n</PageContainer>\n","<script lang=\"ts\">\n  import {onMount} from \"svelte\";\n  import PageContainer from \"~components/PageContainer.svelte\";\n  import PrimaryButton from \"~components/PrimaryButton.svelte\";\n  import PrimaryLinkButton from \"~components/PrimaryLinkButton.svelte\";\n  import {PI2} from \"~lib/config\";\n  import {createEffect, type Effect, effectsMap, type Particle} from \"~lib/effects\";\n\n  let container: HTMLElement;\n  let particleCanvas: HTMLCanvasElement;\n  let effectCanvas: HTMLCanvasElement;\n  let particles: Particle[] = [];\n\n  onMount(() => {\n    particleCanvas.width = container.offsetWidth;\n    particleCanvas.height = container.offsetHeight;\n    effectCanvas.width = container.offsetWidth;\n    effectCanvas.height = container.offsetHeight;\n    animate();\n  });\n\n  function animate() {\n    animateParticles();\n    requestAnimationFrame(animate);\n  }\n\n  function animateParticles() {\n    const ctx = particleCanvas?.getContext(\"2d\");\n    if (!ctx) return;\n\n    ctx.clearRect(0, 0, particleCanvas.width, particleCanvas.height);\n    particles.forEach((particle, index) => {\n      particle.x += particle.speedX;\n      particle.y += particle.speedY;\n      particle.life--;\n      particle.size *= 0.99;\n\n      ctx.fillStyle = particle.color;\n      ctx.beginPath();\n      ctx.arc(particle.x, particle.y, particle.size, 0, PI2);\n      ctx.fill();\n\n      if (particle.life <= 0 || particle.size < 0.1) particles.splice(index, 1);\n    });\n  }\n\n  function clearCanvas() {\n    const particleCtx = particleCanvas?.getContext(\"2d\");\n    particleCtx?.clearRect(0, 0, particleCanvas.width, particleCanvas.height);\n\n    const effectCtx = effectCanvas?.getContext(\"2d\");\n    effectCtx?.clearRect(0, 0, effectCanvas.width, effectCanvas.height);\n\n    particles = [];\n  }\n\n  function createEffectCaster(effect: string) {\n    return () => createEffect(effect as Effect, effectCanvas, particles);\n  }\n</script>\n\n<PageContainer>\n  <main id=\"canvas-container\" bind:this={container} class=\"relative flex-1\">\n    <canvas bind:this={particleCanvas} class=\"absolute inset-0\" />\n    <canvas bind:this={effectCanvas} class=\"absolute inset-0 pointer-events-none\" />\n  </main>\n\n  <aside\n    id=\"ui-container\"\n    class=\"p-5 flex flex-col gap-4 flex-[0_0_var(--aside-width)] overflow-y-auto select-none bg-surface border-l-2 border-primary\"\n  >\n    <h1 class=\"text-3xl text-center\">Effects</h1>\n\n    <nav class=\"flex flex-col gap-4\">\n      <div class=\"flex flex-col gap-2\">\n        {#each Object.entries(effectsMap) as [effect] (effect)}\n          <PrimaryButton onClick={createEffectCaster(effect)}>\n            <h2 class=\"mb-2\">{effect}</h2>\n          </PrimaryButton>\n        {/each}\n      </div>\n\n      <div class=\"flex flex-col gap-2\">\n        <PrimaryButton onClick={clearCanvas}>Clear canvas</PrimaryButton>\n        <PrimaryLinkButton href=\"#\">Back to practice</PrimaryLinkButton>\n      </div>\n    </nav>\n  </aside>\n</PageContainer>\n","<script lang=\"ts\">\n  import {draw, fly} from \"svelte/transition\";\n  import PageContainer from \"~components/PageContainer.svelte\";\n  import PrimaryLinkButton from \"~components/PrimaryLinkButton.svelte\";\n  import {DRAW_TIME} from \"~lib/config\";\n  import spells from \"~lib/spells\";\n  import strokes from \"~lib/strokes\";\n\n  const defaultId = Object.keys(spells)[0];\n\n  export let params = {id: defaultId};\n  let spell = spells[params.id] || spells[defaultId];\n  $: spell = spells[params.id] || spells[defaultId];\n</script>\n\n<PageContainer>\n  <main class=\"relative flex flex-1 items-center justify-center\">\n    <div\n      id=\"book\"\n      class=\"flex flex-col gap-2 p-5 w-[90%] h-[90%] rounded-lg bg-[#eae5de] shadow-glow overflow-y-auto bg-[url('/book.webp')] bg-[size:100%_100%]\"\n    >\n      <h2 class=\"text-3xl m-4 text-left text-primary\">{spell.name}</h2>\n\n      <div class=\"flex h-full\">\n        <div id=\"left-page\" class=\"flex flex-col flex-1 gap-8 px-6 text-dark text-lg\">\n          <p\n            id=\"spell-description\"\n            class=\"first-letter:[initial-letter:3] first-letter:text-primary first-letter:pr-2 first-letter:font-serif\"\n          >\n            {spell.name} is a fundamental chronomancy spell that freezes a target in time. When cast successfully, the target\n            becomes immobilized and unaware of the passage of time.\n          </p>\n\n          <div class=\"p-5 rounded-lg bg-primary/5 flex flex-col gap-1 text-base\">\n            <p><strong class=\"text-primary\">Difficulty:</strong> Novice</p>\n            <p><strong class=\"text-primary\">Energy Cost:</strong> 25</p>\n            <p><strong class=\"text-primary\">Duration:</strong> Up to 1 minute</p>\n            <p><strong class=\"text-primary\">Range:</strong> 30 feet</p>\n          </div>\n        </div>\n\n        <div id=\"right-page\" class=\"flex flex-col justify-between flex-1 gap-8 px-6 text-dark text-lg\">\n          <div class=\"[&>*:not(:last-child)]:mb-8\">\n            <button on:click={() => (spell = spell)} class=\"ml-4 p-0 float-right rounded-lg bg-primary/5\">\n              <svg width=\"200\" height=\"200\" viewBox=\"0 0 200 200\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                {#key spell}\n                  <polyline\n                    points={strokes[spell.stroke].join(\" \")}\n                    fill=\"none\"\n                    stroke=\"var(--primary-color)\"\n                    stroke-width=\"3\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    in:draw={{duration: DRAW_TIME}}\n                  />\n                {/key}\n              </svg>\n            </button>\n            <p>\n              {spell.name} is often considered the cornerstone of chronomancy. Its ability to halt the flow of time for a\n              single target makes it invaluable in both combat and non-combat situations. When casting {spell.name},\n              visualize time as a river flowing around your target. Your goal is to create a perfectly still eddy in\n              that river, isolating your target from the timestream.\n            </p>\n            <p>Common applications of {spell.name} include:</p>\n            <ul>\n              <li>Freezing an opponent in combat</li>\n              <li>Preserving a dying creature until healing can be administered</li>\n              <li>Protecting fragile objects during transport</li>\n              <li>Creating \"living statues\" for artistic or strategic purposes</li>\n            </ul>\n            <p>\n              Warning: overuse of {spell.name} on living beings can have unforeseen consequences. Always release the spell\n              carefully, allowing the target to gradually reintegrate with the normal flow of time.\n            </p>\n          </div>\n          <div id=\"page-number\" class=\"text-right text-lg pb-4\">- {Object.values(spells).indexOf(spell) + 1} -</div>\n        </div>\n      </div>\n    </div>\n  </main>\n\n  <aside\n    id=\"ui-container\"\n    class=\"p-5 flex flex-col gap-4 flex-[0_0_var(--aside-width)] overflow-y-auto select-none bg-surface border-l-2 border-primary\"\n    in:fly={{x: 400, delay: 300}}\n    out:fly={{y: -1000, delay: 0}}\n  >\n    <h1 class=\"text-3xl text-center\">Spellbook</h1>\n\n    <nav class=\"flex flex-col gap-4\">\n      <div id=\"spells-list\" class=\"flex flex-col gap-2\">\n        {#each Object.entries(spells) as [id, config]}\n          <PrimaryLinkButton href={`#/spellbook/${id}`} current={config.name === spell.name}\n            >{config.name}</PrimaryLinkButton\n          >\n        {/each}\n      </div>\n      <PrimaryLinkButton href=\"#\">Back to practice</PrimaryLinkButton>\n    </nav>\n  </aside>\n</PageContainer>\n","<script lang=\"ts\">\n  import {draw} from \"svelte/transition\";\n  import PageContainer from \"~components/PageContainer.svelte\";\n  import PrimaryLinkButton from \"~components/PrimaryLinkButton.svelte\";\n  import {DRAW_TIME} from \"~lib/config\";\n  import strokes from \"~lib/strokes\";\n\n  let animated: Record<string, boolean> = {};\n</script>\n\n<PageContainer>\n  <main class=\"flex-1 overflow-y-auto\">\n    <div id=\"strokes-list\" class=\"p-4 grid grid-cols-4 gap-2\">\n      {#each Object.entries(strokes) as [strokeName, points] (strokeName)}\n        <button on:click={() => (animated[strokeName] = !animated[strokeName])} class=\"rounded-lg bg-surface\">\n          <svg width=\"200\" height=\"200\" viewBox=\"0 0 200 200\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            {#key animated[strokeName]}\n              <polyline\n                points={points.join(\" \")}\n                fill=\"none\"\n                stroke=\"var(--primary-color)\"\n                stroke-width=\"3\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                in:draw={{duration: DRAW_TIME}}\n              />\n            {/key}\n          </svg>\n          <h2 class=\"mb-2\">{strokeName}</h2>\n        </button>\n      {/each}\n    </div>\n  </main>\n\n  <aside\n    id=\"ui-container\"\n    class=\"p-5 flex flex-col gap-4 flex-[0_0_var(--aside-width)] overflow-y-auto select-none bg-surface border-l-2 border-primary\"\n  >\n    <h1 class=\"text-3xl text-center\">Strokes</h1>\n\n    <nav class=\"flex flex-col gap-4\">\n      <PrimaryLinkButton href=\"#\">Back to practice</PrimaryLinkButton>\n    </nav>\n  </aside>\n</PageContainer>\n","<script lang=\"ts\">\n  import Router from \"svelte-spa-router\";\n  import Canvas from \"~pages/Canvas.svelte\";\n  import Effects from \"~pages/Effects.svelte\";\n  import Spellbook from \"~pages/Spellbook.svelte\";\n  import Strokes from \"~pages/Strokes.svelte\";\n\n  const routes = {\n    \"/\": Canvas,\n    \"/spellbook/:id?\": Spellbook,\n    \"/strokes\": Strokes,\n    \"/effects\": Effects,\n    \"*\": Canvas // 404\n  };\n</script>\n\n<Router {routes} />\n","import \"./app.css\";\nimport App from \"./App.svelte\";\n\nconst app = new App({\n  target: document.getElementById(\"app\")!\n});\n\nexport default app;\n"],"names":["noop","identity","x","assign","tar","src","k","run","fn","blank_object","run_all","fns","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","src_url_equal","element_src","url","is_empty","obj","subscribe","store","callbacks","callback","unsub","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","get_slot_changes","dirty","lets","merged","len","update_slot_base","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","get_all_dirty_from_scope","length","i","split_css_unit","value","split","is_client","now","raf","cb","tasks","run_tasks","task","loop","fulfill","append","target","node","get_root_for_style","root","append_empty_stylesheet","style_element","element","append_stylesheet","style","insert","anchor","detach","destroy_each","iterations","detaching","name","svg_element","text","data","space","empty","listen","event","handler","options","attr","attribute","children","set_data","custom_event","type","detail","bubbles","cancelable","construct_svelte_component","component","props","managed_styles","active","hash","str","create_style_information","doc","info","create_rule","duration","delay","ease","uid","step","keyframes","p","t","rule","stylesheet","rules","animation","delete_rule","previous","next","anim","deleted","clear_rules","ownerNode","current_component","set_current_component","get_current_component","onMount","afterUpdate","onDestroy","createEventDispatcher","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","update_scheduled","schedule_update","flush","tick","add_render_callback","seen_callbacks","flushidx","saved_component","update","$$","flush_render_callbacks","filtered","targets","c","promise","wait","dispatch","direction","kind","outroing","outros","group_outros","check_outros","transition_in","block","local","transition_out","null_transition","create_in_transition","params","config","running","animation_name","cleanup","go","easing","linear","css","start_time","end_time","started","create_out_transition","group","original_inert_value","reset","ensure_array_like","array_like_or_iterator","destroy_block","lookup","outro_and_destroy_block","update_keyed_each","old_blocks","get_key","dynamic","list","destroy","create_each_block","get_context","o","n","old_indexes","new_blocks","new_lookup","deltas","updates","child_ctx","key","will_move","did_move","new_block","old_block","new_key","old_key","get_spread_update","levels","to_null_out","accounted_for","get_spread_object","spread_props","create_component","mount_component","fragment","after_update","new_on_destroy","destroy_component","make_dirty","init","instance","create_fragment","not_equal","append_styles","parent_component","ready","ret","rest","nodes","SvelteComponent","__publicField","index","PUBLIC_VERSION","subscriber_queue","readable","start","writable","stop","subscribers","set","new_value","run_queue","subscriber","invalidate","derived","stores","initial_value","single","stores_array","auto","values","pending","sync","result","unsubscribers","parse","loose","tmp","ext","keys","pattern","arr","switch_instance_spread_levels","getLocation","hashPosition","location","qsPosition","querystring","loc","_loc","restoreScroll","state","routes","$$props","prefix","restoreScrollState","RouteItem","path","match","matches","out","routesList","route","componentParams","dispatchNextTick","previousScrollState","popStateChanged","lastLoc","componentObj","unsubscribeLoc","newLoc","$$invalidate","loaded","cubicInOut","cubicOut","f","fade","fly","y","opacity","target_opacity","transform","od","xValue","xUnit","yValue","yUnit","u","draw","speed","_","div","div_intro","timeout","div_outro","button","onClick","current","href","PI2","HUE","FADE_SPEED","MIN_POINTS","DRAW_TIME","Point","Rectangle","width","height","Unistroke","points","Resample","NumPoints","radians","IndicativeAngle","RotateBy","ScaleTo","SquareSize","TranslateTo","Origin","Vectorize","Result","score","ms","Diagonal","HalfDiagonal","AngleRange","Deg2Rad","AnglePrecision","Phi","DollarRecognizer","strokes","Unistrokes","useProtractor","t0","candidate","d","OptimalCosineDistance","DistanceAtBestAngle","t1","num","I","PathLength","D","newpoints","Distance","qx","qy","q","Centroid","cos","sin","size","B","BoundingBox","pt","sum","vector","magnitude","v1","v2","angle","T","threshold","x1","f1","DistanceAtAngle","x2","f2","PathDistance","point","minX","maxX","minY","maxY","pts1","pts2","p1","p2","dx","dy","effectsMap","createFireballEffect","createLightningEffect","createShadowStepEffect","createFrostWaveEffect","createStarEffect","createNovaBlastEffect","createWindEffect","createHealEffect","createWildMagicEffect","createPillarEffect","createShieldEffect","createMissilesEffect","createEffect","effect","canvas","particles","centerX","centerY","distance","startX","endX","radius","waveHeight","waveWidth","j","spells","quote","main","canvas0","canvas1","canvas2","aside","img","div0","div1","blockquote","getEventPoint","e","touch","evaluateResult","spell","container","mainCanvas","particleCanvas","effectCanvas","comment","isDrawing","lastX","lastY","drawnPoints","Recognize","resizeCanvases","animate","animateStroke","animateParticles","startDrawing","offsetX","offsetY","createMagicalParticle","mainCtx","stopDrawing","createDecayStrokeParticles","castSpell","imageData","clearCanvas","particleCtx","effectCtx","unistroke","speedX","speedY","life","particle","$$value","h2","h1","nav","createEffectCaster","polyline","polyline_points_value","polyline_intro","t_value","primarylinkbutton_changes","t0_value","t2_value","t18_value","t20_value","t24_value","t36_value","div6","div5","p0","div4","div2","svg","p5","p6","ul","p7","div3","div7","t2","t18","t20","t24","t36","t40","t40_value","each_blocks","aside_intro","aside_outro","defaultId","previous_key","animated","strokeName","Canvas","Spellbook","Strokes","Effects","App"],"mappings":"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E,EACR,CAAC,IAAK,EAAE,EACR,CAAC,IAAK,EAAE,EACR,CAAC,IAAK,EAAE,EACR,CAAC,IAAK,EAAE,EACR,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,IAAK,GAAG,EACT,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,GAAG,EACR,CAAC,GAAI,EAA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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]}