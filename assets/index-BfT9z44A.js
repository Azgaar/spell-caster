var pn=Object.defineProperty;var $n=(e,t,n)=>t in e?pn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var V=(e,t,n)=>$n(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function U(){}const dt=e=>e;function _n(e,t){for(const n in t)e[n]=t[n];return e}function Lt(e){return e()}function Mt(){return Object.create(null)}function ge(e){e.forEach(Lt)}function Be(e){return typeof e=="function"}function re(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Ve;function yn(e,t){return e===t?!0:(Ve||(Ve=document.createElement("a")),Ve.href=t,e===Ve.href)}function bn(e){return Object.keys(e).length===0}function vn(e,...t){if(e==null){for(const r of t)r(void 0);return U}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function wn(e,t,n){e.$$.on_destroy.push(vn(t,n))}function Tt(e,t,n,r){if(e){const s=Ht(e,t,n,r);return e[0](s)}}function Ht(e,t,n,r){return e[1]&&r?_n(n.ctx.slice(),e[1](r(t))):n.ctx}function Vt(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(t.dirty===void 0)return s;if(typeof s=="object"){const o=[],i=Math.max(t.dirty.length,s.length);for(let a=0;a<i;a+=1)o[a]=t.dirty[a]|s[a];return o}return t.dirty|s}return t.dirty}function Ut(e,t,n,r,s,o){if(s){const i=Ht(t,n,r,o);e.p(i,s)}}function Gt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function xt(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const Jt=typeof window<"u";let Kt=Jt?()=>window.performance.now():()=>Date.now(),ht=Jt?e=>requestAnimationFrame(e):U;const Ye=new Set;function Qt(e){Ye.forEach(t=>{t.c(e)||(Ye.delete(t),t.f())}),Ye.size!==0&&ht(Qt)}function Zt(e){let t;return Ye.size===0&&ht(Qt),{promise:new Promise(n=>{Ye.add(t={c:e,f:n})}),abort(){Ye.delete(t)}}}function h(e,t){e.appendChild(t)}function en(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function kn(e){const t=y("style");return t.textContent="/* empty */",Mn(en(e),t),t.sheet}function Mn(e,t){return h(e.head||e,t),t.sheet}function C(e,t,n){e.insertBefore(t,n||null)}function P(e){e.parentNode&&e.parentNode.removeChild(e)}function xn(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function et(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e){return document.createTextNode(e)}function z(){return Y(" ")}function tn(){return Y("")}function te(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function f(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Sn(e){return Array.from(e.childNodes)}function fe(e,t){t=""+t,e.data!==t&&(e.data=t)}function En(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}const Ke=new Map;let Qe=0;function Pn(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function zn(e,t){const n={stylesheet:kn(t),rules:{}};return Ke.set(e,n),n}function nn(e,t,n,r,s,o,i,a=0){const l=16.666/r;let c=`{
`;for(let p=0;p<=1;p+=l){const w=t+(n-t)*o(p);c+=p*100+`%{${i(w,1-w)}}
`}const u=c+`100% {${i(n,1-n)}}
}`,m=`__svelte_${Pn(u)}_${a}`,$=en(e),{stylesheet:_,rules:g}=Ke.get($)||zn($,e);g[m]||(g[m]=!0,_.insertRule(`@keyframes ${m} ${u}`,_.cssRules.length));const d=e.style.animation||"";return e.style.animation=`${d?`${d}, `:""}${m} ${r}ms linear ${s}ms 1 both`,Qe+=1,m}function ct(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),s=n.length-r.length;s&&(e.style.animation=r.join(", "),Qe-=s,Qe||Cn())}function Cn(){ht(()=>{Qe||(Ke.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&P(t)}),Ke.clear())})}let je;function Ie(e){je=e}function An(){if(!je)throw new Error("Function called outside component initialization");return je}function rn(e){An().$$.on_mount.push(e)}const Ae=[],oe=[];let Xe=[];const St=[],Yn=Promise.resolve();let ft=!1;function Xn(){ft||(ft=!0,Yn.then(sn))}function ie(e){Xe.push(e)}const at=new Set;let ze=0;function sn(){if(ze!==0)return;const e=je;do{try{for(;ze<Ae.length;){const t=Ae[ze];ze++,Ie(t),Dn(t.$$)}}catch(t){throw Ae.length=0,ze=0,t}for(Ie(null),Ae.length=0,ze=0;oe.length;)oe.pop()();for(let t=0;t<Xe.length;t+=1){const n=Xe[t];at.has(n)||(at.add(n),n())}Xe.length=0}while(Ae.length);for(;St.length;)St.pop()();ft=!1,at.clear(),Ie(e)}function Dn(e){if(e.fragment!==null){e.update(),ge(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ie)}}function Nn(e){const t=[],n=[];Xe.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Xe=t}let Re;function on(){return Re||(Re=Promise.resolve(),Re.then(()=>{Re=null})),Re}function Ze(e,t,n){e.dispatchEvent(En(`${t?"intro":"outro"}${n}`))}const Je=new Set;let ue;function de(){ue={r:0,c:[],p:ue}}function he(){ue.r||ge(ue.c),ue=ue.p}function k(e,t){e&&e.i&&(Je.delete(e),e.i(t))}function E(e,t,n,r){if(e&&e.o){if(Je.has(e))return;Je.add(e),ue.c.push(()=>{Je.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const an={duration:0};function tt(e,t,n){const r={direction:"in"};let s=t(e,n,r),o=!1,i,a,l=0;function c(){i&&ct(e,i)}function u(){const{delay:$=0,duration:_=300,easing:g=dt,tick:d=U,css:p}=s||an;p&&(i=nn(e,0,1,_,$,g,p,l++)),d(0,1);const w=Kt()+$,A=w+_;a&&a.abort(),o=!0,ie(()=>Ze(e,!0,"start")),a=Zt(X=>{if(o){if(X>=A)return d(1,0),Ze(e,!0,"end"),c(),o=!1;if(X>=w){const O=g((X-w)/_);d(O,1-O)}}return o})}let m=!1;return{start(){m||(m=!0,ct(e),Be(s)?(s=s(r),on().then(u)):u())},invalidate(){m=!1},end(){o&&(c(),o=!1)}}}function ln(e,t,n){const r={direction:"out"};let s=t(e,n,r),o=!0,i;const a=ue;a.r+=1;let l;function c(){const{delay:u=0,duration:m=300,easing:$=dt,tick:_=U,css:g}=s||an;g&&(i=nn(e,1,0,m,u,$,g));const d=Kt()+u,p=d+m;ie(()=>Ze(e,!1,"start")),"inert"in e&&(l=e.inert,e.inert=!0),Zt(w=>{if(o){if(w>=p)return _(0,1),Ze(e,!1,"end"),--a.r||ge(a.c),!1;if(w>=d){const A=$((w-d)/m);_(1-A,A)}}return o})}return Be(s)?on().then(()=>{s=s(r),c()}):c(),{end(u){u&&"inert"in e&&(e.inert=l),u&&s.tick&&s.tick(1,0),o&&(i&&ct(e,i),o=!1)}}}function De(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Rn(e,t){e.d(1),t.delete(e.key)}function qn(e,t){E(e,1,1,()=>{t.delete(e.key)})}function cn(e,t,n,r,s,o,i,a,l,c,u,m){let $=e.length,_=o.length,g=$;const d={};for(;g--;)d[e[g].key]=g;const p=[],w=new Map,A=new Map,X=[];for(g=_;g--;){const M=m(s,o,g),q=n(M);let W=i.get(q);W?X.push(()=>W.p(M,t)):(W=c(q,M),W.c()),w.set(q,p[g]=W),q in d&&A.set(q,Math.abs(g-d[q]))}const O=new Set,S=new Set;function b(M){k(M,1),M.m(a,u),i.set(M.key,M),u=M.first,_--}for(;$&&_;){const M=p[_-1],q=e[$-1],W=M.key,H=q.key;M===q?(u=M.first,$--,_--):w.has(H)?!i.has(W)||O.has(W)?b(M):S.has(H)?$--:A.get(W)>A.get(H)?(S.add(W),b(M)):(O.add(H),$--):(l(q,i),$--)}for(;$--;){const M=e[$];w.has(M.key)||l(M,i)}for(;_;)b(p[_-1]);return ge(X),p}function T(e){e&&e.c()}function B(e,t,n){const{fragment:r,after_update:s}=e.$$;r&&r.m(t,n),ie(()=>{const o=e.$$.on_mount.map(Lt).filter(Be);e.$$.on_destroy?e.$$.on_destroy.push(...o):ge(o),e.$$.on_mount=[]}),s.forEach(ie)}function F(e,t){const n=e.$$;n.fragment!==null&&(Nn(n.after_update),ge(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function In(e,t){e.$$.dirty[0]===-1&&(Ae.push(e),Xn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Me(e,t,n,r,s,o,i=null,a=[-1]){const l=je;Ie(e);const c=e.$$={fragment:null,ctx:[],props:o,update:U,not_equal:s,bound:Mt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Mt(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};i&&i(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},(m,$,..._)=>{const g=_.length?_[0]:$;return c.ctx&&s(c.ctx[m],c.ctx[m]=g)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](g),u&&In(e,m)),$}):[],c.update(),u=!0,ge(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const m=Sn(t.target);c.fragment&&c.fragment.l(m),m.forEach(P)}else c.fragment&&c.fragment.c();t.intro&&k(e.$$.fragment),B(e,t.target,t.anchor),sn()}Ie(l)}class xe{constructor(){V(this,"$$");V(this,"$$set")}$destroy(){F(this,1),this.$destroy=U}$on(t,n){if(!Be(n))return U;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!bn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const jn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(jn);const Ce=[];function On(e,t=U){let n;const r=new Set;function s(a){if(re(e,a)&&(e=a,n)){const l=!Ce.length;for(const c of r)c[1](),Ce.push(c,e);if(l){for(let c=0;c<Ce.length;c+=2)Ce[c][0](Ce[c+1]);Ce.length=0}}}function o(a){s(a(e))}function i(a,l=U){const c=[a,l];return r.add(c),r.size===1&&(n=t(s,o)||U),a(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:s,update:o,subscribe:i}}const we=On("canvas");function Wn(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function Bn(e){const t=e-1;return t*t*t+1}function Et(e,{delay:t=0,duration:n=400,easing:r=dt}={}){const s=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:o=>`opacity: ${o*s}`}}function Pt(e,{delay:t=0,duration:n=400,easing:r=Bn,x:s=0,y:o=0,opacity:i=0}={}){const a=getComputedStyle(e),l=+a.opacity,c=a.transform==="none"?"":a.transform,u=l*(1-i),[m,$]=xt(s),[_,g]=xt(o);return{delay:t,duration:n,easing:r,css:(d,p)=>`
			transform: ${c} translate(${(1-d)*m}${$}, ${(1-d)*_}${g});
			opacity: ${l-u*p}`}}function fn(e,{delay:t=0,speed:n,duration:r,easing:s=Wn}={}){let o=e.getTotalLength();const i=getComputedStyle(e);return i.strokeLinecap!=="butt"&&(o+=parseInt(i.strokeWidth)),r===void 0?n===void 0?r=800:r=o/n:typeof r=="function"&&(r=r(o)),{delay:t,duration:r,easing:s,css:(a,l)=>`
			stroke-dasharray: ${o};
			stroke-dashoffset: ${l*o};
		`}}function Fn(e){let t,n,r,s;const o=e[1].default,i=Tt(o,e,e[0],null);return{c(){t=y("div"),i&&i.c(),f(t,"aria-label","page container"),f(t,"class","flex w-full h-full")},m(a,l){C(a,t,l),i&&i.m(t,null),s=!0},p(a,[l]){e=a,i&&i.p&&(!s||l&1)&&Ut(i,o,e,e[0],s?Vt(o,e[0],l,null):Gt(e[0]),null)},i(a){s||(k(i,a),a&&ie(()=>{s&&(r&&r.end(1),n=tt(t,Et,{duration:Ue,delay:Ue}),n.start())}),s=!0)},o(a){E(i,a),n&&n.invalidate(),a&&(r=ln(t,Et,{duration:Ue,delay:Ue})),s=!1},d(a){a&&P(t),i&&i.d(a),a&&r&&r.end()}}}const Ue=300;function Ln(e,t,n){let{$$slots:r={},$$scope:s}=t;return e.$$set=o=>{"$$scope"in o&&n(0,s=o.$$scope)},[s,r]}class nt extends xe{constructor(t){super(),Me(this,t,Ln,Fn,re,{})}}function Tn(e){let t,n,r,s;const o=e[3].default,i=Tt(o,e,e[2],null);return{c(){t=y("button"),i&&i.c(),f(t,"aria-current",e[1]),f(t,"class","p-2 bg-primary text-base font-fantasy text-light rounded transition duration-300 hover:bg-accent hover:shadow-glow aria-current:bg-accent/70")},m(a,l){C(a,t,l),i&&i.m(t,null),n=!0,r||(s=te(t,"click",function(){Be(e[0])&&e[0].apply(this,arguments)}),r=!0)},p(a,[l]){e=a,i&&i.p&&(!n||l&4)&&Ut(i,o,e,e[2],n?Vt(o,e[2],l,null):Gt(e[2]),null),(!n||l&2)&&f(t,"aria-current",e[1])},i(a){n||(k(i,a),n=!0)},o(a){E(i,a),n=!1},d(a){a&&P(t),i&&i.d(a),r=!1,s()}}}function Hn(e,t,n){let{$$slots:r={},$$scope:s}=t,{onClick:o}=t,{current:i=null}=t;return e.$$set=a=>{"onClick"in a&&n(0,o=a.onClick),"current"in a&&n(1,i=a.current),"$$scope"in a&&n(2,s=a.$$scope)},[o,i,s,r]}class ne extends xe{constructor(t){super(),Me(this,t,Hn,Tn,re,{onClick:0,current:1})}}const ke=Math.PI*2,Vn=273,Un=6,Gn=6,un=1e3;class me{constructor(t,n){V(this,"x");V(this,"y");this.x=t,this.y=n}}class Jn{constructor(t,n,r,s){V(this,"x");V(this,"y");V(this,"Width");V(this,"Height");this.x=t,this.y=n,this.Width=r,this.Height=s}}class lt{constructor(t,n){V(this,"Name");V(this,"Points");V(this,"Vector");this.Name=t,this.Points=rr(n,Kn);var r=sr(this.Points);this.Points=dn(this.Points,-r),this.Points=or(this.Points,qe),this.Points=ir(this.Points,Qn),this.Vector=ar(this.Points)}}class zt{constructor(t,n,r){V(this,"Name");V(this,"Score");V(this,"Time");this.Name=t,this.Score=n,this.Time=r}}const Kn=64,qe=250,Qn=new me(0,0),Zn=Math.sqrt(qe*qe+qe*qe),er=.5*Zn,Ct=hn(45),tr=hn(2),ce=.5*(-1+Math.sqrt(5));class nr{constructor(t){V(this,"Recognize");V(this,"AddGesture");const n=Object.entries(t).map(([r,s])=>new lt(r,s.map(([o,i])=>new me(o,i))));this.Recognize=function(r,s){for(var o=Date.now(),i=new lt("",r),a=-1,l=1/0,c=0;c<n.length;c++){var u;s?u=lr(n[c].Vector,i.Vector):u=cr(i.Points,n[c],-Ct,+Ct,tr),u<l&&(l=u,a=c)}var m=Date.now();return a==-1?new zt(null,0,m-o):new zt(n[a].Name,s?1-l:1-l/er,m-o)},this.AddGesture=function(r,s){n[n.length]=new lt(r,s);for(var o=0,i=0;i<n.length;i++)n[i].Name==r&&o++;return o}}}function rr(e,t){for(var n=dr(e)/(t-1),r=0,s=new Array(e[0]),o=1;o<e.length;o++){var i=gt(e[o-1],e[o]);if(r+i>=n){var a=e[o-1].x+(n-r)/i*(e[o].x-e[o-1].x),l=e[o-1].y+(n-r)/i*(e[o].y-e[o-1].y),c=new me(a,l);s[s.length]=c,e.splice(o,0,c),r=0}else r+=i}return s.length==t-1&&(s[s.length]=new me(e[e.length-1].x,e[e.length-1].y)),s}function sr(e){var t=mt(e);return Math.atan2(t.y-e[0].y,t.x-e[0].x)}function dn(e,t){for(var n=mt(e),r=Math.cos(t),s=Math.sin(t),o=[],i=0;i<e.length;i++){var a=(e[i].x-n.x)*r-(e[i].y-n.y)*s+n.x,l=(e[i].x-n.x)*s+(e[i].y-n.y)*r+n.y;o[o.length]=new me(a,l)}return o}function or(e,t){for(var n=fr(e),r=[],s=0;s<e.length;s++){var o=e[s].x*(t/n.Width),i=e[s].y*(t/n.Height);r[r.length]=new me(o,i)}return r}function ir(e,t){for(var n=mt(e),r=[],s=0;s<e.length;s++){var o=e[s].x+t.x-n.x,i=e[s].y+t.y-n.y;r[r.length]=new me(o,i)}return r}function ar(e){for(var t=0,n=[],r=0;r<e.length;r++)n[n.length]=e[r].x,n[n.length]=e[r].y,t+=e[r].x*e[r].x+e[r].y*e[r].y;for(var s=Math.sqrt(t),r=0;r<n.length;r++)n[r]/=s;return n}function lr(e,t){for(var n=0,r=0,s=0;s<e.length;s+=2)n+=e[s]*t[s]+e[s+1]*t[s+1],r+=e[s]*t[s+1]-e[s+1]*t[s];var o=Math.atan(r/n);return Math.acos(n*Math.cos(o)+r*Math.sin(o))}function cr(e,t,n,r,s){for(var o=ce*n+(1-ce)*r,i=Ge(e,t,o),a=(1-ce)*n+ce*r,l=Ge(e,t,a);Math.abs(r-n)>s;)i<l?(r=a,a=o,l=i,o=ce*n+(1-ce)*r,i=Ge(e,t,o)):(n=o,o=a,i=l,a=(1-ce)*n+ce*r,l=Ge(e,t,a));return Math.min(i,l)}function Ge(e,t,n){var r=dn(e,n);return ur(r,t.Points)}function mt(e){let t=0,n=0;for(const r of e)t+=r.x,n+=r.y;return t/=e.length,n/=e.length,new me(t,n)}function fr(e){for(var t=1/0,n=-1/0,r=1/0,s=-1/0,o=0;o<e.length;o++)t=Math.min(t,e[o].x),r=Math.min(r,e[o].y),n=Math.max(n,e[o].x),s=Math.max(s,e[o].y);return new Jn(t,r,n-t,s-r)}function ur(e,t){for(var n=0,r=0;r<e.length;r++)n+=gt(e[r],t[r]);return n/e.length}function dr(e){for(var t=0,n=1;n<e.length;n++)t+=gt(e[n-1],e[n]);return t}function gt(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}function hn(e){return e*Math.PI/180}const ut={fireball:hr,lightning:mr,shadowStep:gr,frostWave:pr,star:$r,novaBlast:_r,wind:Mr,heal:br,wildMagic:kr,pillar:vr,shield:yr,missiles:wr};function mn(e,t,n){const r=t.getContext("2d");if(!r)return;const{width:s,height:o}=t;ut[e]({width:s,height:o,ctx:r,particles:n})}function hr({width:e,height:t,particles:n}){const r=e/2,s=t/2;for(let o=0;o<200;o++){const i=Math.random()*ke,a=Math.random()*100;n.push({x:r+Math.cos(i)*a,y:s+Math.sin(i)*a,size:Math.random()*10+5,speedX:Math.cos(i)*(Math.random()*5+2),speedY:Math.sin(i)*(Math.random()*5+2),color:`hsl(${Math.random()*60+0}, 100%, 50%)`,life:200})}}function mr({width:e,height:t,ctx:n}){if(!n)return;const r=Math.random()*e,s=Math.random()*e;let o=0;for(n.strokeStyle="#00FFFF",n.lineWidth=3,n.beginPath(),n.moveTo(r,o);o<t;){const i=r+(s-r)*(o/t)+(Math.random()-.5)*50;n.lineTo(i,o),o+=10}n.stroke(),setTimeout(()=>n.clearRect(0,0,e,t),150)}function gr({width:e,height:t,particles:n}){const r=e/2,s=t/2,o=50;for(let i=0;i<200;i++){const a=Math.random()*ke,l=r+Math.cos(a)*o,c=s+Math.sin(a)*o;n.push({x:l,y:c,size:Math.random()*5+2,speedX:Math.cos(a)*(Math.random()*5+2),speedY:Math.sin(a)*(Math.random()*5+2),color:`hsl(${Math.random()*60+240}, 100%, 50%)`,life:200})}}function pr({width:e,height:t,particles:n}){const r=t/2,s=e*1.5;for(let o=0;o<s;o+=5){const i=r+Math.sin(o*.05)*50;n.push({x:o,y:i,size:Math.random()*5+2,speedX:-2,speedY:Math.random()*2-1,color:`hsl(${180+Math.random()*60}, 100%, 80%)`,life:150})}}function $r({width:e,height:t,particles:n}){const r=e/2,s=t/2;for(let o=0;o<5;o++){const i=Math.PI*2/5*o;for(let a=0;a<20;a++){const l=Math.random()*100*a/20,c=r+Math.cos(i)*l*Math.random(),u=s+Math.sin(i)*l*Math.random();n.push({x:c,y:u,size:Math.random()*5+3,speedX:Math.cos(i)*4+Math.random()*2-1,speedY:Math.sin(i)*4+Math.random()*2-1,color:`hsl(${Math.random()*30}, 100%, 50%)`,life:100})}}}function _r({width:e,height:t,particles:n}){const r=e/2,s=t/2;for(let o=0;o<500;o++){const i=Math.random()*ke,a=Math.random()*10+5;n.push({x:r,y:s,size:Math.random()*6+2,speedX:Math.cos(i)*a,speedY:Math.sin(i)*a,color:`hsl(${Math.random()*360}, 100%, 50%)`,life:200})}}function yr({width:e,height:t,particles:n}){const r=e/2,s=t/2,o=500;for(let i=r-o/2;i<r+o/2;i+=20)for(let a=s-o/2;a<s+o/2;a+=20)n.push({x:i,y:a,size:Math.random()*4+1,speedX:Math.random()*2-1,speedY:Math.random()*2-1,color:`hsl(${Math.random()*10+25}, 100%, 30%)`,life:200})}function br({width:e,height:t,particles:n}){for(let r=0;r<100;r++)n.push({x:Math.random()*e,y:Math.random()*t,size:Math.random()*5+2,speedX:Math.random()*2-1,speedY:Math.random()*2-1,color:`hsl(${Math.random()*60+120}, 100%, 50%)`,life:200})}function vr({width:e,height:t,particles:n}){for(let r=0;r<200;r++)n.push({x:e/2,y:Math.random()*t,size:Math.random()*5+2,speedX:Math.random()*2-1,speedY:Math.random()*2-1,color:`hsl(${Math.random()*60}, 100%, 50%)`,life:200})}function wr({width:e,height:t,particles:n}){const r=e/2,s=t/2;for(let o=0;o<5;o++){const i=Math.random()*ke/2+ke/5*o;for(let a=0;a<20;a++){const l=Math.random()*100;n.push({x:r,y:s,size:Math.random()*5+2,speedX:Math.cos(i)*l/20,speedY:Math.sin(i)*l/20,color:`hsl(${Math.random()*60+240}, 100%, 50%)`,life:200})}}}function kr({width:e,height:t,particles:n}){for(let r=0;r<300;r++)n.push({x:Math.random()*e,y:Math.random()*t,size:Math.random()*8+2,speedX:Math.random()*8-4,speedY:Math.random()*8-4,color:`hsl(${Math.random()*360}, 100%, 50%)`,life:150})}function Mr({width:e,height:t,particles:n}){const r=e/2;for(let s=0;s<100;s++)n.push({x:Math.random()*e-r,y:Math.random()*t,size:Math.random()*3+1,speedX:Math.random()*15+5,speedY:Math.random()*4-2,color:"rgba(100, 255, 255, 0.7)",life:150})}const Oe=[{name:"Fireball",stroke:"circle",minScore:.2,effect:"fireball",description:"A ball of fire that explodes on impact."},{name:"Dessintegrate",stroke:"x",minScore:.2,effect:"wildMagic",description:"A beam of energy that disintegrates anything in its path."},{name:"Earthen Shield",stroke:"rectangle",minScore:.2,effect:"shield",description:"A shield of earth that protects the caster."},{name:"Lightning Bolt",stroke:"zig-zag",minScore:.2,effect:"lightning",description:"A bolt of lightning that strikes the target."},{name:"Frost Wave",stroke:"triangle",minScore:.2,effect:"frostWave",description:"A wave of frost that freezes the target."},{name:"Wind Gust",stroke:"pigtail",minScore:.2,effect:"wind",description:"A gust of wind that pushes the target."},{name:"Nova Blast",stroke:"hourglass",minScore:.2,effect:"novaBlast",description:"A blast of energy that damages all enemies."},{name:"Missiles",stroke:"arrow",minScore:.2,effect:"missiles",description:"A barrage of missiles that strike the target."},{name:"Healing Light",stroke:"check",minScore:.2,effect:"heal",description:"A light that heals the target."},{name:"Summon Demon",stroke:"pentagram",minScore:.2,effect:"star",description:"A demon that fights for the caster."},{name:"Chronoshift",stroke:"left curly brace",minScore:.2,effect:"wind",description:"A shift in time that slows the target."},{name:"Shadow Step",stroke:"right curly brace",minScore:.2,effect:"shadowStep",description:"A step into the shadows that teleports the caster."},{name:"Pillar of Flame",stroke:"left square bracket",minScore:.2,effect:"pillar",description:"A pillar of flame that burns the target."}],We={triangle:[[100,40],[60,160],[140,160],[100,40]],x:[[60,60],[140,140],[100,100],[140,60],[60,140],[100,100]],rectangle:[[50,75],[150,75],[150,125],[50,125],[50,75]],circle:[[150,100],[147,119],[139,137],[125,150],[106,157],[85,157],[66,150],[50,137],[42,119],[39,100],[42,81],[50,63],[66,50],[85,43],[106,43],[125,50],[139,63],[147,81],[150,100]],check:[[60,110],[90,140],[140,70]],"zig-zag":[[50,125],[75,75],[100,125],[125,75],[150,125]],arrow:[[100,150],[100,70],[80,90],[120,90],[100,70]],"left square bracket":[[120,50],[80,50],[80,150],[120,150]],"right square bracket":[[80,50],[120,50],[120,150],[80,150]],v:[[70,60],[100,140],[130,60]],hourglass:[[70,50],[130,50],[70,150],[130,150],[70,50]],"left curly brace":[[20,20],[21,24],[23,28],[25,32],[28,36],[31,40],[35,43],[38,47],[41,51],[44,55],[46,59],[48,63],[49,67],[50,71],[50,75],[50,79],[50,83],[50,87],[50,91],[50,95],[50,99],[50,103],[50,107],[50,111],[50,115],[50,119],[50,123],[50,127],[50,131],[50,135],[49,139],[48,143],[46,147],[44,151],[41,155],[38,159],[35,163],[31,166],[28,170],[25,174],[23,178],[21,182],[20,186],[20,190],[21,194],[23,198],[25,202],[28,206],[31,210],[35,213]],"right curly brace":[[170,20],[173,22],[175,24],[177,26],[179,28],[180,30],[181,32],[182,34],[183,36],[183,38],[183,40],[183,42],[183,44],[182,46],[181,48],[180,50],[178,52],[176,54],[174,56],[171,58],[168,60],[165,62],[162,64],[159,66],[156,68],[154,70],[152,72],[151,74],[150,76],[150,78],[150,80],[150,82],[150,84],[150,86],[150,88],[150,90],[150,92],[150,94],[150,96],[150,98],[150,100],[150,102],[150,104],[150,106],[150,108],[150,110],[150,112],[150,114],[150,116],[150,118],[150,120],[150,122],[150,124],[150,126],[150,128],[150,130],[151,132],[152,134],[154,136],[156,138],[159,140],[162,142],[165,144],[168,146],[171,148],[174,150],[176,152],[178,154],[180,156],[181,158],[182,160],[183,162],[183,164],[183,166],[183,168],[183,170],[182,172],[181,174],[180,176],[179,178],[177,180],[175,182],[173,184],[170,186],[168,187],[166,188],[163,189],[161,190],[159,191],[157,192],[155,193],[153,194],[152,195],[151,196],[150,197],[150,198],[150,199],[150,200]],trigram:[[100,30],[110,114],[178,165],[100,132],[22,165],[90,114],[100,30]],cross:[[100,10],[110,90],[190,100],[110,110],[100,190],[90,110],[10,100],[90,90],[100,10]],pentagram:[[100,180],[53,35],[176,125],[24,125],[147,35],[100,180]],heptagram:[[100,24],[133,168],[41,53],[174,117],[26,117],[159,53],[67,168],[100,24]],octagram:[[100,24],[154,154],[24,100],[154,46],[100,176],[46,46],[176,100],[46,154],[100,24]],pigtail:[[80,100],[82,96],[84,93],[86,90],[88,87],[90,85],[92,83],[94,82],[96,81],[98,80],[100,80],[102,80],[104,81],[106,82],[108,83],[110,85],[112,87],[114,90],[116,93],[118,96],[120,100]],spiral:[[110,90],[112,91],[113,93],[115,95],[116,97],[116,100],[116,103],[115,106],[113,109],[111,111],[108,113],[105,115],[101,116],[97,116],[93,115],[90,114],[86,112],[83,109],[81,106],[79,102],[78,98],[78,94],[79,90],[80,86],[83,82],[86,79],[90,76],[94,74],[99,73],[104,73],[109,74],[114,76],[118,79],[123,83],[126,88],[129,93],[131,99],[132,105],[131,111],[129,117],[126,122],[122,127],[117,131],[111,134],[104,136],[97,136],[90,135],[83,133],[77,129],[72,124]],diamond:[[100,40],[130,100],[100,160],[70,100],[100,40]],heart:[[100,83],[100,82],[100,82],[100,81],[101,80],[101,78],[102,77],[103,75],[105,73],[107,71],[109,69],[111,67],[114,65],[118,63],[121,61],[125,60],[130,59],[134,59],[138,58],[143,58],[148,59],[152,60],[157,61],[161,63],[165,65],[168,67],[172,69],[174,72],[177,75],[178,78],[179,81],[180,85],[180,88],[179,91],[178,95],[176,98],[174,101],[171,104],[168,108],[164,111],[160,114],[156,117],[151,120],[147,122],[142,125],[138,128],[133,131],[129,133],[125,136],[121,138],[117,141],[114,143],[111,146],[108,148],[106,150],[104,152],[103,154],[102,155],[101,156],[101,158],[100,158],[100,159],[100,159],[100,159],[100,159],[100,159],[100,158],[99,157],[99,156],[98,155],[97,153],[95,151],[93,149],[91,147],[88,145],[85,143],[82,140],[78,138],[74,135],[70,132],[65,130],[61,127],[56,124],[52,121],[47,119],[43,116],[38,113],[35,110],[31,107],[28,103],[25,100],[23,97],[22,94],[20,90],[20,87],[20,84],[21,80],[22,77],[24,74],[27,71],[29,69],[33,66],[37,64],[41,62],[45,61],[49,59],[54,59],[58,58],[63,58],[68,59],[72,59],[76,60],[80,62],[83,63],[87,65],[89,67],[92,69],[94,71],[96,73],[97,75],[98,77],[99,79],[100,80],[100,81],[100,82],[100,82]],pentagon:[[100,50],[135,85],[115,135],[85,135],[65,85],[100,50]],kite:[[100,40],[130,100],[100,160],[70,100],[100,40]],crescent:[[120,100],[119.85,105.22],[119.4,110.42],[118.66,115.59],[117.63,120.71],[116.31,125.77],[114.71,130.75],[112.84,135.63],[110.71,140.39],[108.33,145.03],[105.71,149.51],[102.85,153.83],[99.77,157.97],[96.48,161.91],[92.99,165.63],[89.32,169.11],[85.47,172.33],[81.47,175.29],[77.32,177.95],[73.03,180.32],[68.62,182.36],[64.1,184.08],[59.48,185.46],[54.77,186.49],[50,187.16],[45.17,187.48],[40.3,187.43],[35.41,187.02],[30.51,186.24],[25.6,185.1],[20.71,183.58],[15.85,181.7],[11.03,179.46],[6.27,176.86],[1.57,173.91],[97.43,100],[97.57,95.23],[96.43,90.53],[95.01,85.93],[93.29,81.41],[91.3,76.98],[89.03,72.66],[86.48,68.44],[83.66,64.33],[80.57,60.36],[77.23,56.51],[73.62,52.8],[69.78,49.24],[65.68,45.82],[61.36,42.57],[56.83,39.48],[52.08,36.57],[47.14,33.84],[42,31.29],[36.68,28.94],[31.19,26.79],[25.56,24.84],[19.77,23.1],[13.86,21.58],[7.83,20.27],[1.62,19.18],[1.62,80.82],[7.83,79.73],[13.86,78.42],[19.77,77.22],[25.56,76.16],[31.19,75.21],[36.68,74.39],[42,73.7],[47.14,73.14],[52.08,72.72],[56.83,72.44],[61.36,72.3],[65.68,72.3],[69.78,72.46],[73.62,72.76],[77.23,73.22],[80.57,73.83],[83.66,74.59],[86.48,75.5],[89.03,76.56],[91.3,77.77],[93.29,79.12],[95.01,80.61],[96.43,82.22]],triquetra:[[100,60],[85,100],[100,140],[115,100],[100,60],[80,80],[120,80],[100,60],[80,120],[120,120],[100,140]],infinity:[[70,100],[50,80],[70,60],[100,70],[130,60],[150,80],[130,100],[100,90],[70,100],[50,120],[70,140],[100,130],[130,140],[150,120],[130,100]],chalise:[[85,50],[115,50],[100,100],[80,140],[120,140],[100,160],[100,140]],ankh:[[100,50],[90,70],[100,90],[110,70],[100,50],[100,90],[100,150],[90,170],[110,170],[100,150]],hexagram:[[100,50],[115,80],[85,80],[100,50],[100,150],[85,120],[115,120],[100,150],[70,100],[130,100],[70,100],[85,120],[130,100],[115,120],[85,80],[115,80]],droplet:[[100,50],[120,80],[140,120],[100,160],[60,120],[80,80],[100,50]],pique:[[100,50],[80,90],[70,110],[100,140],[130,110],[120,90],[100,50],[90,140],[110,140],[100,170],[90,160],[110,160],[100,170]],trefle:[[0,0]],keyhole:[[0,0]],"carolingian-cross":[[0,0]]};function xr(e){let t;return{c(){t=Y("Clear all")},m(n,r){C(n,t,r)},d(n){n&&P(t)}}}function Sr(e){let t;return{c(){t=Y("Spellbook")},m(n,r){C(n,t,r)},d(n){n&&P(t)}}}function Er(e){let t;return{c(){t=Y("Strokes")},m(n,r){C(n,t,r)},d(n){n&&P(t)}}}function Pr(e){let t;return{c(){t=Y("Effects")},m(n,r){C(n,t,r)},d(n){n&&P(t)}}}function zr(e){let t,n,r,s,o,i,a,l,c,u,m,$,_,g,d,p,w,A,X,O,S,b,M,q,W,H,ae;return p=new ne({props:{onClick:e[9],$$slots:{default:[xr]},$$scope:{ctx:e}}}),A=new ne({props:{onClick:e[14],$$slots:{default:[Sr]},$$scope:{ctx:e}}}),O=new ne({props:{onClick:e[15],$$slots:{default:[Er]},$$scope:{ctx:e}}}),b=new ne({props:{onClick:e[16],$$slots:{default:[Pr]},$$scope:{ctx:e}}}),{c(){t=y("main"),n=y("canvas"),r=z(),s=y("canvas"),o=z(),i=y("canvas"),a=z(),l=y("aside"),c=y("img"),m=z(),$=y("div"),_=Y(e[4]),g=z(),d=y("div"),T(p.$$.fragment),w=z(),T(A.$$.fragment),X=z(),T(O.$$.fragment),S=z(),T(b.$$.fragment),M=z(),q=y("blockquote"),q.textContent=`${Ar}`,f(n,"id","main-canvas"),f(n,"class","absolute inset-0"),f(s,"id","particle-canvas"),f(s,"class","absolute inset-0 pointer-events-none"),f(i,"id","effect-canvas"),f(i,"class","absolute inset-0 pointer-events-none"),f(t,"id","canvas-container"),f(t,"class","relative flex-1 cursor-cross"),f(c,"id","portrait"),yn(c.src,u="mage.webp")||f(c,"src",u),f(c,"alt","mage"),f(c,"draggable","false"),f(c,"class","shadow-primary rounded-full w-48 h-48 mx-auto border-[3px] border-primary"),f($,"id","comment"),f($,"class","text-xl min-h-16 text-center text-shadow"),f(d,"id","control-buttons"),f(d,"class","flex flex-col gap-2"),f(q,"class","m-0 p-4 rounded italic bg-primary/30"),f(l,"class","p-5 flex flex-col gap-4 flex-[0_0_var(--aside-width)] overflow-y-auto select-none bg-surface border-l-2 border-primary")},m(D,L){C(D,t,L),h(t,n),e[10](n),h(t,r),h(t,s),e[11](s),h(t,o),h(t,i),e[12](i),e[13](t),C(D,a,L),C(D,l,L),h(l,c),h(l,m),h(l,$),h($,_),h(l,g),h(l,d),B(p,d,null),h(d,w),B(A,d,null),h(d,X),B(O,d,null),h(d,S),B(b,d,null),h(l,M),h(l,q),W=!0,H||(ae=[te(n,"mousedown",e[6]),te(n,"touchstart",e[6]),te(n,"mousemove",e[7]),te(n,"touchmove",e[7]),te(n,"mouseup",e[8]),te(n,"touchend",e[8],{passive:!0})],H=!0)},p(D,L){(!W||L[0]&16)&&fe(_,D[4]);const Z={};L[1]&2&&(Z.$$scope={dirty:L,ctx:D}),p.$set(Z);const pe={};L[1]&2&&(pe.$$scope={dirty:L,ctx:D}),A.$set(pe);const se={};L[1]&2&&(se.$$scope={dirty:L,ctx:D}),O.$set(se);const le={};L[1]&2&&(le.$$scope={dirty:L,ctx:D}),b.$set(le)},i(D){W||(k(p.$$.fragment,D),k(A.$$.fragment,D),k(O.$$.fragment,D),k(b.$$.fragment,D),W=!0)},o(D){E(p.$$.fragment,D),E(A.$$.fragment,D),E(O.$$.fragment,D),E(b.$$.fragment,D),W=!1},d(D){D&&(P(t),P(a),P(l)),e[10](null),e[11](null),e[12](null),e[13](null),F(p),F(A),F(O),F(b),H=!1,ge(ae)}}}function Cr(e){let t,n,r,s;return t=new nt({props:{$$slots:{default:[zr]},$$scope:{ctx:e}}}),{c(){T(t.$$.fragment)},m(o,i){B(t,o,i),n=!0,r||(s=te(window,"resize",e[5]),r=!0)},p(o,i){const a={};i[0]&31|i[1]&2&&(a.$$scope={dirty:i,ctx:o}),t.$set(a)},i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){E(t.$$.fragment,o),n=!1},d(o){F(t,o),r=!1,s()}}}const Ar="Happiness can be found, even in the darkest of times, if one only remembers to turn on the light.";function At(e){if(e instanceof MouseEvent)return[e.offsetX,e.offsetY];const t=e.touches[0];return[t.clientX,t.clientY]}function Yr(e,t){return t>=.95?`You cast ${e.name}! Excellent quality!`:t>=.85?`You cast ${e.name}! Great job!`:t>=.75?`Good job! ${e.name} casted!`:t>=.65?`${e.name} casted, but could be better.`:t>=.55?`${e.name} casted, but needs improvement.`:t>=.45?`Meh, ${e.name} must be cleaner.`:t>=.35?`Poor casting of ${e.name}. Try again!`:t>=.25?`Awful casting of ${e.name}. Try harder!`:t>=.15?`Just terrible, even my grandma can cast ${e.name} better`:`You're a disgrace to all wizards. ${e.name} is beyond your abilities.`}function Xr(e,t,n){let r,s,o,i,a,l,c,u="Draw a magical symbol to cast a spell!",m=!1,$=0,_=0,g=[],d=[];const{Recognize:p}=new nr(We);rn(()=>{w(),A()});function w(){[a,l,c].forEach(v=>{v.width=i.offsetWidth,v.height=i.offsetHeight})}function A(){b(),ae(),requestAnimationFrame(A)}function X(v){m=!0;const[N,I]=At(v);[$,_]=[N,I],g.push({x:$,y:_}),H({x:$,y:_,size:3,speedX:4,speedY:4,life:30})}function O(v){if(!r||!m)return;const[N,I]=At(v);r.beginPath(),r.moveTo($,_),r.lineTo(N,I),r.strokeStyle=`hsla(${Vn}, 100%, 50%, 1)`,r.lineWidth=4,r.lineCap="round",r.stroke();const J=$+(N-$),$e=_+(I-_);H({x:J,y:$e,size:3,speedX:4,speedY:4,life:30}),[$,_]=[N,I],g.push({x:N,y:I})}function S(){m=!1,M(g),W(g),g=[]}function b(){if(!a||!r||m)return;const v=r.getImageData(0,0,a.width,a.height),N=v.data;for(let I=3;I<N.length;I+=4)N[I]>0&&(N[I]-=Un);r.putImageData(v,0,0)}function M(v){v.forEach(({x:N,y:I})=>{H({x:N,y:I,size:2,speedX:2,speedY:2,life:50})})}function q(){r==null||r.clearRect(0,0,a.width,a.height),s==null||s.clearRect(0,0,l.width,l.height),o==null||o.clearRect(0,0,c.width,c.height),g=[],d=[],n(4,u="Draw a magical symbol to cast a spell!")}function W(v){if(v.length<Gn)return;const N=p(v,!0);console.info(N);const I=Oe.find(J=>J.stroke===N.Name&&N.Score>=J.minScore);if(!I){n(4,u="You failed to cast a spell!");return}n(4,u=Yr(I,N.Score)),mn(I.effect,c,d)}function H({x:v,y:N,size:I,speedX:J,speedY:$e,life:Se}){d.push({x:v,y:N,size:Math.random()*I+2,speedX:Math.random()*J-J/2,speedY:Math.random()*$e-$e/2,color:`hsl(${Math.random()*60+240}, 100%, 50%)`,life:Se})}function ae(){!l||!s||(s.clearRect(0,0,l.width,l.height),d.forEach((v,N)=>{v.x+=v.speedX,v.y+=v.speedY,v.life--,v.size*=.99,s.fillStyle=v.color,s.beginPath(),s.arc(v.x,v.y,v.size,0,ke),s.fill(),(v.life<=0||v.size<.1)&&d.splice(N,1)}))}function D(v){oe[v?"unshift":"push"](()=>{a=v,n(0,a)})}function L(v){oe[v?"unshift":"push"](()=>{l=v,n(1,l)})}function Z(v){oe[v?"unshift":"push"](()=>{c=v,n(2,c)})}function pe(v){oe[v?"unshift":"push"](()=>{i=v,n(3,i)})}const se=()=>we.set("spellbook"),le=()=>we.set("strokes"),Fe=()=>we.set("effects");return e.$$.update=()=>{e.$$.dirty[0]&1&&(r=a==null?void 0:a.getContext("2d")),e.$$.dirty[0]&2&&(s=l==null?void 0:l.getContext("2d")),e.$$.dirty[0]&4&&(o=c==null?void 0:c.getContext("2d"))},[a,l,c,i,u,w,X,O,S,q,D,L,Z,pe,se,le,Fe]}class Dr extends xe{constructor(t){super(),Me(this,t,Xr,Cr,re,{},null,[-1,-1])}}function Yt(e,t,n){const r=e.slice();return r[12]=t[n][0],r}function Nr(e){let t,n;return{c(){t=y("h2"),t.textContent=`${e[12]}`,n=z(),f(t,"class","mb-2")},m(r,s){C(r,t,s),C(r,n,s)},p:U,d(r){r&&(P(t),P(n))}}}function Xt(e,t){let n,r,s;return r=new ne({props:{onClick:t[4](t[12]),$$slots:{default:[Nr]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=tn(),T(r.$$.fragment),this.first=n},m(o,i){C(o,n,i),B(r,o,i),s=!0},p(o,i){t=o;const a={};i&32768&&(a.$$scope={dirty:i,ctx:t}),r.$set(a)},i(o){s||(k(r.$$.fragment,o),s=!0)},o(o){E(r.$$.fragment,o),s=!1},d(o){o&&P(n),F(r,o)}}}function Rr(e){let t;return{c(){t=Y("Clear canvas")},m(n,r){C(n,t,r)},d(n){n&&P(t)}}}function qr(e){let t;return{c(){t=Y("Back to practice")},m(n,r){C(n,t,r)},d(n){n&&P(t)}}}function Ir(e){let t,n,r,s,o,i,a,l,c,u,m=[],$=new Map,_,g,d,p,w,A,X=De(Object.entries(ut));const O=S=>S[12];for(let S=0;S<X.length;S+=1){let b=Yt(e,X,S),M=O(b);$.set(M,m[S]=Xt(M,b))}return d=new ne({props:{onClick:e[3],$$slots:{default:[Rr]},$$scope:{ctx:e}}}),w=new ne({props:{onClick:e[8],$$slots:{default:[qr]},$$scope:{ctx:e}}}),{c(){t=y("main"),n=y("canvas"),r=z(),s=y("canvas"),o=z(),i=y("aside"),a=y("h1"),a.textContent="Effects",l=z(),c=y("nav"),u=y("div");for(let S=0;S<m.length;S+=1)m[S].c();_=z(),g=y("div"),T(d.$$.fragment),p=z(),T(w.$$.fragment),f(n,"class","absolute inset-0"),f(s,"class","absolute inset-0 pointer-events-none"),f(t,"id","canvas-container"),f(t,"class","relative flex-1"),f(a,"class","text-3xl text-center"),f(u,"class","flex flex-col gap-2"),f(g,"class","flex flex-col gap-2"),f(c,"class","flex flex-col gap-4"),f(i,"id","ui-container"),f(i,"class","p-5 flex flex-col gap-4 flex-[0_0_var(--aside-width)] overflow-y-auto select-none bg-surface border-l-2 border-primary")},m(S,b){C(S,t,b),h(t,n),e[5](n),h(t,r),h(t,s),e[6](s),e[7](t),C(S,o,b),C(S,i,b),h(i,a),h(i,l),h(i,c),h(c,u);for(let M=0;M<m.length;M+=1)m[M]&&m[M].m(u,null);h(c,_),h(c,g),B(d,g,null),h(g,p),B(w,g,null),A=!0},p(S,b){b&16&&(X=De(Object.entries(ut)),de(),m=cn(m,b,O,1,S,X,$,u,qn,Xt,null,Yt),he());const M={};b&32768&&(M.$$scope={dirty:b,ctx:S}),d.$set(M);const q={};b&32768&&(q.$$scope={dirty:b,ctx:S}),w.$set(q)},i(S){if(!A){for(let b=0;b<X.length;b+=1)k(m[b]);k(d.$$.fragment,S),k(w.$$.fragment,S),A=!0}},o(S){for(let b=0;b<m.length;b+=1)E(m[b]);E(d.$$.fragment,S),E(w.$$.fragment,S),A=!1},d(S){S&&(P(t),P(o),P(i)),e[5](null),e[6](null),e[7](null);for(let b=0;b<m.length;b+=1)m[b].d();F(d),F(w)}}}function jr(e){let t,n;return t=new nt({props:{$$slots:{default:[Ir]},$$scope:{ctx:e}}}),{c(){T(t.$$.fragment)},m(r,s){B(t,r,s),n=!0},p(r,[s]){const o={};s&32775&&(o.$$scope={dirty:s,ctx:r}),t.$set(o)},i(r){n||(k(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){F(t,r)}}}function Or(e,t,n){let r,s,o,i=[];rn(()=>{n(1,s.width=r.offsetWidth,s),n(1,s.height=r.offsetHeight,s),n(2,o.width=r.offsetWidth,o),n(2,o.height=r.offsetHeight,o),a()});function a(){l(),requestAnimationFrame(a)}function l(){const d=s==null?void 0:s.getContext("2d");d&&(d.clearRect(0,0,s.width,s.height),i.forEach((p,w)=>{p.x+=p.speedX,p.y+=p.speedY,p.life--,p.size*=.99,d.fillStyle=p.color,d.beginPath(),d.arc(p.x,p.y,p.size,0,ke),d.fill(),(p.life<=0||p.size<.1)&&i.splice(w,1)}))}function c(){const d=s==null?void 0:s.getContext("2d");d==null||d.clearRect(0,0,s.width,s.height);const p=o==null?void 0:o.getContext("2d");p==null||p.clearRect(0,0,o.width,o.height),i=[]}function u(d){return()=>mn(d,o,i)}function m(d){oe[d?"unshift":"push"](()=>{s=d,n(1,s)})}function $(d){oe[d?"unshift":"push"](()=>{o=d,n(2,o)})}function _(d){oe[d?"unshift":"push"](()=>{r=d,n(0,r)})}return[r,s,o,c,u,m,$,_,()=>we.set("canvas")]}class Wr extends xe{constructor(t){super(),Me(this,t,Or,jr,re,{})}}function Dt(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function Nt(e){let t,n,r;return{c(){t=et("polyline"),f(t,"points",n=We[e[1].stroke].join(" ")),f(t,"fill","none"),f(t,"stroke","var(--primary-color)"),f(t,"stroke-width","3"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round")},m(s,o){C(s,t,o)},p(s,o){o&2&&n!==(n=We[s[1].stroke].join(" "))&&f(t,"points",n)},i(s){s&&(r||ie(()=>{r=tt(t,fn,{duration:un}),r.start()}))},o:U,d(s){s&&P(t)}}}function Br(e){let t=e[5].name+"",n;return{c(){n=Y(t)},m(r,s){C(r,n,s)},p:U,d(r){r&&P(n)}}}function Rt(e){let t,n;function r(){return e[3](e[7])}return t=new ne({props:{onClick:r,current:e[7]===e[0],$$slots:{default:[Br]},$$scope:{ctx:e}}}),{c(){T(t.$$.fragment)},m(s,o){B(t,s,o),n=!0},p(s,o){e=s;const i={};o&3&&(i.onClick=r),o&1&&(i.current=e[7]===e[0]),o&256&&(i.$$scope={dirty:o,ctx:e}),t.$set(i)},i(s){n||(k(t.$$.fragment,s),n=!0)},o(s){E(t.$$.fragment,s),n=!1},d(s){F(t,s)}}}function Fr(e){let t;return{c(){t=Y("Back to practice")},m(n,r){C(n,t,r)},d(n){n&&P(t)}}}function Lr(e){let t,n,r,s=e[1].name+"",o,i,a,l,c,u=e[1].name+"",m,$,_,g,d,p,w,A,X,O=e[1],S,b,M=e[1].name+"",q,W,H=e[1].name+"",ae,D,L,Z,pe,se=e[1].name+"",le,Fe,v,N,I,J,$e,Se=e[1].name+"",rt,pt,$t,_e,_t,Le=e[0]+1+"",st,yt,ot,ee,Te,bt,Ee,Pe,vt,ye,He,Ne,K,it,wt,Q=Nt(e),be=De(Oe),j=[];for(let x=0;x<be.length;x+=1)j[x]=Rt(Dt(e,be,x));const gn=x=>E(j[x],1,1,()=>{j[x]=null});return ye=new ne({props:{onClick:e[4],$$slots:{default:[Fr]},$$scope:{ctx:e}}}),{c(){t=y("main"),n=y("div"),r=y("h2"),o=Y(s),i=z(),a=y("div"),l=y("div"),c=y("p"),m=Y(u),$=Y(` is a fundamental chronomancy spell that freezes a target in time. When cast successfully,
            the target becomes immobilized and unaware of the passage of time.`),_=z(),g=y("div"),g.innerHTML='<p><strong class="text-primary">Difficulty:</strong> Novice</p> <p><strong class="text-primary">Energy Cost:</strong> 25</p> <p><strong class="text-primary">Duration:</strong> Up to 1 minute</p> <p><strong class="text-primary">Range:</strong> 30 feet</p>',d=z(),p=y("div"),w=y("div"),A=y("button"),X=et("svg"),Q.c(),S=z(),b=y("p"),q=Y(M),W=Y(` is often considered the cornerstone of chronomancy. Its ability to halt the flow of time
              for a single target makes it invaluable in both combat and non-combat situations. When casting `),ae=Y(H),D=Y(`,
              visualize time as a river flowing around your target. Your goal is to create a perfectly still eddy in
              that river, isolating your target from the timestream.`),L=z(),Z=y("p"),pe=Y("Common applications of "),le=Y(se),Fe=Y(" include:"),v=z(),N=y("ul"),N.innerHTML="<li>Freezing an opponent in combat</li> <li>Preserving a dying creature until healing can be administered</li> <li>Protecting fragile objects during transport</li> <li>Creating &quot;living statues&quot; for artistic or strategic purposes</li>",I=z(),J=y("p"),$e=Y("Warning: overuse of "),rt=Y(Se),pt=Y(` on living beings can have unforeseen consequences. Always release the
              spell carefully, allowing the target to gradually reintegrate with the normal flow of time.`),$t=z(),_e=y("div"),_t=Y("- "),st=Y(Le),yt=Y(" -"),ot=z(),ee=y("aside"),Te=y("h1"),Te.textContent="Spellbook",bt=z(),Ee=y("nav"),Pe=y("div");for(let x=0;x<j.length;x+=1)j[x].c();vt=z(),T(ye.$$.fragment),f(r,"class","text-3xl m-4 text-left text-primary"),f(c,"id","spell-description"),f(c,"class","first-letter:[initial-letter:3] first-letter:text-primary first-letter:pr-2 first-letter:font-serif"),f(g,"class","p-5 rounded-lg bg-primary/5 flex flex-col gap-1 text-base"),f(l,"id","left-page"),f(l,"class","flex flex-col flex-1 gap-8 px-6 text-dark text-lg"),f(X,"width","200"),f(X,"height","200"),f(X,"viewBox","0 0 200 200"),f(X,"fill","none"),f(X,"xmlns","http://www.w3.org/2000/svg"),f(A,"class","ml-4 p-0 float-right rounded-lg bg-primary/5"),f(w,"class","[&>*:not(:last-child)]:mb-8"),f(_e,"id","page-number"),f(_e,"class","text-right text-lg pb-4"),f(p,"id","right-page"),f(p,"class","flex flex-col justify-between flex-1 gap-8 px-6 text-dark text-lg"),f(a,"class","flex h-full"),f(n,"id","book"),f(n,"class","flex flex-col gap-2 p-5 w-[90%] h-[90%] rounded-lg bg-[#eae5de] shadow-glow overflow-y-auto bg-[url('/book.webp')] bg-[size:100%_100%]"),f(t,"class","relative flex flex-1 items-center justify-center"),f(Te,"class","text-3xl text-center"),f(Pe,"id","spells-list"),f(Pe,"class","flex flex-col gap-2"),f(Ee,"class","flex flex-col gap-4"),f(ee,"id","ui-container"),f(ee,"class","p-5 flex flex-col gap-4 flex-[0_0_var(--aside-width)] overflow-y-auto select-none bg-surface border-l-2 border-primary")},m(x,R){C(x,t,R),h(t,n),h(n,r),h(r,o),h(n,i),h(n,a),h(a,l),h(l,c),h(c,m),h(c,$),h(l,_),h(l,g),h(a,d),h(a,p),h(p,w),h(w,A),h(A,X),Q.m(X,null),h(w,S),h(w,b),h(b,q),h(b,W),h(b,ae),h(b,D),h(w,L),h(w,Z),h(Z,pe),h(Z,le),h(Z,Fe),h(w,v),h(w,N),h(w,I),h(w,J),h(J,$e),h(J,rt),h(J,pt),h(p,$t),h(p,_e),h(_e,_t),h(_e,st),h(_e,yt),C(x,ot,R),C(x,ee,R),h(ee,Te),h(ee,bt),h(ee,Ee),h(Ee,Pe);for(let ve=0;ve<j.length;ve+=1)j[ve]&&j[ve].m(Pe,null);h(Ee,vt),B(ye,Ee,null),K=!0,it||(wt=te(A,"click",e[2]),it=!0)},p(x,R){if((!K||R&2)&&s!==(s=x[1].name+"")&&fe(o,s),(!K||R&2)&&u!==(u=x[1].name+"")&&fe(m,u),R&2&&re(O,O=x[1])?(de(),E(Q,1,1,U),he(),Q=Nt(x),Q.c(),k(Q,1),Q.m(X,null)):Q.p(x,R),(!K||R&2)&&M!==(M=x[1].name+"")&&fe(q,M),(!K||R&2)&&H!==(H=x[1].name+"")&&fe(ae,H),(!K||R&2)&&se!==(se=x[1].name+"")&&fe(le,se),(!K||R&2)&&Se!==(Se=x[1].name+"")&&fe(rt,Se),(!K||R&1)&&Le!==(Le=x[0]+1+"")&&fe(st,Le),R&3){be=De(Oe);let G;for(G=0;G<be.length;G+=1){const kt=Dt(x,be,G);j[G]?(j[G].p(kt,R),k(j[G],1)):(j[G]=Rt(kt),j[G].c(),k(j[G],1),j[G].m(Pe,null))}for(de(),G=be.length;G<j.length;G+=1)gn(G);he()}const ve={};R&256&&(ve.$$scope={dirty:R,ctx:x}),ye.$set(ve)},i(x){if(!K){k(Q);for(let R=0;R<be.length;R+=1)k(j[R]);k(ye.$$.fragment,x),x&&ie(()=>{K&&(Ne&&Ne.end(1),He=tt(ee,Pt,{x:400,delay:300}),He.start())}),K=!0}},o(x){E(Q),j=j.filter(Boolean);for(let R=0;R<j.length;R+=1)E(j[R]);E(ye.$$.fragment,x),He&&He.invalidate(),x&&(Ne=ln(ee,Pt,{y:-1e3,delay:0})),K=!1},d(x){x&&(P(t),P(ot),P(ee)),Q.d(x),xn(j,x),F(ye),x&&Ne&&Ne.end(),it=!1,wt()}}}function Tr(e){let t,n;return t=new nt({props:{$$slots:{default:[Lr]},$$scope:{ctx:e}}}),{c(){T(t.$$.fragment)},m(r,s){B(t,r,s),n=!0},p(r,[s]){const o={};s&259&&(o.$$scope={dirty:s,ctx:r}),t.$set(o)},i(r){n||(k(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){F(t,r)}}}function Hr(e,t,n){let r=0,s=Oe[r];return[r,s,()=>n(1,s),l=>{n(0,r=l),n(1,s=Oe[l])},()=>we.set("canvas")]}class Vr extends xe{constructor(t){super(),Me(this,t,Hr,Tr,re,{})}}function qt(e,t,n){const r=e.slice();return r[3]=t[n][0],r[4]=t[n][1],r}function It(e){let t,n;return{c(){t=et("polyline"),f(t,"points",e[4].join(" ")),f(t,"fill","none"),f(t,"stroke","var(--primary-color)"),f(t,"stroke-width","3"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round")},m(r,s){C(r,t,s)},p:U,i(r){r&&(n||ie(()=>{n=tt(t,fn,{duration:un}),n.start()}))},o:U,d(r){r&&P(t)}}}function jt(e,t){let n,r,s=t[0][t[3]],o,i,a,l,c,u=It(t);function m(){return t[1](t[3])}return{key:e,first:null,c(){n=y("button"),r=et("svg"),u.c(),o=z(),i=y("h2"),i.textContent=`${t[3]}`,a=z(),f(r,"width","200"),f(r,"height","200"),f(r,"viewBox","0 0 200 200"),f(r,"fill","none"),f(r,"xmlns","http://www.w3.org/2000/svg"),f(i,"class","mb-2"),f(n,"class","rounded-lg bg-surface"),this.first=n},m($,_){C($,n,_),h(n,r),u.m(r,null),h(n,o),h(n,i),h(n,a),l||(c=te(n,"click",m),l=!0)},p($,_){t=$,_&1&&re(s,s=t[0][t[3]])?(de(),E(u,1,1,U),he(),u=It(t),u.c(),k(u,1),u.m(r,null)):u.p(t,_)},d($){$&&P(n),u.d($),l=!1,c()}}}function Ur(e){let t;return{c(){t=Y("Back to practice")},m(n,r){C(n,t,r)},d(n){n&&P(t)}}}function Gr(e){let t,n,r=[],s=new Map,o,i,a,l,c,u,m,$=De(Object.entries(We));const _=g=>g[3];for(let g=0;g<$.length;g+=1){let d=qt(e,$,g),p=_(d);s.set(p,r[g]=jt(p,d))}return u=new ne({props:{onClick:e[2],$$slots:{default:[Ur]},$$scope:{ctx:e}}}),{c(){t=y("main"),n=y("div");for(let g=0;g<r.length;g+=1)r[g].c();o=z(),i=y("aside"),a=y("h1"),a.textContent="Strokes",l=z(),c=y("nav"),T(u.$$.fragment),f(n,"id","strokes-list"),f(n,"class","p-4 grid grid-cols-4 gap-2"),f(t,"class","flex-1 overflow-y-auto"),f(a,"class","text-3xl text-center"),f(c,"class","flex flex-col gap-4"),f(i,"id","ui-container"),f(i,"class","p-5 flex flex-col gap-4 flex-[0_0_var(--aside-width)] overflow-y-auto select-none bg-surface border-l-2 border-primary")},m(g,d){C(g,t,d),h(t,n);for(let p=0;p<r.length;p+=1)r[p]&&r[p].m(n,null);C(g,o,d),C(g,i,d),h(i,a),h(i,l),h(i,c),B(u,c,null),m=!0},p(g,d){d&1&&($=De(Object.entries(We)),r=cn(r,d,_,1,g,$,s,n,Rn,jt,null,qt));const p={};d&128&&(p.$$scope={dirty:d,ctx:g}),u.$set(p)},i(g){m||(k(u.$$.fragment,g),m=!0)},o(g){E(u.$$.fragment,g),m=!1},d(g){g&&(P(t),P(o),P(i));for(let d=0;d<r.length;d+=1)r[d].d();F(u)}}}function Jr(e){let t,n;return t=new nt({props:{$$slots:{default:[Gr]},$$scope:{ctx:e}}}),{c(){T(t.$$.fragment)},m(r,s){B(t,r,s),n=!0},p(r,[s]){const o={};s&129&&(o.$$scope={dirty:s,ctx:r}),t.$set(o)},i(r){n||(k(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){F(t,r)}}}function Kr(e,t,n){let r={};return[r,i=>n(0,r[i]=!r[i],r),()=>we.set("canvas")]}class Qr extends xe{constructor(t){super(),Me(this,t,Kr,Jr,re,{})}}function Ot(e){let t,n;return t=new Dr({}),{c(){T(t.$$.fragment)},m(r,s){B(t,r,s),n=!0},i(r){n||(k(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){F(t,r)}}}function Wt(e){let t,n;return t=new Vr({}),{c(){T(t.$$.fragment)},m(r,s){B(t,r,s),n=!0},i(r){n||(k(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){F(t,r)}}}function Bt(e){let t,n;return t=new Qr({}),{c(){T(t.$$.fragment)},m(r,s){B(t,r,s),n=!0},i(r){n||(k(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){F(t,r)}}}function Ft(e){let t,n;return t=new Wr({}),{c(){T(t.$$.fragment)},m(r,s){B(t,r,s),n=!0},i(r){n||(k(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){F(t,r)}}}function Zr(e){let t,n,r,s,o,i=e[0]==="canvas"&&Ot(),a=e[0]==="spellbook"&&Wt(),l=e[0]==="strokes"&&Bt(),c=e[0]==="effects"&&Ft();return{c(){i&&i.c(),t=z(),a&&a.c(),n=z(),l&&l.c(),r=z(),c&&c.c(),s=tn()},m(u,m){i&&i.m(u,m),C(u,t,m),a&&a.m(u,m),C(u,n,m),l&&l.m(u,m),C(u,r,m),c&&c.m(u,m),C(u,s,m),o=!0},p(u,[m]){u[0]==="canvas"?i?m&1&&k(i,1):(i=Ot(),i.c(),k(i,1),i.m(t.parentNode,t)):i&&(de(),E(i,1,1,()=>{i=null}),he()),u[0]==="spellbook"?a?m&1&&k(a,1):(a=Wt(),a.c(),k(a,1),a.m(n.parentNode,n)):a&&(de(),E(a,1,1,()=>{a=null}),he()),u[0]==="strokes"?l?m&1&&k(l,1):(l=Bt(),l.c(),k(l,1),l.m(r.parentNode,r)):l&&(de(),E(l,1,1,()=>{l=null}),he()),u[0]==="effects"?c?m&1&&k(c,1):(c=Ft(),c.c(),k(c,1),c.m(s.parentNode,s)):c&&(de(),E(c,1,1,()=>{c=null}),he())},i(u){o||(k(i),k(a),k(l),k(c),o=!0)},o(u){E(i),E(a),E(l),E(c),o=!1},d(u){u&&(P(t),P(n),P(r),P(s)),i&&i.d(u),a&&a.d(u),l&&l.d(u),c&&c.d(u)}}}function es(e,t,n){let r;return wn(e,we,s=>n(0,r=s)),[r]}class ts extends xe{constructor(t){super(),Me(this,t,es,Zr,re,{})}}new ts({target:document.getElementById("app")});
//# sourceMappingURL=index-BfT9z44A.js.map
